{"version":3,"file":"exam.min.js","names":["exports","window","Exam","r","e","n","t","o","i","f","c","require","u","a","Error","code","p","call","length","module","utils","getOrMakeId","el","attr","newId","randomId","ariaAssociate","ariaAttribute","target","ref","evalMediaQueryList","mql","media","matches","useHighContrast","stored","localStorage","getItem","matchMedia","highContrastTheme","enabled","exercises","$","addClass","removeClass","setItem","init","on","hasClass","each","question","find","ariaLabelledBy","labelEl","ariaDescribedBy","accessibility","attempt","autocomplete","login","sections","status","config","timelimitTimer","timelimit","Number","POSITIVE_INFINITY","timerIsShown","progressEl","Shiny","addCustomMessageHandler","gracePeriod","active","show","trigger","Date","clearTimeout","updateTimeLeft","console","warn","section_navigation","submitCurrentSection","uiSoftTimeout","uiHardTimeout","hide","remove","setContext","toBase10","val","toString","msLeft","timerEl","isNaN","hrsLeft","Math","floor","minLeft","secLeft","children","text","fixMainOffset","setTimeout","timeoutMsg","getMessage","showErrorDialog","title","body","JSON","parse","progressMsg","sectionProgress","section","replace","totalSections","timerHtml","timer","progressive","haveTimelimit","html","combined","append","progressbar","progressbarEl","updateSection","currentSectionNr","width","round","kModifierKeyNone","kModifierKeyCtrl","kModifierKeyAlt","kModifierKeyShift","kModifierKeyMeta","kKeycodeTab","kKeycodeSpace","autocompleteTimerId","aceAutocompleteCallback","modifierCombination","event","ctrlKey","altKey","metaKey","shiftKey","customRCompleter","insertMatch","editor","data","ranges","selection","getAllRanges","filterLength","completer","completions","filterText","start","column","session","execCommand","caption","is_function","navigateLeft","suggestions","map","item","value","score","meta","filter","x","isPopupOpen","popup","isOpen","getCompletions","position","_","callback","getTextRange","row","end","priority","setInputValue","label","exerciseLabel","initializeExerciseAutocomplete","exercise","exerciseOptions","startAutocomplete","onChangeCallback","action","lines","pos","getCursorPosition","line","getLine","test","delayMs","off","completers","push","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","keyBinding","addKeyboardHandler","handleKeyboard","autocompleteKeyboardHandler","hash","keyString","keyCode","modifierCombo","activated","command","kMinLines","kMaxDefaultLines","kThemeMonochrome","kThemeDefault","kRetryUpdateHeightDelay","currentTheme","exerciseRunButtonEnabled","attachAceEditor","id","ace","edit","setHighlightActiveLine","setShowPrintMargin","setShowFoldWidgets","setBehavioursEnabled","renderer","setDisplayIndentGuides","setTheme","$blockScrolling","Infinity","setMode","getSelection","clearSelection","setValue","exerciseRunning","outputContainer","running","toggleShim","prop","initializeExerciseEditor","detach","codeLines","split","max","min","repeat","editorId","inputId","pointsLabel","points","messageStrings","exercisePanel","buttonLabel","notYetRun","outputTitle","exerciseEditor","inputLabel","runCodeButton","triggerClick","setFontSize","parseFloat","css","commands","addCommand","name","bindKey","win","mac","exec","updateAceHeight","minLines","maxLines","focus","options","evaluate","parents","autoRetry","resize","container","height","initializeEditorBindings","inputBindings","InputBinding","extend","scope","getId","subscribe","forceSubmit","unsubscribe","getValue","getSession","timestamp","getTime","register","outputBindings","OutputBinding","outputId","renderValue","result","footerClass","status_class","renderError","error","message","clearError","context","correctIcon","incorrectIcon","addCommentLabel","removeCommentLabel","numFormat","Intl","NumberFormat","undefined","signDisplay","style","minimumSignificantDigits","maximumSignificantDigits","feedbackRenderer","shinyRenderDelay","saveFeedbackDelay","attemptSelectorId","userSelectorId","userSelectGroup","currentAttemptId","centerEl","refreshContentEvents","runAfterUpdate","input","func","callbackTimer","one","disableUi","document","attemptChanged","sel","userChanged","toggleUserNavigationButtons","nextUsers","findNextUsers","userSel","currentOption","prev","next","gotoNextUser","which","type","btnText","startsWith","updateAttemptSelector","attempts","current","at","finishedAt","formatDate","startedAt","join","resetMessages","grading","showAll","rightInputGroup","attemptLabel","change","users","user","displayName","gradesDownloadUrl","allAttempts","userId","feedbackMap","Object","fromEntries","feedback","qid","totalPoints","awardedPoints","selector","maxPoints","NaN","questionFooter","card","footer","appendTo","saveFeedbackCallback","debounce","comment","pointsChanged","numVal","saveFeedback","commentChanged","toggleCommentVisible","toggleBtn","commentsInputGroup","commentsBtn","hiddenComment","renderDefaultFeedback","solution","solutionLabel","badge","pointsInputId","commentInputId","parent","saveFeedbackDebounced","outof","commentLabel","commentHtml","renderMathJax","answer","removeAttr","cbs","forEach","cb","weight","weightStr","format","correctValues","Set","has","prepend","setReadOnly","updateGrading","gradingData","feedbackShown","toggleFeedback","btn","prepareQuestion","pointsEl","placeholder","pointsInput","feedbackBtn","feedbackLabel","disableNumberInputDefaults","startGrading","disableProgress","statusContainer","studentNameInputId","attemptInputId","kEnterKey","dialogTitleId","dialogContentId","dialogContainer","btnLabel","formEl","inputs","invalidFeedbackId","emptyError","prependTo","modal","keyboard","backdrop","keypress","first","allOk","values","get","stopImmediatePropagation","errorMsg","errorTitle","kDebounceEditorChange","kDelaySetMcQuestion","onMcChange","extra","autofill","delegateTarget","store","ind","attemptStorage","loadFromAttemptStorage","keys","key","allItemsPresent","inputEl","qlabel","removeItem","storeEditorValue","restoreFromStorage","kRecalculatedDelay","currentSectionEl","currentSection","sectionsConfig","actualSections","clear","location","search","attempt_is_finished","outputElements","order","checkAnswers","mandatoryQuestions","missing","okay","q","mandatoryError","scrollIntoView","hideLastSection","last","slice","messages","defaultContext","currentContext","dialogContainerTitle","dialogContainerContent","dialogContainerFooter","statusMessageEl","condition","content","button","triggerId","triggerEvent","triggerDelay","parseTimestamp","outerHeight","parseInt","closeBtn","reload","what","where","arrowKeyUp","arrowKeyDown","lang","examMetadata","EXAMINR_EXAM_METADATA","preventDefault","attemptStoragePrefix","version","generateRandomId","prefix","random","initNumericInputs","numRegexp","feedbackId","newVal","after","stringify","attemptStoragePrefixStr","substring","toLocaleString","delay","immediately","args","arguments","requireRetry","apply","timerId","setInterval","clearInterval","numberInputs","fun","wait","immediate","delayed","callImmediately","triggerMathJax","isDummy","MathJax","startup","promise","then","typesetPromise","catch","err","spinOverlay","op","offsetParent","define","acequire","isDark","cssClass","cssText","dom","importCssString","TRANSITION_END","MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","match","toLowerCase","getSpecialTransitionEndEvent","bindType","delegateType","handle","$__default","is","handleObj","handler","transitionEndEmulator","duration","_this","called","Util","triggerTransitionEnd","setTransitionEndSupport","fn","emulateTransitionEnd","special","getUID","getElementById","getSelectorFromElement","element","getAttribute","hrefAttr","trim","querySelector","getTransitionDurationFromElement","transitionDuration","transitionDelay","floatTransitionDuration","floatTransitionDelay","reflow","offsetHeight","supportsTransitionEnd","Boolean","isElement","nodeType","typeCheckConfig","componentName","configTypes","property","prototype","hasOwnProperty","expectedTypes","valueType","RegExp","toUpperCase","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","parentNode","jQueryDetection","TypeError","jquery","minMajor","ltMajor","minMinor","minPatch","maxMajor","_extends","assign","source","NAME","VERSION","EVENT_KEY","DATA_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","ESCAPE_KEYCODE","Default","DefaultType","EVENT_HIDE","EVENT_HIDE_PREVENTED","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_FOCUSIN","EVENT_RESIZE","EVENT_CLICK_DISMISS","EVENT_KEYDOWN_DISMISS","EVENT_MOUSEUP_DISMISS","EVENT_MOUSEDOWN_DISMISS","EVENT_CLICK_DATA_API","CLASS_NAME_SCROLLABLE","CLASS_NAME_SCROLLBAR_MEASURER","CLASS_NAME_BACKDROP","CLASS_NAME_OPEN","CLASS_NAME_FADE","CLASS_NAME_SHOW","CLASS_NAME_STATIC","SELECTOR_DIALOG","SELECTOR_MODAL_BODY","Modal","_config","_getConfig","_element","_dialog","_backdrop","_isShown","_proto","toggle","relatedTarget","_isTransitioning","showEvent","Event","_setEscapeEvent","_setResizeEvent","SELECTOR_DATA_DISMISS","_ignoreBackdropClick","_showBackdrop","_showElement","hideEvent","isDefaultPrevented","transition","Util__default","_this2","_hideModal","removeData","_scrollbarWidth","handleUpdate","_adjustDialog","_triggerBackdropTransition","hideEventPrevented","overflowY","classList","add","modalTransitionDuration","_this3","isModalOverflowing","_this4","modalBody","Node","ELEMENT_NODE","appendChild","setAttribute","scrollTop","_enforceFocus","shownEvent","transitionComplete","_this5","_this6","_this7","removeAttribute","_this8","_resetAdjustments","_removeBackdrop","_this9","createElement","animate","currentTarget","backdropTransitionDuration","callbackRemove","_backdropTransitionDuration","_isBodyOverflowing","paddingLeft","paddingRight","getBoundingClientRect","rect","left","right","innerWidth","_setScrollbar","_this10","fixedContent","querySelectorAll","SELECTOR_FIXED_CONTENT","stickyContent","SELECTOR_STICKY_CONTENT","actualPadding","calculatedPadding","actualMargin","marginRight","calculatedMargin","_resetScrollbar","padding","elements","index","margin","_getScrollbarWidth","scrollDiv","className","removeChild","scrollbarWidth","_this11","tagName","$target","_jQueryInterface","Constructor"],"sources":["../../srcwww/_header.js","exam.browserify.js","../../srcwww/ace-monochrome.js","../../srcwww/lib/bootstrap/src/util.js","../../srcwww/lib/bootstrap/src/modal.js"],"sourcesContent":["if (typeof exports === 'undefined') {\n  window.exports = window.Exam = null\n}\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict'\n// const $ = require('jquery')\nconst utils = require('./utils')\n\nfunction getOrMakeId (el) {\n  if (el.attr('id')) {\n    return el.attr('id')\n  }\n  const newId = utils.randomId('aria-el-')\n  el.attr('id', newId)\n  return newId\n}\n\nfunction ariaAssociate (ariaAttribute, target, ref) {\n  target.attr('aria-' + ariaAttribute, getOrMakeId(ref))\n}\n\n/**\n * Determine if the given media query list is (a) not supported or (b) matches.\n * @param {MediaQueryList} mql\n */\nfunction evalMediaQueryList (mql) {\n  return (mql.media === 'not all') || mql.matches\n}\n\nfunction useHighContrast () {\n  const stored = window.localStorage.getItem('examinrHighContrast')\n  if (stored === null) {\n    // Determine based on the user-agent settings.\n    return !(evalMediaQueryList(window.matchMedia('not speech')) &&\n      evalMediaQueryList(window.matchMedia('(monochrome: 0)')) &&\n      evalMediaQueryList(window.matchMedia('(forced-colors: none)')) &&\n      evalMediaQueryList(window.matchMedia('(inverted-colors: none)')) &&\n      evalMediaQueryList(window.matchMedia('not (prefers-contrast: more)')))\n  }\n  return (stored !== 'no')\n}\n\n/**\n* Enable or disable the high-contrast theme. If the argument is missing, the theme is determined based\n* on the user's preference or the user-agent settings.\n*\n* @param {boolean|undefined} enabled\n*/\nfunction highContrastTheme (enabled) {\n  const exercises = require('./exercises')\n  if (enabled !== true && enabled !== false) {\n    enabled = useHighContrast()\n  }\n  if (enabled) {\n    enabled = true\n    $('html').addClass('high-contrast')\n  } else {\n    $('html').removeClass('high-contrast')\n    enabled = false\n  }\n  window.localStorage.setItem('examinrHighContrast', enabled ? 'yes' : 'no')\n  exercises.highContrastTheme(enabled)\n}\n\nmodule.exports = {\n  init: function () {\n    $('a:empty').attr('aria-hidden', 'true')\n    highContrastTheme()\n    $('.btn-high-contrast').on(\"click\", function () {\n      highContrastTheme(!$('html').hasClass('high-contrast'))\n    })\n\n    // add labels to question containers and hide labels from UI if requested\n    $('.examinr-question').each(function () {\n      const question = $(this)\n      question.find('.hide-label .control-label').addClass('sr-only')\n      ariaAssociate('labelledby', question, question.find('.card-header'))\n    })\n  },\n\n  /**\n   * Enable or disable the high-contrast theme. If the argument is missing, the theme is determined based\n   * on the user's preference or the user-agent settings.\n   *\n   * @param {boolean|undefined} enabled\n   */\n  highContrastTheme: highContrastTheme,\n\n  ariaAssociate: ariaAssociate,\n\n  ariaLabelledBy: function (el, labelEl) {\n    ariaAssociate('labelledby', el, labelEl)\n  },\n\n  ariaDescribedBy: function (el, labelEl) {\n    ariaAssociate('describedby', el, labelEl)\n  }\n}\n\n},{\"./exercises\":5,\"./utils\":12}],2:[function(require,module,exports){\n// const $ = require('jquery')\nconst accessibility = require('./accessibility')\nconst attempt = require('./attempt')\nconst autocomplete = require('./autocomplete')\nconst exercises = require('./exercises')\nconst login = require('./login')\nconst sections = require('./section_navigation')\nconst status = require('./status')\nconst utils = require('./utils')\n\nrequire('./feedback')\nrequire('./grading')\n\n$(function () {\n  utils.init()\n  status.init()\n  accessibility.init()\n  login.init()\n  attempt.init()\n  exercises.init()\n  autocomplete.init()\n  sections.init()\n\n  window.Exam = {\n    utils: utils\n  }\n})\n\n\n},{\"./accessibility\":1,\"./attempt\":3,\"./autocomplete\":4,\"./exercises\":5,\"./feedback\":6,\"./grading\":7,\"./login\":8,\"./section_navigation\":10,\"./status\":11,\"./utils\":12}],3:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst status = require('./status')\nlet config = {}\nlet timelimitTimer\nlet timelimit = Number.POSITIVE_INFINITY\nlet timerIsShown = false\n\nconst progressEl = $('<div class=\"examinr-progress\" role=\"status\"></div>')\n\n/** Update the current attempt information.\n *\n * @param {object} attempt an object with the following properties:\n *   - {boolean} active whether there is an active attempt.\n *   - {integer} timelimit the timestamp (in seconds) when the current attempt is closed.\n */\nShiny.addCustomMessageHandler('__.examinr.__-attemptStatus', function (attempt) {\n  if (attempt.gracePeriod) {\n    config.gracePeriod = attempt.gracePeriod\n  }\n  if (attempt) {\n    if (attempt.active) {\n      // window.console.debug('Attempt is active:', attempt)\n      $('main').show().trigger('shown')\n      progressEl.show()\n\n      if (attempt.timelimit !== 0 && (!attempt.timelimit || attempt.timelimit === 'Inf')) {\n        attempt.timelimit = Number.POSITIVE_INFINITY\n      }\n      try {\n        timelimit = new Date(attempt.timelimit * 1000)\n        if (timelimitTimer) {\n          window.clearTimeout(timelimitTimer)\n          timelimitTimer = false\n        }\n        updateTimeLeft()\n      } catch (e) {\n        window.console.warn('Cannot set timelimit for current attempt:', e)\n        timelimit = Number.POSITIVE_INFINITY\n      }\n    } else if (attempt.status == 'soft_timeout') {\n      const section_navigation = require('./section_navigation')\n      // The server allows us to send a final update before forcing the timeout.\n      section_navigation.submitCurrentSection()\n      uiSoftTimeout()\n    } else {\n      uiHardTimeout()\n    }\n  } else {\n    // window.console.debug('Attempt is inactive.')\n    $('main').hide()\n    status.remove(progressEl)\n    status.setContext()\n  }\n})\n\nfunction toBase10 (val) {\n  return (val >= 10 ? val.toString(10) : '0' + val.toString(10))\n}\n\n/**\n * Update the \"time left\" status.\n */\nfunction updateTimeLeft () {\n  let msLeft = timelimit === Number.POSITIVE_INFINITY ? Number.POSITIVE_INFINITY : timelimit - new Date()\n  const timerEl = progressEl.find('.examinr-timer')\n\n  if (!isNaN(msLeft) && msLeft < Number.POSITIVE_INFINITY) {\n    if (msLeft < 1 && msLeft > -1000 * (config.gracePeriod || 1)) {\n      msLeft = 0\n    }\n    if (msLeft >= 0) {\n      const hrsLeft = Math.floor(msLeft / 3600000)\n      const minLeft = Math.floor((msLeft % 3600000) / 60000)\n      const secLeft = Math.floor((msLeft % 60000) / 1000)\n\n      if (hrsLeft > 0) {\n        timerEl.children('.hrs').removeClass('ignore').text(toBase10(hrsLeft))\n      } else {\n        timerEl.children('.hrs').addClass('ignore').text('00')\n      }\n      timerEl.children('.min').text(toBase10(minLeft))\n      if (hrsLeft > 0 || minLeft >= 10) {\n        timerEl.children('.min').addClass('nosec')\n        timerEl.children('.sec').hide()\n      } else {\n        timerEl.children('.min').removeClass('nosec')\n        timerEl.children('.sec').show().text(toBase10(secLeft))\n      }\n      timerEl.show()\n\n      if (!timerIsShown) {\n        status.fixMainOffset()\n        timerIsShown = true\n      }\n\n      if (hrsLeft > 0 || minLeft >= 12) {\n        timelimitTimer = window.setTimeout(updateTimeLeft, 60000) // call every minute\n      } else {\n        if (minLeft < 5) {\n          status.setContext('danger')\n        } else if (minLeft < 10) {\n          status.setContext('warning')\n        }\n        timelimitTimer = window.setTimeout(updateTimeLeft, 1000) // call every second\n      }\n    } else if (msLeft > -2000 * (config.gracePeriod || 5)) {\n      // Soft-timeout. Wait for at least two grace periods, or 10 seconds\n      timelimitTimer = window.setTimeout(updateTimeLeft, 1000) // call every second\n    } else {\n      uiHardTimeout()\n    }\n  } else {\n    timerEl.hide()\n  }\n}\n\nfunction uiHardTimeout () {\n  // Time is up. Destroy the interface.\n  $('main').remove()\n  uiSoftTimeout()\n}\n\nfunction uiSoftTimeout () {\n  const timeoutMsg = status.getMessage('attemptTimeout')\n  status.showErrorDialog(timeoutMsg.title, timeoutMsg.body, 'none')\n}\n\nmodule.exports = {\n  init: function () {\n    config = JSON.parse($('script.examinr-attempts-config').remove().text() || '{}')\n    const progressMsg = status.getMessage('progress')\n\n    if (progressMsg) {\n      // replace the following format strings:\n      // - \"{section_nr}\" with an element holding the current section number\n      // - \"{total_sections}\" with an element holding the total number of sections\n      // - \"{time_left}\" with an element holding the time left\n      const sectionProgress = progressMsg.section\n        .replace('{section_nr}', '<span class=\"examinr-section-nr\">1</span>')\n        .replace('{total_sections}', '<span class=\"examinr-total-sections\">' + (config.totalSections || 1) +\n                  '</span>')\n      const timerHtml = progressMsg.timer\n        .replace('{time_left}', '<span class=\"examinr-timer\" role=\"timer\">' +\n                                  '<span class=\"hrs\">??</span>' +\n                                  '<span class=\"min\">??</span>' +\n                                  '<span class=\"sec\"></span>' +\n                                '</span>')\n\n      if (config.progressive || config.haveTimelimit) {\n        if (config.progressive && config.haveTimelimit) {\n          progressEl.html(progressMsg.combined\n            .replace('{section}', sectionProgress)\n            .replace('{timer}', timerHtml))\n        } else if (config.progressive) {\n          progressEl.html(sectionProgress)\n        } else if (config.haveTimelimit) {\n          progressEl.html(timerHtml)\n        }\n\n        status.append(progressEl)\n        updateTimeLeft()\n      }\n    }\n\n    if (config.progressbar) {\n      const progressbarEl = $(\n        '<div class=\"progress\">' +\n          '<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"' +\n            config.totalSections + '\" style=\"min-width: 2em;\">' +\n          '</div>' +\n        '</div>')\n      status.append(progressbarEl)\n    }\n  },\n\n  /**\n   * Update the current section number.\n   * @param {int} currentSectionNr the current section number\n   */\n  updateSection: function (currentSectionNr) {\n    if (!currentSectionNr || isNaN(currentSectionNr) || currentSectionNr < 0 ||\n        currentSectionNr > config.totalSections) {\n      progressEl.hide()\n    } else {\n      progressEl.show().find('.examinr-section-nr').text(currentSectionNr)\n      if (config.progressbar) {\n        progressEl.find('.progress-bar')\n          .attr('aria-valuenow', currentSectionNr)\n          .width(Math.round(100 * currentSectionNr / config.totalSections) + '%')\n      }\n    }\n  }\n}\n\n},{\"./section_navigation\":10,\"./status\":11}],4:[function(require,module,exports){\n/*\n* Some parts of this file are dervied from the learnr project, which is licensed under the Apache 2.0 license.\n* Original work Copyright 2019 RStudio\n* Derived work Copyright 2020 David Kepplinger\n*/\n\n'use strict'\n\n// const $ = require('jquery')\n\nconst kModifierKeyNone = 0\nconst kModifierKeyCtrl = 1\nconst kModifierKeyAlt = 2\nconst kModifierKeyShift = 4\nconst kModifierKeyMeta = 8\nconst kKeycodeTab = 9\nconst kKeycodeSpace = 32\nvar autocompleteTimerId\nvar aceAutocompleteCallback = function () {}\n\nfunction modifierCombination (event) {\n  return kModifierKeyNone |\n      (event.ctrlKey ? kModifierKeyCtrl : 0) |\n      (event.altKey ? kModifierKeyAlt : 0) |\n      (event.metaKey ? kModifierKeyMeta : 0) |\n      (event.shiftKey ? kModifierKeyShift : 0)\n}\n\nconst customRCompleter = {\n  insertMatch: function (editor, data) {\n    // remove prefix\n    const ranges = editor.selection.getAllRanges()\n    const filterLength = editor.completer.completions.filterText.length\n    for (var i = 0; i < ranges.length; i++) {\n      ranges[i].start.column -= filterLength\n      editor.session.remove(ranges[i])\n    }\n\n    // insert completion term (add parentheses for functions)\n    editor.execCommand('insertstring', data.caption)\n\n    // move cursor backwards for functions\n    if (data.is_function) {\n      editor.navigateLeft(1)\n    }\n  }\n}\n\n// this message handler is called when new autocomplete results are available.\nShiny.addCustomMessageHandler('__.examinr.__-autocomplete', function (suggestions) {\n  const completions = suggestions.map(function (item) {\n    // Items are an array of the form [namespace (str), symbol (str), isFunction (bool)]\n    if (!item || !item[1]) {\n      return null\n    }\n    return {\n      caption: item[1] + (item[2] ? '()' : ''),\n      value: item[1],\n      score: 0,\n      meta: item[0] ? ('{' + item[0] + '}') : '',\n      is_function: item[2],\n      completer: customRCompleter\n    }\n  }).filter(x => x)\n  aceAutocompleteCallback(null, completions)\n})\n\nfunction isPopupOpen (editor) {\n  return editor.completer && editor.completer.popup && editor.completer.popup.isOpen\n}\n\nfunction getCompletions (editor, session, position, _, callback) {\n  // send autocompletion request with all the code up to cursor position\n  // (done to enable multi-line autocompletions)\n  const code = session.getTextRange({\n    start: { row: 0, column: 0 },\n    end: position\n  })\n\n  // If the popup is not open, force a Shiny input event, otherwise only if the code changed.\n  const priority = isPopupOpen(editor) ? 'value' : 'event'\n\n  // this will be called when the Shiny message is received\n  aceAutocompleteCallback = callback\n  // update the input value for the autocomplete input\n  Shiny.setInputValue('__.examinr.__-autocomplete', {\n    code: code,\n    label: editor.exerciseLabel\n  }, { priority: priority })\n}\n\n// Initialize autocomplete for the exercise.\n// Return false if the exercise does not need autocomplete, true otherwise.\nfunction initializeExerciseAutocomplete () {\n  const exercise = $(this)\n  if (exercise.data('options').autocomplete !== true) {\n    return\n  }\n\n  // Initialize the editor for autocomplete\n\n  const editor = exercise.data('editor')\n  const exerciseOptions = exercise.data('options')\n\n  const startAutocomplete = function () {\n    editor.execCommand('startAutocomplete')\n  }\n\n  const onChangeCallback = function (data) {\n    // use only a single autocompleter at a time!\n    clearTimeout(autocompleteTimerId)\n\n    data = data || {}\n    if (data.action !== 'insert' || !data.lines || !data.lines.length || data.lines.length > 1) {\n      return\n    }\n    // NOTE: Ace has already updated the document line at this point\n    // so we can just look at the state of that line\n    const pos = editor.getCursorPosition()\n    const line = editor.session.getLine(pos.row)\n\n    // NOTE: we allow new autocompletion sessions following a\n    // ':' insertion just to enable cases where the user is\n    // typing e.g. 'stats::rnorm()' while the popup is visible\n    if (isPopupOpen(editor) && !/::$/.test(line)) {\n      return\n    }\n\n    // figure out appropriate delay -- want to autocomplete\n    // immediately after a '$' or '@' insertion, but need to\n    // execute on timeout to allow Ace to finish processing\n    // events (if any)\n    const delayMs = /[$@]$|::$/.test(line) ? 10 : 300\n    autocompleteTimerId = setTimeout(startAutocomplete, delayMs)\n  }\n\n  editor.on('change', onChangeCallback)\n  editor.on('destroy', function () {\n    editor.off(onChangeCallback)\n  })\n\n  editor.exerciseLabel = exerciseOptions.label\n\n  editor.completers = editor.completers || []\n  editor.completers.push({ getCompletions: getCompletions })\n  editor.setOptions({\n    enableBasicAutocompletion: true,\n    enableLiveAutocompletion: false\n  })\n  editor.keyBinding.addKeyboardHandler({ handleKeyboard: autocompleteKeyboardHandler })\n}\n\nfunction autocompleteKeyboardHandler (data, hash, keyString, keyCode, event) {\n  if (hash !== -1 && data.editor) {\n    const modifierCombo = modifierCombination(event)\n    if ((keyCode === kKeycodeSpace && modifierCombo === kModifierKeyCtrl) ||\n        (keyCode === kKeycodeTab && modifierCombo === kModifierKeyNone &&\n          (!data.editor.completer || !data.editor.completer.activated))) {\n      // cancel any pending autocomplete\n      clearTimeout(autocompleteTimerId)\n      if (isPopupOpen(data.editor)) {\n        data.editor.completer.popup.hide()\n        return { command: 'null' }\n      } else {\n        return { command: 'startAutocomplete' }\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  init: function () {\n    $('.examinr-exercise').each(initializeExerciseAutocomplete)\n  }\n}\n\n},{}],5:[function(require,module,exports){\n/*\n* Some parts of this file are dervied from the learnr project, which is licensed under the Apache 2.0 license.\n* Original work Copyright 2019 RStudio\n* Derived work Copyright 2020 David Kepplinger\n*/\n\n'use strict'\n// const $ = require('jquery')\nconst utils = require('./utils')\nconst status = require('./status')\n\nconst kMinLines = 5\nconst kMaxDefaultLines = 20\nconst kThemeMonochrome = 'ace/theme/monochrome'\nconst kThemeDefault = 'ace/theme/textmate'\nconst kRetryUpdateHeightDelay = 250\n\nlet currentTheme = kThemeMonochrome\nlet exerciseRunButtonEnabled = true\n\nfunction attachAceEditor (id, code) {\n  const editor = ace.edit(id)\n  editor.setHighlightActiveLine(false)\n  editor.setShowPrintMargin(false)\n  editor.setShowFoldWidgets(false)\n  editor.setBehavioursEnabled(true)\n  editor.renderer.setDisplayIndentGuides(false)\n  editor.setTheme(currentTheme)\n  editor.$blockScrolling = Infinity\n  editor.session.setMode('ace/mode/r')\n  editor.session.getSelection().clearSelection()\n  editor.setValue(code, -1)\n  return editor\n}\n\nfunction exerciseRunning (outputContainer, running) {\n  if (typeof running === 'undefined') {\n    running = !exerciseRunButtonEnabled\n  }\n\n  utils.toggleShim(outputContainer, running)\n  exerciseRunButtonEnabled = (running === false)\n  $('.examinr-run-button').prop('disabled', !exerciseRunButtonEnabled)\n}\n\nfunction initializeExerciseEditor () {\n  const accessibility = require('./accessibility')\n\n  const exercise = $(this)\n  const exerciseOptions = JSON.parse(exercise.children('script[type=\"application/json\"]').detach().text() || '{}')\n  let code = ''\n  exercise.children('pre').each(function () {\n    code += $(this).children('code').text() + '\\n'\n  }).remove()\n\n  const codeLines = code.split(/\\r?\\n/).length\n\n  const lines = (exerciseOptions.lines ? Math.max(1, exerciseOptions.lines)\n    : Math.min(Math.max(kMinLines, codeLines), kMaxDefaultLines))\n\n  if (codeLines < lines) {\n    code += '\\n'.repeat(lines - codeLines)\n  }\n\n  const editorId = exerciseOptions.inputId + '-editor'\n  const pointsLabel = exerciseOptions.points\n    ? '<span class=\"examinr-points badge badge-secondary\">' + exerciseOptions.points + '</span>'\n    : ''\n\n  const messageStrings = status.getMessage('exercise') || {}\n\n  const exercisePanel = $('<div class=\"card\">' +\n    '<h6 class=\"card-header\">' + (exerciseOptions.title || '') + pointsLabel + '</h6>' +\n    '<div class=\"card-body\">' +\n      '<div id=\"' + editorId + '\" class=\"examinr-exercise-editor\" role=\"textbox\" contenteditable=\"true\" ' +\n          'aria-multiline=\"true\" tabindex=0 ></div>' +\n    '</div>' +\n    '<div class=\"card-footer text-muted\">' +\n      '<button type=\"button\" class=\"btn btn-secondary btn-sm examinr-run-button float-right\">' +\n        '<span class=\"icon\"><svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-play-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><path d=\"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z\"/></svg></span>' +\n        exerciseOptions.buttonLabel +\n      '</button>' +\n      '<div class=\"examinr-exercise-status\">' + messageStrings.notYetRun + '</div>' +\n    '</div>' +\n  '</div>')\n\n  const outputContainer = $('<div class=\"examinr-exercise-output card bg-light\">' +\n    (messageStrings.outputTitle\n      ? ('<div class=\"card-header text-muted small\">' + messageStrings.outputTitle + '</div>')\n      : '') +\n    '<div class=\"card-body p-3\" role=\"status\"></div>' +\n  '</div>')\n  const exerciseEditor = exercise.find('#' + editorId)\n\n  exercise.append(exercisePanel).append(outputContainer)\n\n  // make exercise more accessible\n  accessibility.ariaLabelledBy(exercise, exercisePanel.find('.card-header'))\n  accessibility.ariaAssociate('controls', exercisePanel.find('.examinr-run-button'), outputContainer.find('.card-body'))\n  exerciseEditor.attr('aria-label', exerciseOptions.inputLabel)\n  exerciseEditor.children().attr('aria-hidden', 'true')\n\n  if (!messageStrings.notYetRun) {\n    exercise.find('.examinr-exercise-status').hide()\n  } else {\n    accessibility.ariaDescribedBy(exercisePanel, exercise.find('.examinr-exercise-status'))\n  }\n  exercise.find('.examinr-exercise-output').hide()\n\n  const runCodeButton = exercise.find('.examinr-run-button')\n\n  // Proxy a \"run code\" event through the button to also trigger shiny input events.\n  const triggerClick = function () {\n    runCodeButton.trigger(\"click\")\n  }\n\n  const editor = attachAceEditor(editorId, code)\n  editor.setFontSize(0.8125 * parseFloat(exercise.find('.card-body').css('font-size')))\n  editor.commands.addCommand({\n    name: 'run_rcode',\n    bindKey: { win: 'Ctrl+Enter', mac: 'Command+Enter' },\n    exec: triggerClick\n  })\n  editor.commands.addCommand({\n    name: 'run_rcode-shift',\n    bindKey: { win: 'Ctrl+Shift+Enter', mac: 'Command+Shift+Enter' },\n    exec: triggerClick\n  })\n\n  const updateAceHeight = function () {\n    editor.setOptions({\n      minLines: lines,\n      maxLines: lines\n    })\n  }\n  updateAceHeight()\n\n  runCodeButton.on(\"click\", function () {\n    editor.focus()\n  })\n\n  exercise.data({\n    editor: editor,\n    options: exerciseOptions,\n    evaluate: true\n  })\n\n  exercise.parents('section').on('shown', utils.autoRetry(function () {\n    updateAceHeight()\n    editor.resize(true)\n    return $(editor.container).height() > 0\n  }, kRetryUpdateHeightDelay, true))\n}\n\nfunction initializeEditorBindings () {\n  const inputBindings = new Shiny.InputBinding()\n  $.extend(inputBindings, {\n    find: function (scope) {\n      return $(scope).find('.examinr-exercise')\n    },\n    getId: function (exercise) {\n      return $(exercise).data('options').inputId\n    },\n    subscribe: function (exercise, callback) {\n      exercise = $(exercise)\n      exercise.find('.examinr-run-button').on('click.examinrExerciseInputBinding', function (event, forceSubmit) {\n        if (exerciseRunButtonEnabled || forceSubmit === true) {\n          exercise.data('sendData', true)\n          exerciseRunning(exercise.find('.examinr-exercise-output'),\n                          exercise.data('evaluate') !== false)\n          callback(true)\n        }\n      })\n    },\n    unsubscribe: function (exercise) {\n      $(exercise).find('.examinr-run-button').off('.examinrExerciseInputBinding')\n    },\n    getValue: function (exercise) {\n      exercise = $(exercise)\n      if (exercise.data('sendData') !== true) {\n        return null\n      }\n      exercise.data('sendData', false)\n      return {\n        evaluate: exercise.data('evaluate') !== false,\n        label: exercise.data('options').label,\n        code: exercise.data('editor').getSession().getValue(),\n        timestamp: new Date().getTime()\n      }\n    },\n    setValue: function (exercise, value) {\n      exercise.data('evaluate', true)\n      $(exercise).data('editor').getSession().setValue(value)\n    }\n  })\n  Shiny.inputBindings.register(inputBindings, 'examinr.exerciseInputBinding')\n\n  const outputBindings = new Shiny.OutputBinding()\n  $.extend(outputBindings, {\n    find: function (scope) {\n      return $(scope).find('.examinr-exercise')\n    },\n    getId: function (exercise) {\n      return $(exercise).data('options').outputId\n    },\n    renderValue: function (exercise, data) {\n      exercise = $(exercise)\n      if (data.result) {\n        const outputContainer = exercise.find('.examinr-exercise-output').show().find('.card-body')\n        outputContainer.html(data.result)\n        outputContainer.find('.kable-table table').addClass('table table-striped table-sm')\n      } else {\n        exercise.find('.examinr-exercise-output').hide()\n      }\n      if (data.status) {\n        const footerClass = (data.status_class && data.status_class !== 'info')\n          ? ('alert-' + data.status_class) : 'text-muted'\n\n        exercise.find('.card-footer')\n          .removeClass('text-muted')\n          .removeClass('alert-success')\n          .removeClass('alert-warning')\n          .removeClass('alert-danger')\n          .addClass(footerClass)\n        exercise.find('.examinr-exercise-status').show().html(data.status)\n      } else {\n        exercise.find('.examinr-exercise-status').hide().html('')\n      }\n      exerciseRunning(exercise.find('.examinr-exercise-output'), false)\n    },\n    renderError: function (exercise, error) {\n      exercise = $(exercise)\n      exerciseRunning(exercise.find('.examinr-exercise-output'), false)\n      exercise.find('.examinr-exercise-output').hide()\n      exercise.find('.examinr-exercise-status').show().text(error.message)\n    },\n    clearError: function (exercise) {\n      exercise = $(exercise)\n      exerciseRunning(exercise.find('.examinr-exercise-output'), false)\n      exercise.find('.examinr-exercise-output').hide()\n      exercise.find('.examinr-exercise-status').hide()\n    }\n  })\n  Shiny.outputBindings.register(outputBindings, 'examinr.exerciseOutputBinding')\n}\n\nmodule.exports = {\n  init: function () {\n    $('.examinr-exercise').each(initializeExerciseEditor)\n    initializeEditorBindings()\n  },\n\n  /**\n   * Submit all exercise chunks on the current page.\n   *\n   * @param {boolean} evaluate if the code chunks should be evaluated. If `false`, the code\n   *   will only be submitted, but not run on the server.\n   * @param {jQuery} context the context element under which all exercise chunks will be\n   *   submitted. If omitted, all exercise chunks will be submitted.\n   */\n  forceSubmit: function (evaluate, context) {\n    if (!context) {\n      context = $(\"main\")\n    }\n\n    context.find('.examinr-exercise').each(function () {\n      let exercise = $(this)\n      exercise.data(\"evaluate\", evaluate !== false)\n      exercise.find('.examinr-run-button').trigger(\"click\", [ true ])\n    })\n  },\n\n  /**\n   * Toggle the high-contrast theme.\n   *\n   * @param {boolean} enabled `true` to enable the high contrast theme, `false` to disable it.\n   */\n  highContrastTheme: function (enabled) {\n    currentTheme = enabled ? kThemeMonochrome : kThemeDefault\n    $('.examinr-exercise').each(function () {\n      const editor = $(this).data('editor')\n      if (editor) {\n        editor.setTheme(currentTheme)\n      }\n    })\n  }\n}\n\n},{\"./accessibility\":1,\"./status\":11,\"./utils\":12}],6:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst utils = require('./utils')\nconst status = require('./status')\nconst sections = require('./section_navigation')\n\nconst correctIcon = '<svg aria-label=\"correct\" class=\"examinr-feedback-annotation\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\"/></svg>'\n\nconst incorrectIcon = '<svg aria-label=\"incorrect\" class=\"examinr-feedback-annotation\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\"/></svg>'\n\nconst addCommentLabel = 'Add comment'\nconst removeCommentLabel = 'Remove comment'\n\nconst numFormat = window.Intl.NumberFormat(undefined, {\n  signDisplay: 'never',\n  style: 'decimal',\n  minimumSignificantDigits: 1,\n  maximumSignificantDigits: 3\n})\n\nconst feedbackRenderer = []\nconst shinyRenderDelay = 250\nconst saveFeedbackDelay = 250\nconst attemptSelectorId = utils.randomId('attempt-sel')\nconst userSelectorId = utils.randomId('user-sel')\nconst userSelectGroup = $('<div class=\"input-group input-group-sm\">' +\n  '<div class=\"input-group-prepend\">' +\n    '<button class=\"btn examinr-feedback-user-prev btn-secondary\" type=\"button\">' +\n      '<span aria-hidden=\"true\">&lt;</span>' +\n      '<span class=\"sr-only\">Previous student</span>' +\n    '</button>' +\n    '<label class=\"input-group-text sr-only\" for=\"' + userSelectorId + '\">' +\n      'User' +\n    '</label>' +\n  '</div>' +\n  '<select class=\"custom-select\" id=\"' + userSelectorId + '\" disabled></select>' +\n  '<div class=\"input-group-append\">' +\n    '<button class=\"btn examinr-feedback-user-next btn-secondary\" type=\"button\">' +\n      '<span aria-hidden=\"true\">&gt;</span>' +\n      '<span class=\"sr-only\">Next Student</span>' +\n    '</button>' +\n  '</div>' +\n'</div>')\nlet currentAttemptId\nlet centerEl\nlet refreshContentEvents = 0\n\nfunction runAfterUpdate (input, func) {\n  const callbackTimer = window.setTimeout(func, shinyRenderDelay)\n  input.one('shiny:updateinput', function () {\n    window.clearTimeout(callbackTimer)\n    window.setTimeout(func, shinyRenderDelay)\n  })\n}\n\nfunction disableUi () {\n  utils.toggleShim($('body'), true)\n  refreshContentEvents = 2\n  $(document).one('shiny:idle', function () {\n    if (--refreshContentEvents <= 0) {\n      utils.toggleShim($('body'), false)\n    }\n  })\n}\n\nfunction attemptChanged () {\n  const sel = $(this)\n  disableUi()\n  // update the input value for the autocomplete input\n  Shiny.setInputValue('__.examinr.__-attemptSel', sel.val())\n\n  // Check if the selected attempt is finished, otherwise add a visual feedback\n  if (!sel.children('option').filter(':selected').data('finishedat')) {\n    sel.addClass('is-not-finished')\n  } else {\n    sel.removeClass('is-not-finished')\n  }\n}\n\nfunction userChanged () {\n  const sel = $(this)\n  disableUi()\n  // update the input value for the autocomplete input\n  Shiny.setInputValue('__.examinr.__-gradingUserSel', sel.val())\n  toggleUserNavigationButtons()\n}\n\nfunction toggleUserNavigationButtons () {\n  const nextUsers = findNextUsers()\n  userSelectGroup.find('.examinr-feedback-user-prev').prop('disabled', !nextUsers[0])\n  userSelectGroup.find('.examinr-feedback-user-next').prop('disabled', !nextUsers[1])\n}\n\nfunction findNextUsers (userSel) {\n  if (!userSel) {\n    userSel = $('#' + userSelectorId)\n  }\n  const currentOption = userSel.children(':selected')\n  return [currentOption.prev('option').val(), currentOption.next('option').val()]\n}\n\nfunction gotoNextUser (event) {\n  const userSel = $('#' + userSelectorId)\n  const nextUsers = findNextUsers(userSel)\n  let which = -1\n  if (event.type === 'click') {\n    const btnText = $(this).text()\n    which = btnText.startsWith('<') ? 0 : (btnText.startsWith('>') ? 1 : -1)\n  }\n\n  if (which >= 0) {\n    userSel.val(nextUsers[which]).trigger('change')\n  }\n}\n\nfunction updateAttemptSelector (attempts, current) {\n  const sel = $('#' + attemptSelectorId)\n  if (sel.length > 0 && attempts && attempts.length > 0) {\n    const options = attempts.map(at => (\n      '<option value=\"' + at.id + '\" data-finishedat=\"' + (at.finishedAt || '') + '\">' +\n        (at.finishedAt ? utils.formatDate(at.finishedAt * 1000)\n          : 'Unfinished (started at ' + utils.formatDate(at.startedAt * 1000) + ')') +\n      '</option>'\n    )).join('')\n\n    sel.html(options)\n      .prop('disabled', attempts.length < 2)\n      .removeClass('is-not-finished')\n\n    if (current) {\n      if (current.id) {\n        sel.val(current.id)\n      }\n      if (!current.finishedAt) {\n        sel.addClass('is-not-finished')\n      }\n    }\n  } else {\n    sel.prop('disabled', true)\n  }\n}\n\n/**\n * Render feedback data\n */\nShiny.addCustomMessageHandler('__.examinr.__-feedback', function (data) {\n  if (--refreshContentEvents <= 0) {\n    utils.toggleShim($('body'), false)\n  }\n  status.resetMessages()\n\n  data.grading = (data.grading === true)\n  if (!centerEl) {\n    $('.examinr-section-next').remove()\n    $('main').show()\n    sections.showAll()\n\n    const rightInputGroup = status.append('<div class=\"input-group input-group-sm\">' +\n          '<div class=\"input-group-prepend\">' +\n            '<label class=\"input-group-text\" for=\"' + attemptSelectorId + '\">' +\n              status.getMessage('feedback').attemptLabel +\n            '</label>' +\n          '</div>' +\n          '<select class=\"custom-select\" id=\"' + attemptSelectorId + '\"></select>' +\n        '</div>', 'right')\n\n    rightInputGroup.children('#' + attemptSelectorId).change(attemptChanged)\n\n    if (data.grading) {\n      // add user select dropdown\n      centerEl = status.append(userSelectGroup)\n\n      if (data.users && data.users.length > 0) {\n        const userSel = userSelectGroup.children('#' + userSelectorId)\n        userSel.prop('disabled', false)\n          .change(userChanged)\n          .append(data.users.map(user => (\n            '<option value=\"' + user.id + '\">' + (user.displayName || user.id) + '</option>'\n          )).join(''))\n\n        // enable prev/next buttons\n        userSelectGroup.find('button').on(\"click\", gotoNextUser)\n      }\n\n      // add download button\n      if (data.gradesDownloadUrl) {\n        rightInputGroup.append(\n          '<a class=\"btn btn-sm btn-outline-primary ml-2\" href=\"' + data.gradesDownloadUrl + '\" target=\"_blank\" download=\"\">' +\n            '<span class=\"sr-only\">Download grades</span>' +\n            '<svg aria-hidden=\"true\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.5a.5.5 0 0 1 1 0V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0zm-.354 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V11h-1v3.293l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z\"/></svg>' +\n          '</a>')\n      }\n    } else {\n      centerEl = status.append('<span></span>')\n    }\n  }\n\n  updateAttemptSelector(data.allAttempts, data.attempt)\n\n  if (data.attempt) {\n    currentAttemptId = data.attempt.id\n    if (data.attempt.userId) {\n      userSelectGroup.children('select').val(data.attempt.userId)\n      toggleUserNavigationButtons()\n    }\n  }\n\n  // turn feedback array into a map\n  const feedbackMap = Object.fromEntries(data.feedback.map(function (feedback) {\n    return [feedback.qid, feedback]\n  }))\n\n  let totalPoints = 0\n  let awardedPoints = 0\n\n  // Render feedback for text (or numeric) questions\n  $('.examinr-question').each(function () {\n    const question = $(this)\n    const label = question.data('questionlabel')\n    for (let i = 0, end = feedbackRenderer.length; i < end; i++) {\n      if (question.filter(feedbackRenderer[i].selector).length > 0) {\n        feedbackRenderer[i].callback(question, feedbackMap[label] || {}, data.grading)\n        if (label in feedbackMap) {\n          totalPoints += (feedbackMap[label].maxPoints || 0)\n          if (feedbackMap[label].points || feedbackMap[label].points === 0) {\n            awardedPoints += feedbackMap[label].points\n          } else {\n            awardedPoints = NaN\n          }\n          delete feedbackMap[label]\n        } else {\n          totalPoints += (question.data('maxpoints') || 0)\n          awardedPoints = NaN\n        }\n        return true\n      }\n    }\n    window.console.warn('No feedback renderer for question ' + label)\n  })\n\n  if (isNaN(awardedPoints)) {\n    awardedPoints = '&mdash;'\n  }\n\n  if (!data.grading) {\n    centerEl.html(status.getMessage('feedback').status\n      .replace('{awarded_points}', awardedPoints)\n      .replace('{total_points}', totalPoints))\n  }\n\n  status.fixMainOffset()\n})\n\nfunction questionFooter (question) {\n  const card = question.hasClass('card') ? question : question.find('.card')\n  const footer = card.find('.card-footer')\n  if (footer.length === 0) {\n    return $('<div class=\"card-footer\">').appendTo(card)\n  }\n  return footer\n}\n\nfunction saveFeedbackCallback (qid) {\n  return utils.debounce(function (feedback) {\n    if (currentAttemptId) {\n      Shiny.setInputValue('__.examinr.__-saveFeedback', {\n        attempt: currentAttemptId,\n        qid: qid,\n        points: feedback.points,\n        comment: feedback.comment,\n        maxPoints: feedback.maxPoints\n      })\n    }\n  }, saveFeedbackDelay)\n}\n\nfunction pointsChanged (event) {\n  const input = $(this)\n  const question = input.parents('.examinr-question')\n  const feedback = question.data('feedback')\n  const numVal = parseFloat(input.val())\n  input.val(numVal)\n  if (!isNaN(numVal)) {\n    feedback.points = numVal\n    question.data('feedback', feedback)\n    event.data.saveFeedback(feedback)\n  }\n}\n\nfunction commentChanged (event) {\n  const input = $(this)\n  const question = input.parents('.examinr-question')\n  const feedback = question.data('feedback')\n  feedback.comment = input.val()\n  event.data.saveFeedback(feedback)\n  question.data('feedback', feedback)\n}\n\nfunction toggleCommentVisible (event) {\n  const toggleBtn = $(this)\n  const question = toggleBtn.parents('.examinr-question')\n  const feedback = question.data('feedback')\n  const commentsInputGroup = question.find('.examinr-grading-comment')\n  const commentsBtn = $(this)\n  if (commentsInputGroup.filter(':visible').length > 0) {\n    // Hide the comment box and remove the comment\n    commentsInputGroup.hide()\n    commentsBtn.find('.btn-label').html('+')\n    commentsBtn.find('.sr-only').text(addCommentLabel)\n    if (feedback.comment) {\n      feedback.hiddenComment = feedback.comment\n      feedback.comment = null\n      event.data.saveFeedback(feedback)\n    }\n  } else {\n    // Show the comment box and add the previously deleted comment\n    commentsInputGroup.show()\n    commentsBtn.find('.btn-label').html('&times;')\n    commentsBtn.find('.sr-only').text(removeCommentLabel)\n    if (feedback.hiddenComment) {\n      commentsInputGroup.find('textarea').val(feedback.hiddenComment).focus()\n      feedback.hiddenComment = null\n    }\n  }\n  question.data('feedback', feedback)\n}\n\n/**\n * Add default feedback elements to a question.\n * This renders the points (either as badge for feedback or as input element for grading) and appends\n * the solution and any comments in the footer.\n *\n * @param {jQuery} question question element\n * @param {Object} feedback feedback object\n * @param {boolean} grading render for grading\n */\nfunction renderDefaultFeedback (question, feedback, grading) {\n  const footer = questionFooter(question)\n  // remove all previous feedback\n  footer.find('.examinr-grading-feedback').remove()\n\n  // Append the solution to the footer\n  if (feedback.solution) {\n    footer.append('<div class=\"examinr-grading-feedback\">' +\n    '<h6>' + status.getMessage('feedback').solutionLabel + '</h6>' +\n    '<div>' + feedback.solution + '</div>' +\n    '</div>')\n  }\n\n  if (grading) {\n    if (question.find('.examinr-grading-points').length === 0) {\n      const badge = question.find('.examinr-points')\n      const pointsInputId = utils.randomId('examinr-pts-')\n      const commentInputId = utils.randomId('examinr-comment-')\n\n      badge.parent()\n        .addClass('clearfix')\n        .append('<div class=\"input-group input-group-sm examinr-points examinr-grading-points\">' +\n            '<label class=\"sr-only\" for=\"' + pointsInputId + '\">Points</label>' +\n            '<input type=\"number\" class=\"form-control\" id=\"' + pointsInputId + '\" step=\"any\" required ' +\n              'max=\"' + (2 * feedback.maxPoints) + '\" />' +\n            '<div class=\"input-group-append\">' +\n              '<span class=\"input-group-text\">' +\n                '<span class=\"sr-only\"> out of </span>' +\n                '<span class=\"examinr-points-outof\">' + badge.text() + '</span>' +\n              '</span>' +\n              '<button type=\"button\" class=\"btn btn-secondary\">' +\n                '<span class=\"btn-label\" aria-hidden=\"true\">' + (feedback.comment ? '&times;' : '+') + '</span>' +\n                '<span class=\"sr-only\">' + (feedback.comment ? removeCommentLabel : addCommentLabel) + '</span>' +\n              '</button>' +\n            '</div>' +\n          '</div>')\n\n      badge.remove()\n\n      footer.append('<div class=\"input-group examinr-grading-comment\">' +\n          '<div class=\"input-group-prepend\">' +\n            '<label class=\"input-group-text\" for=\"' + commentInputId + '\">Comment</label>' +\n          '</div>' +\n          '<textarea class=\"form-control\" id=\"' + commentInputId + '\"></textarea>' +\n        '</div>')\n\n      const saveFeedbackDebounced = { saveFeedback: saveFeedbackCallback(feedback.qid) }\n\n      question.find('#' + pointsInputId).on('change', saveFeedbackDebounced, pointsChanged)\n      question.find('#' + commentInputId).on('change', saveFeedbackDebounced, commentChanged)\n      question.find('.examinr-grading-points button').on('click', saveFeedbackDebounced, toggleCommentVisible)\n      if (!feedback.comment) {\n        footer.find('.examinr-grading-comment').hide()\n      }\n    }\n\n    question.find('.examinr-grading-points input').val(feedback.points)\n    question.data('feedback', feedback)\n  } else {\n    const badge = question.find('.examinr-points')\n    // Render the awarded points in the badge\n    if (badge.find('.examinr-points-awarded').length === 0) {\n      const outof = badge.text()\n      badge.html('<span class=\"examinr-points-awarded\"></span><span class=\"sr-only\"> out of </span> ' +\n                  '<span class=\"examinr-points-outof\">' + outof + '</span>')\n    }\n\n    if (feedback.points || feedback.points === 0) {\n      const context = feedback.points <= 0 ? 'danger'\n        : (feedback.points >= feedback.maxPoints ? 'success' : 'info')\n\n      badge.removeClass('badge-secondary badge-info badge-success badge-danger')\n        .addClass('badge-' + context)\n        .find('.examinr-points-awarded')\n        .addClass('lead')\n        .text(feedback.points)\n    } else {\n      badge.removeClass('badge-secondary badge-info badge-success badge-danger')\n        .addClass('badge-secondary')\n        .find('.examinr-points-awarded')\n        .removeClass('lead')\n        .html('&mdash;')\n    }\n  }\n\n  if (grading) {\n    if (feedback.comment) {\n      question.find('.examinr-grading-points .btn .btn-label').html('&times;')\n      question.find('.examinr-grading-points .btn .sr-only').text(removeCommentLabel)\n      footer.find('.examinr-grading-comment').show()\n        .find('textarea').val(feedback.comment)\n    } else {\n      question.find('.examinr-grading-points .btn .btn-label').html('+')\n      question.find('.examinr-grading-points .btn .sr-only').text(addCommentLabel)\n      footer.find('.examinr-grading-comment').hide()\n        .find('textarea').val('')\n    }\n  } else if (feedback.comment) {\n    footer.append('<div class=\"text-muted examinr-grading-feedback\">' +\n        '<h6>' + status.getMessage('feedback').commentLabel + '</h6>' +\n        '<div>' + feedback.commentHtml || feedback.comment + '</div>' +\n      '</div>')\n  }\n\n  utils.renderMathJax(footer)\n}\n\n// Default feedback renderer for built-in questions created by `text_question()`\nfeedbackRenderer.push({\n  selector: '.examinr-q-textquestion',\n  callback: function (question, feedback, grading) {\n    renderDefaultFeedback(question, feedback, grading)\n\n    question.find('.shiny-input-container input,.shiny-input-container textarea')\n      .prop('readonly', true)\n      .val(feedback.answer || '')\n  }\n})\n\n// Default feedback renderer for built-in questions created by `mc_question()`\nfeedbackRenderer.push({\n  selector: '.examinr-q-mcquestion',\n  callback: function (question, feedback, grading) {\n    const solution = feedback.solution\n    feedback.solution = null\n    renderDefaultFeedback(question, feedback, grading)\n\n    runAfterUpdate(question, function () {\n      // reset old feedback\n      question.find('.examinr-feedback-annotation').remove()\n      question.find('.shiny-input-container label').removeAttr('class')\n\n      // display new feedback\n      const cbs = question.find('input[type=checkbox],input[type=radio]')\n      cbs.prop('disabled', true).prop('checked', false)\n\n      if (feedback.answer) {\n        feedback.answer.forEach(sel => {\n          const cb = cbs.filter('[value=\"' + sel.value + '\"]')\n          cb.prop('checked', true)\n          if (sel.weight) {\n            const context = sel.weight > 0 ? 'success' : 'danger'\n            const weightStr = (sel.weight > 0 ? '+' : '&minus;') + numFormat.format(sel.weight)\n            cb.parent().append('<span class=\"examinr-feedback-annotation badge badge-pill badge-' + context + '\">' +\n              weightStr + '</span>')\n          }\n        })\n      }\n\n      if (solution) {\n        const correctValues = new Set(solution)\n\n        cbs.each(function () {\n          const cb = $(this)\n          const label = cb.parent()\n          if (cb.prop('checked')) {\n            if (correctValues.has(cb.val())) {\n              label.addClass('text-success').prepend(correctIcon)\n            } else {\n              label.addClass('text-danger').prepend(incorrectIcon)\n            }\n          } else {\n            if (correctValues.has(cb.val())) {\n              label.addClass('text-danger').prepend(incorrectIcon)\n            } else {\n              label.addClass('text-muted').prepend(correctIcon)\n            }\n          }\n        })\n      }\n    })\n  }\n})\n\n// Default feedback renderer for built-in exercise questions.\nfeedbackRenderer.push({\n  selector: '.examinr-q-exercise',\n  callback: function (question, feedback, grading) {\n    const footer = questionFooter(question)\n    if (grading && footer.children('hr').length === 0) {\n      footer.append('<hr class=\"mb-3 mt-3\" />')\n    }\n\n    const solution = feedback.solution\n    feedback.solution = null\n    renderDefaultFeedback(question, feedback, grading, grading)\n\n    const editor = question.data('editor')\n    if (editor) {\n      if (!grading) {\n        editor.setReadOnly(true)\n      }\n      editor.getSession().setValue(feedback.answer || '\\n')\n    }\n\n    if (!grading) {\n      footer.find('.examinr-run-button').remove()\n      footer.find('.examinr-exercise-status').remove()\n    }\n\n    footer.removeClass('alert alert-danger text-muted')\n    if (solution) {\n      footer.append('<div class=\"examinr-grading-feedback\">' +\n          '<h5>' + status.getMessage('feedback').solutionLabel + '</h5>' +\n          solution +\n        '</div>')\n    }\n  }\n})\n\nmodule.exports = {\n}\n\n},{\"./section_navigation\":10,\"./status\":11,\"./utils\":12}],7:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst utils = require('./utils')\nconst status = require('./status')\n\nfunction updateGrading (question, gradingData) {\n  // Save locally\n  question.data('gradingData', gradingData)\n\n  // And remotely\n  if (!gradingData.feedbackShown) {\n    gradingData.feedback = null\n  }\n  Shiny.setInputValue('__.examinr.__-gradingData', gradingData)\n}\n\nfunction toggleFeedback () {\n  const btn = $(this)\n  const question = btn.parents('.examinr-question')\n  const gradingData = question.data('grading') || {}\n  if (gradingData.feedbackShown) {\n    btn.children('.btn-label').text('+')\n    btn.children('.sr-only').text('Add comment')\n    question.data('feedbackShown', false)\n      .find('.examinr-grading-feedback')\n      .remove()\n  } else {\n    btn.children('.btn-label').html('&times;')\n    btn.children('.sr-only').text('Remove comment')\n    let footer = question.find('.card-footer')\n    if (footer.length === 0) {\n      footer = $('<div class=\"card-footer\">')\n      footer.appendTo(question.hasClass('card') ? question : question.find('.card'))\n    }\n    question.data('feedbackShown', true)\n\n    const commentInputId = utils.randomId('comment-')\n\n    footer.append(\n      '<div class=\"input-group examinr-grading-feedback\">' +\n        '<div class=\"input-group-prepend\">' +\n          '<label class=\"input-group-text\" for=\"' + commentInputId + '\">' +\n            status.getMessage('feedback').commentLabel +\n          '</label>' +\n        '</div>' +\n        '<textarea class=\"form-control\" id=\"' + commentInputId + '\">' +\n          (gradingData.feedback || '') +\n        '</textarea>' +\n      '</div>')\n\n    question.find('.examinr-grading-feedback textarea').on('change', function () {\n      const gradingData = question.data('grading') || {}\n      gradingData.feedback = $(this).val()\n      updateGrading(question, gradingData)\n    })\n  }\n  gradingData.feedbackShown = !gradingData.feedbackShown\n  updateGrading(question, gradingData)\n}\n\nfunction prepareQuestion () {\n  const question = $(this)\n  const gradingData = question.data('grading') || {}\n  const pointsEl = question.find('.examinr-points')\n  const container = pointsEl.parent()\n  const placeholder = pointsEl.remove().text()\n\n  if (!gradingData.maxPoints) {\n    gradingData.maxPoints = parseFloat(question.data('maxPoints')) || 1\n  }\n\n  const pointsInput = $('<input type=\"number\" class=\"form-control\" />')\n    .attr('max', gradingData.maxPoints)\n    .attr('id', utils.randomId())\n\n  const feedbackBtn = gradingData.feedbackShown ? '&times;' : '+'\n  const feedbackLabel = gradingData.feedbackShown ? 'Remove feedback' : 'Add feedback'\n\n  container.addClass('clearfix')\n    .append('<div class=\"input-group input-group-sm examinr-points\">' +\n      '<label class=\"sr-only\" for=\"' + pointsInput.attr('id') + '\">Points</label>' +\n      '<div class=\"input-group-append\">' +\n        '<span class=\"input-group-text\">/ ' + placeholder + '</span>' +\n        '<button type=\"button\" class=\"btn btn-secondary\">' +\n          '<span class=\"btn-label\" aria-hidden=\"true\">' + feedbackBtn + '</span>' +\n          '<span class=\"sr-only\">' + feedbackLabel + '</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>')\n    .find('.input-group')\n    .prepend(pointsInput)\n\n  question.data('grading', gradingData)\n  container.find('.btn').on(\"click\", toggleFeedback)\n  utils.disableNumberInputDefaults(pointsInput)\n}\n\nfunction startGrading () {\n  status.disableProgress()\n  const statusContainer = status.statusContainer()\n\n  const studentNameInputId = utils.randomId('student-name')\n  const attemptInputId = utils.randomId('attempt')\n\n  statusContainer.append(\n    '<form class=\"form-inline examinr-grading-attempt\">' +\n      '<div class=\"input-group input-group-sm\">' +\n        '<div class=\"input-group-prepend\">' +\n          '<button class=\"btn btn-secondary\" type=\"button\">' +\n            '<span aria-hidden=\"true\">&lt;</span>' +\n            '<span class=\"sr-only\">Previous student</span>' +\n          '</button>' +\n        '</div>' +\n        '<label class=\"sr-only\" for=\"' + studentNameInputId + '\">Student</label>' +\n        '<input type=\"text\" id=\"' + studentNameInputId + '\" class=\"form-control\" placeholder=\"Student\" />' +\n        '<span class=\"input-group-append\">' +\n          '<button class=\"btn btn-secondary\" type=\"button\">' +\n            '<span aria-hidden=\"true\">&gt;</span>' +\n            '<span class=\"sr-only\">Next Student</span>' +\n          '</button>' +\n        '</span>' +\n      '</div>' +\n      '<div class=\"input-group input-group-sm\">' +\n        '<label class=\"sr-only\" for=\"' + attemptInputId + '\">Attempt</label>' +\n        '<select id=\"' + attemptInputId + '\" class=\"form-control\" disabled></select>' +\n      '</div>' +\n    '</form>'\n  )\n\n  status.fixMainOffset()\n\n  // Prepare the questions\n  $('.examinr-question').each(prepareQuestion)\n}\n\nmodule.exports = {\n  startGrading: startGrading\n}\n\n},{\"./status\":11,\"./utils\":12}],8:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst utils = require('./utils')\nconst kEnterKey = 13\nconst dialogTitleId = utils.randomId('examinr-login-title-')\nconst dialogContentId = utils.randomId('examinr-login-body-')\n\nconst dialogContainer = $(\n  '<div class=\"modal\" tabindex=\"-1\" role=\"alertdialog\" ' +\n      'aria-labelledby=\"' + dialogTitleId + '\"' +\n      'aria-describedby=\"' + dialogContentId + '\">' +\n    '<div class=\"modal-dialog modal-lg\" role=\"document\">' +\n      '<div class=\"modal-content\">' +\n        '<div class=\"modal-header\">' +\n          '<h4 class=\"modal-title\" id=\"' + dialogTitleId + '\"><h4>' +\n        '</div>' +\n        '<div class=\"modal-body\" id=\"' + dialogContentId + '\">' +\n          '<form novalidate></form>' +\n        '</div>' +\n        '<div class=\"modal-footer text-right\">' +\n          '<button type=\"button\" class=\"btn btn-primary\"></button>' +\n        '</div>' +\n      '</div>' +\n    '</div>' +\n  '</div>')\n\n/**\n * Display a login screen\n */\nShiny.addCustomMessageHandler('__.examinr.__-loginscreen', function (data) {\n  utils.toggleShim($('body'), false)\n  dialogContainer.find('#' + dialogTitleId).html(data.title || 'Login')\n  dialogContainer.find('button').html((data.btnLabel || 'Login'))\n  const formEl = dialogContainer.find('form')\n  data.inputs.forEach(input => {\n    const inputId = utils.randomId('examinr-login-')\n    const invalidFeedbackId = utils.randomId('examinr-login-invalid-')\n    formEl.append(\n      '<div class=\"form-group\">' +\n        '<label for=\"' + inputId + '\">' + (input.label || 'Missing label') + '</label>' +\n        '<input type=\"' + (input.type || 'text') + '\" class=\"form-control\" name=\"' + (input.name || inputId) + '\" id=\"' + inputId + '\" placeholder=\"' + (input.label || '') + '\" required>' +\n        '<div class=\"invalid-feedback\" id=\"' + invalidFeedbackId + '\">' +\n          (input.emptyError || 'This field cannot be empty!') +\n        '</div>' +\n      '</div>')\n  })\n\n  dialogContainer.prependTo(document.body).modal({\n    keyboard: false,\n    backdrop: 'static',\n    show: true\n  })\n  dialogContainer.find('input').keypress(function (event) {\n    if (event.which === kEnterKey) {\n      dialogContainer.find('button').trigger(\"click\")\n    }\n  }).first().focus()\n\n  dialogContainer.find('button').on(\"click\", function (event) {\n    let allOk = true\n    dialogContainer.find('.alert').remove()\n    const values = dialogContainer.find('input').map(function () {\n      const el = $(this)\n      const val = el.val()\n      if (!val || val.length < 1) {\n        allOk = false\n        const invalidFeedbackId = utils.randomId('examinr-login-invalid-')\n        el.addClass('is-invalid')\n          .attr('aria-describedby', invalidFeedbackId)\n          .next().show()\n      } else if (el.hasClass('is-invalid')) {\n        el.removeClass('is-invalid')\n          .removeAttr('aria-describedby')\n          .next().hide()\n      }\n      return {\n        name: el.attr('name'),\n        value: el.val()\n      }\n    }).get()\n    if (allOk) {\n      utils.toggleShim($('body'), true)\n      Shiny.setInputValue('__.examinr.__-login', { inputs: values }, { priority: 'event' })\n    }\n    event.stopImmediatePropagation()\n  })\n})\n\nShiny.addCustomMessageHandler('__.examinr.__-login', function (data) {\n  if (data.status === true) {\n    dialogContainer.modal('hide').remove()\n  } else if (data.error) {\n    utils.toggleShim($('body'), false)\n    const errorMsg = $('<div class=\"alert alert-danger\">' + data.error + '</div>')\n    if (data.errorTitle) {\n      errorMsg.prepend('<strong>' + data.errorTitle + '</strong><hr class=\"mt-2 mb-2\" />')\n    }\n    dialogContainer.find('.modal-body').append(errorMsg)\n  }\n})\n\nmodule.exports = {\n  init: function () {\n\n  }\n}\n\n},{\"./utils\":12}],9:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst utils = require('./utils')\nconst kDebounceEditorChange = 250\nconst kDelaySetMcQuestion = 250\n\nfunction onMcChange (event, extra) {\n  if (extra && extra.autofill) {\n    return\n  }\n  // Only handle the change if it is triggered by a checkbox or radio button.\n  if ($(event.target).filter('input').length) {\n    const question = $(event.delegateTarget)\n    const store = {\n      id: question.attr('id'),\n      val: question.find(':checked').map((ind, cb) => cb.value).get()\n    }\n    utils.attemptStorage.setItem('qinput_mc_' + store.id, store)\n  }\n}\n\nfunction loadFromAttemptStorage () {\n  // Recover input values from the browser-local attempt storage\n  utils.attemptStorage.keys(function (key) {\n    if (key.startsWith('qinput_text_')) {\n      const store = utils.attemptStorage.getItem(key)\n      // window.console.debug('Setting text question with id ' + store.id + ' to \"' + store.val + '\"')\n      $('#' + store.id).val(store.val).trigger('change', [{ autofill: true }])\n    } else if (key.startsWith('qinput_mc_')) {\n      const store = utils.attemptStorage.getItem(key)\n      const question = $('#' + store.id)\n      if (store.val && store.val.length) {\n        // The MC question is empty at first and will be updated by the server-side code.\n        // The event is fired *before* the input is updated, but the items must be checked only after the input\n        // has finished updating. Delay checking the items until all of them are actually present.\n        question.one('shiny:updateinput', utils.autoRetry(function () {\n          // window.console.debug('Setting MC question with id ' + store.id + ' to [' + store.val.join(', ') + ']')\n          let allItemsPresent = true\n          store.val.forEach(value => {\n            const inputEl = question.find('input[value=\"' + value + '\"]')\n            if (inputEl.length === 1) {\n              inputEl.prop('checked', true).trigger('change', [{ autofill: true }])\n            } else {\n              allItemsPresent = false\n            }\n          })\n          return allItemsPresent\n        }, kDelaySetMcQuestion, true))\n      }\n    } else if (key.startsWith('qinput_exercise_')) {\n      const store = utils.attemptStorage.getItem(key)\n      // window.console.debug('Setting code editor for question ' + store.qlabel + ' to\\n```' + store.val + '\\n```')\n      const exercise = $('.examinr-question.examinr-exercise[data-questionlabel=\"' + store.qlabel + '\"]')\n      const editor = exercise.data('editor')\n      if (editor) {\n        editor.getSession().setValue(store.val)\n        editor.resize(true)\n      }\n    }\n  })\n\n  // Monitor changes to inputs and save them to the browser-local attempt storage.\n  $('.examinr-question .shiny-bound-input.shiny-input-checkboxgroup').change(onMcChange)\n  $('.examinr-question .shiny-bound-input.shiny-input-radiogroup').change(onMcChange)\n  $('.examinr-question input.shiny-bound-input, .examinr-question textarea.shiny-bound-input').change(function (event, extra) {\n    if (extra && extra.autofill) {\n      return\n    }\n\n    const question = $(this)\n    const store = {\n      id: question.attr('id'),\n      val: question.val()\n    }\n    if (store.val || store.val === '0') {\n      // window.console.debug('Storing text input for id ' + store.id + ': \"' + store.val + '\"')\n      utils.attemptStorage.setItem('qinput_text_' + store.id, store)\n    } else {\n      // window.console.debug('Deleting text input for id ' + store.id + ' from storage.')\n      utils.attemptStorage.removeItem('qinput_text_' + store.id)\n    }\n  })\n  $('.examinr-question.examinr-exercise.shiny-bound-input').each(function () {\n    const exercise = $(this)\n    const editor = exercise.data('editor')\n    const store = {\n      qlabel: exercise.data('questionlabel'),\n      val: null\n    }\n\n    const storeEditorValue = function (event) {\n      store.val = exercise.data('editor').getSession().getValue()\n      if (store.val || store.val === '0') {\n        // window.console.debug('Storing code for exercise ' + store.qlabel + ' to\\n```' + store.val + '\\n```')\n        utils.attemptStorage.setItem('qinput_exercise_' + store.qlabel, store)\n      } else {\n        // window.console.debug('Deleting code for exercise ' + store.qlabel)\n        utils.attemptStorage.removeItem('qinput_exercise_' + store.qlabel)\n      }\n    }\n\n    if (editor) {\n      editor.on('change', utils.debounce(storeEditorValue, kDebounceEditorChange, false))\n    }\n  })\n}\n\nmodule.exports = {\n  restoreFromStorage: loadFromAttemptStorage\n}\n\n},{\"./utils\":12}],10:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst utils = require('./utils')\nconst question = require('./question')\nconst status = require('./status')\nconst attempt = require('./attempt')\nconst accessibility = require('./accessibility')\nconst exercises = require('./exercises')\n\nconst kRecalculatedDelay = 500\nlet currentSectionEl\nlet currentSection = {}\nlet sectionsConfig\nlet actualSections\n\nShiny.addCustomMessageHandler('__.examinr.__-sectionChange', function (section) {\n  if (section) {\n    // window.console.debug('Section changed to:', section)\n    if (section.feedback === true) {\n      // Clear attempt storage\n      utils.attemptStorage.clear()\n      // Redirect to the feedback\n      if (window.location.search) {\n        window.location.search = window.location.search + '&display=feedback'\n      } else {\n        window.location.search = '?display=feedback'\n      }\n    }\n\n    if (currentSectionEl && currentSectionEl.length > 0) {\n      currentSectionEl.removeAttr('role').hide()\n    } else if (section.id) {\n      $('section.level1').hide()\n    }\n    currentSection = section\n    if (currentSection === true) {\n      currentSectionEl = $('section.level1:not(.examinr-final-remarks)')\n    } else {\n      currentSectionEl = $('#' + currentSection.id).parent()\n      currentSectionEl.attr('role', 'main')\n    }\n    currentSectionEl.show().trigger('shown')\n\n    if (section.attempt_is_finished) {\n      utils.attemptStorage.clear()\n    } else {\n      question.restoreFromStorage()\n    }\n\n    const outputElements = currentSectionEl.find('.shiny-bound-output')\n    if (outputElements.length > 0) {\n      // hide the shim after it's recalculated\n      outputElements.one('shiny:recalculated', utils.debounce(function () {\n        utils.toggleShim($('body'), false)\n      }, kRecalculatedDelay, false))\n    } else {\n      utils.toggleShim($('body'), false)\n    }\n\n    status.resetMessages()\n    if (section.order) {\n      attempt.updateSection(section.order)\n    }\n  }\n})\n\nfunction checkAnswers (event) {\n  // Find mandatory questions (either in the current section only, or in the entire document)\n  const mandatoryQuestions = event.data.context.find('.examinr-question.examinr-mandatory-question')\n\n  // Reset style\n  mandatoryQuestions.removeClass('examinr-mandatory-error')\n  mandatoryQuestions.find('.examinr-mandatory-message').remove()\n\n  const missing = mandatoryQuestions.filter(function () {\n    let okay = true\n    const q = $(this)\n    if (q.filter('.examinr-q-textquestion').length > 0) {\n      q.find('.shiny-input-container input').each(function () {\n        const val = $(this).val()\n        okay = ((val && val.length > 0) || (val === 0))\n        return okay\n      })\n    } else if (q.filter('.examinr-q-mcquestion')) {\n      okay = (q.find('.shiny-bound-input input[value!=\"N/A\"]:checked').length > 0)\n    }\n    return !okay\n  })\n\n  if (missing.length > 0) {\n    missing.addClass('examinr-mandatory-error')\n    if (missing.find('.card-footer').length === 0) {\n      missing.append('<div class=\"card-footer examinr-mandatory-message\" role=\"alert\">' +\n          status.getMessage('sections').mandatoryError +\n        '</div>')\n    } else {\n      missing.find('.card-footer').append('<div class=\"examinr-mandatory-message\" role=\"alert\">' +\n          '<hr class=\"m-3\" />' +\n          status.getMessage('sections').mandatoryError +\n        '</div>')\n    }\n    missing.get(0).scrollIntoView()\n    event.stopImmediatePropagation()\n    return false\n  }\n\n  /* Submit all code exercises in the current context */\n  exercises.forceSubmit(false, event.data.context)\n}\n\nmodule.exports = {\n  init: function () {\n    sectionsConfig = JSON.parse($('script.examinr-sections-config').remove().text() || '{}')\n\n    actualSections = $('section.level1')\n    actualSections.each(function () {\n      const section = $(this)\n      // Add the correct label to each section\n      accessibility.ariaLabelledBy(section, section.children('h1'))\n\n      // Intercept section navigation to ensure mandatory questions are answered and exercise\n      // code is being sent to the server.\n      if (sectionsConfig.progressive) {\n        section.find('.examinr-section-next').on(\"click\", { context: section }, checkAnswers)\n      } else {\n        section.find('.examinr-section-next').on(\"click\", { context: $('main') }, checkAnswers)\n      }\n    })\n\n    $('.examinr-section-next').on(\"click\", function () {\n      utils.toggleShim($('body'), true)\n    })\n\n    if (!sectionsConfig.progressive) {\n      // All-at-once exam. Show the \"next button\" only for the last real section.\n      $('.examinr-section-next').hide()\n      accessibility.ariaLabelledBy($('main'), $('h1.title'))\n\n      // Hide the last section (used for final remarks)\n      if (sectionsConfig.hideLastSection) {\n        actualSections.last().hide().addClass('examinr-final-remarks')\n        actualSections = actualSections.slice(0, -1)\n      }\n\n      // Show the button in the last visible section\n      actualSections.last().find('.examinr-section-next').show()\n    } else {\n      // progressive exams: hide all sections\n      actualSections.hide()\n      if (sectionsConfig.hideLastSection) {\n        $('section.level1:last .examinr-section-next').remove()\n        actualSections = actualSections.slice(0, -1)\n      }\n    }\n  },\n\n  /**\n   * Submit all questions and exercise code in the currently visible section\n   * (or all sections if all are visible).\n   */\n  submitCurrentSection: function (currentSection) {\n    if (!currentSection) {\n      if (!sectionsConfig.progressive) {\n        currentSection = $(\"main\")\n      } else {\n        currentSection = actualSections.filter(\":visible\")\n      }\n    }\n    // By moving the focus to another element, all answers that are inputs are submitted\n    currentSection.find(\".examinr-section-next\").trigger(\"focus\")\n    // Then we also have to force-submit the exercises\n    exercises.forceSubmit(false, currentSection)\n  },\n\n  showAll: function () {\n    actualSections.show().trigger('shown')\n  }\n}\n\n},{\"./accessibility\":1,\"./attempt\":3,\"./exercises\":5,\"./question\":9,\"./status\":11,\"./utils\":12}],11:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\nconst utils = require('./utils')\n\nlet messages = {}\nlet statusContainer\nconst defaultContext = 'info'\nlet currentContext = defaultContext\n\nconst dialogContainerTitle = $('<h4 class=\"modal-title\" id=\"' +\n  utils.randomId('examinr-status-dialog-title-') + '\">')\nconst dialogContainerContent = $('<div class=\"modal-body\" id=\"' +\n  utils.randomId('examinr-status-dialog-body-') + '\">')\nconst dialogContainerFooter = $(\n  '<div class=\"modal-footer\">' +\n    '<button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">Close</button>' +\n  '</div>')\nconst dialogContainer = $(\n  '<div class=\"modal\" tabindex=\"-1\" role=\"alertdialog\" ' +\n      'aria-labelledby=\"' + dialogContainerTitle.attr('id') + '\"' +\n      'aria-describedby=\"' + dialogContainerContent.attr('id') + '\">' +\n    '<div class=\"modal-dialog modal-lg\" role=\"document\">' +\n      '<div class=\"modal-content\"><div class=\"modal-header\"></div></div>' +\n    '</div>' +\n  '</div>')\n\nconst statusMessageEl = $('<div class=\"lead\" role=\"alert\"></div>')\n\ndialogContainer.find('.modal-header').append(dialogContainerTitle)\ndialogContainer.find('.modal-content').append(dialogContainerContent).append(dialogContainerFooter)\n\n/**\n * Show a status message.\n * @param {object} condition the condition object to show. Must contain the following elements:\n *  type {string} one of \"error\", \"locked\", \"warning\", or \"info\"\n *  message {string} the status message, may contain HTML\n *  title {string} (for type \"error\" or \"locked\") the title for the error dialog\n *  button {string} (for type \"error\") the button label for the error dialog\n *  action {string} (for type \"error\") the action associated with the button. If \"reload\", the page is reloaded,\n *    otherwise, the dialog is simply closed.\n */\nShiny.addCustomMessageHandler('__.examinr.__-statusMessage', function (condition) {\n  statusContainer.removeClass('alert-warning')\n  statusMessageEl.detach()\n  if (condition.type === 'error') {\n    showErrorDialog(condition.content.title, condition.content.body, condition.action, condition.content.button,\n      condition.triggerId, condition.triggerEvent, condition.triggerDelay)\n  } else if (condition.type === 'locked') {\n    showErrorDialog(condition.content.title, condition.content.body, 'none', '')\n    $('main').hide()\n  } else {\n    statusMessageEl.html(condition.content.body)\n      .find('.examinr-timestamp')\n      .each(parseTimestamp)\n\n    utils.toggleShim($('body'), false)\n\n    statusContainer.removeClass('alert-info')\n      .addClass(condition.type === 'warning' ? 'alert-warning' : 'alert-info')\n      .children('.col-center')\n      .append(statusMessageEl)\n  }\n  fixMainOffset()\n})\n\n/**\n * Fix the top offset of the main content to make room for the status container.\n */\nfunction fixMainOffset () {\n  if (statusContainer && statusContainer.length > 0) {\n    $('body').css('paddingTop', statusContainer.outerHeight())\n  }\n}\n\n/**\n * Parse the content inside the element as timestamp and replace with the browser's locale date-time string.\n */\nfunction parseTimestamp () {\n  const el = $(this)\n  const timestamp = parseInt(el.text(), 10)\n  if (timestamp && !isNaN(timestamp)) {\n    el.text(utils.formatDate(timestamp * 1000))\n  } else {\n    el.text('')\n  }\n}\n\n/**\n * Show a modal error dialog.\n * @param {string} title title of the dialog, may contain HTML\n * @param {string} content content of the dialog, may contain HTML\n * @param {string} action what action should be taken when the button is clicked. If \"reload\", the browser is\n *   instructed to reload the page. If \"none\", the dialog cannot be closed. In all other cases,\n *   clicking the button will close the dialog.\n * @param {string} button label for the button, may not contain HTML\n */\nfunction showErrorDialog (title, content, action, button, triggerId, triggerEvent, triggerDelay) {\n  const closeBtn = dialogContainerFooter.children('button')\n\n  dialogContainerTitle.html(title).find('.examinr-timestamp').each(parseTimestamp)\n  dialogContainerContent.html(content).find('.examinr-timestamp').each(parseTimestamp)\n\n  if (action === 'none') {\n    dialogContainerFooter.hide()\n  } else {\n    closeBtn.text(button)\n    if (action === 'reload') {\n      closeBtn.one('click', function () {\n        window.location.reload()\n      })\n    } else if (action === 'trigger' && triggerId && triggerEvent) {\n      closeBtn.one('click', function () {\n        if (triggerDelay) {\n          utils.toggleShim($('body'), true)\n          window.setTimeout(() => $('#' + triggerId).trigger(triggerEvent), triggerDelay)\n        } else {\n          $('#' + triggerId).trigger(triggerEvent)\n        }\n      })\n    }\n  }\n\n  utils.toggleShim($('body'), false)\n\n  dialogContainer.attr('role', (action === 'none') ? 'dialog' : 'errordialog')\n    .appendTo(document.body)\n    .one('hidden.bs.modal', function () {\n      dialogContainer.detach()\n    })\n    .modal({\n      keyboard: false,\n      backdrop: 'static',\n      show: true\n    })\n}\n\nmodule.exports = {\n  init: function () {\n    utils.toggleShim($('body'), true)\n    statusContainer = $('.examinr-exam-status')\n    messages = JSON.parse($('script.examinr-status-messages').remove().text() || '{}')\n    statusContainer.addClass('alert alert-' + currentContext)\n    fixMainOffset()\n  },\n\n  /**\n   * Reset (i.e., hide) the status messages\n   */\n  resetMessages: function () {\n    statusMessageEl.detach()\n    dialogContainer.detach()\n    statusContainer.removeClass('alert-warning alert-danger').addClass('alert-info')\n    fixMainOffset()\n  },\n\n  /**\n   * Get the message associated with an identifier.\n   * @param {string} what the message identifier\n   * @returns the message for the given identifier, or null if the identifier is unknown.\n   */\n  getMessage: function (what) {\n    return messages[what] || null\n  },\n\n  /**\n   * Set the context of the status bar.\n   * @param {string} context the context class, one of info, warning, danger. If missing, reset to the default\n   *   context class.\n   */\n  setContext: function (context) {\n    if (!context) {\n      context = defaultContext\n    }\n    statusContainer.removeClass('alert-' + currentContext).addClass('alert-' + context)\n    currentContext = context\n  },\n\n  /**\n   * Append the element to the status bar and adjust the offset.\n   * @param {jQuery} el the element to append\n   * @param {string} where where to append the element. Can be one of \"left\", \"center\" or \"right\"\n   */\n  append: function (el, where) {\n    el = $(el)\n    switch (where) {\n      case 'left':\n        statusContainer.children('.col-left').append(el)\n        break\n      case 'right':\n        statusContainer.children('.col-right').append(el)\n        break\n      case 'center':\n      default:\n        statusContainer.children('.col-center').append(el)\n    }\n    fixMainOffset()\n    return el\n  },\n\n  /**\n   * Remove the element from the status bar and adjust the offset.\n   * @param {jQuery} el the element to remove\n   */\n  remove: function (el) {\n    el.remove()\n    fixMainOffset()\n  },\n\n  /**\n  * Fix the top offset of the main content to make room for the status bar.\n  */\n  fixMainOffset: fixMainOffset,\n\n  /**\n   * Show a modal error dialog.\n   * @param {string} title title of the dialog, may contain HTML\n   * @param {string} content content of the dialog, may contain HTML\n   * @param {string} action what action should be taken when the button is clicked. If \"reload\", the browser is\n   *   instructed to reload the page. If \"none\", the dialog cannot be closed. In all other cases,\n   *   clicking the button will close the dialog.\n   * @param {string} button label for the button, may not contain HTML\n   */\n  showErrorDialog: showErrorDialog\n}\n\n},{\"./utils\":12}],12:[function(require,module,exports){\n'use strict'\n\n// const $ = require('jquery')\n\nconst arrowKeyUp = 38\nconst arrowKeyDown = 40\nconst lang = $('html').attr('lang') || 'en-US'\n\nvar examMetadata = ((typeof EXAMINR_EXAM_METADATA !== 'undefined') ? EXAMINR_EXAM_METADATA : null)\n\nfunction preventDefault (e) {\n  e.preventDefault()\n}\n\nfunction attemptStoragePrefix () {\n  if (examMetadata) {\n    return examMetadata.id + '_' + examMetadata.version + '_'\n  }\n  return ''\n}\n\nfunction generateRandomId (prefix) {\n  if (!prefix) {\n    prefix = 'anonymous-el-'\n  }\n  return prefix + Math.random().toString(36).slice(2)\n}\n\nfunction initNumericInputs () {\n  const numRegexp = /^-?(\\d*\\.)?\\d+$/\n  $('.examinr-q-numeric input[type=text]').each(function () {\n    const input = $(this)\n    const feedbackId = generateRandomId()\n\n    input.change(function () {\n      const newVal = input.val()\n      $('#' + feedbackId).remove()\n      if (newVal && !numRegexp.test(newVal)) {\n        input.attr('aria-describedby', feedbackId).addClass('is-invalid')\n          .after('<span id=\"' + feedbackId + '\" class=\"sr-only\">invalid value</span>')\n      } else {\n        if (newVal.length > 0) {\n          input.val(parseFloat(newVal))\n        }\n        input.removeAttr('aria-describedby').removeClass('is-invalid')\n      }\n    })\n  })\n}\n\nmodule.exports = {\n  init: function () {\n    if (typeof EXAMINR_EXAM_METADATA !== 'undefined' && examMetadata === null) {\n      examMetadata = EXAMINR_EXAM_METADATA\n    }\n    initNumericInputs()\n  },\n\n  /**\n   * A storage for objects bound to the current attempt.\n   */\n  attemptStorage: {\n    /**\n     * Get the item associated with the given key.\n     *\n     * @param {DOMString} key identifier for the object.\n     * @return object associated with the given key.\n     */\n    getItem: function (key) {\n      return JSON.parse(window.localStorage.getItem(attemptStoragePrefix() + key))\n    },\n\n    /**\n     * Store an item in the storage.\n     *\n     * @param {DOMString} key identifier for the object.\n     * @param {*} value JSON-serializable object to be associated with the key.\n     */\n    setItem: function (key, value) {\n      return window.localStorage.setItem(attemptStoragePrefix() + key, JSON.stringify(value))\n    },\n\n    /**\n     * Delete an item from storage.\n     *\n     * @param {DOMString} key identifier for the object.\n     */\n    removeItem: function (key) {\n      return window.localStorage.removeItem(attemptStoragePrefix() + key)\n    },\n\n    /*\n      * Delete all items from storage.\n      */\n    clear: function () {\n      const attemptStoragePrefixStr = attemptStoragePrefix()\n      for (var i = window.localStorage.length - 1; i >= 0; --i) {\n        const key = window.localStorage.key(i)\n        if (key && key.startsWith(attemptStoragePrefixStr)) {\n          window.localStorage.removeItem(key)\n        }\n      }\n    },\n\n    /**\n     * Iterate over all keys in storage.\n     * @param {Function} callback function being called for each key in the store given as first argument.\n     */\n    keys: function (callback) {\n      const attemptStoragePrefixStr = attemptStoragePrefix()\n      for (var i = window.localStorage.length - 1; i >= 0; --i) {\n        const key = window.localStorage.key(i)\n        if (key && key.startsWith(attemptStoragePrefixStr)) {\n          callback(key.substring(attemptStoragePrefixStr.length))\n        }\n      }\n    }\n  },\n\n  /**\n   * Format the given date in the document's language\n   * @param {int} timestamp the timestamp to format\n   */\n  formatDate: function (timestamp) {\n    return new Date(timestamp).toLocaleString(lang)\n  },\n\n  /**\n   * Create a function which calls the given function repeatedly until it returns `true`.\n   *\n   * @param {function} func function to call repeatedly until it returns true.\n   * @param {integer} delay delay in ms\n   */\n  autoRetry: function (func, delay, immediately) {\n    return function () {\n      const context = this\n      const args = arguments\n      const requireRetry = !immediately || (func.apply(context, args) !== true)\n      if (requireRetry) {\n        const timerId = window.setInterval(function () {\n          if (func.apply(context, args) === true) {\n            window.clearInterval(timerId)\n          }\n        }, delay)\n      }\n    }\n  },\n\n  /**\n   * Disable stepping by arrow keys and scrolling on number inputs.\n   *\n   * @param {jQuery} numberInputs the inputs to disable the defaults for.\n   */\n  disableNumberInputDefaults: function (numberInputs) {\n    if (!numberInputs) {\n      numberInputs = $('input[type=number]')\n    }\n\n    numberInputs.on('focus', function () {\n      $(this).on('wheel.disableScrollEvent', preventDefault)\n        .on('keydown.disableScrollEvent', function (e) {\n          if (e.which === arrowKeyDown || e.which === arrowKeyUp) {\n            e.preventDefault()\n          }\n        })\n    }).on('blur', function () {\n      $(this).off('.disableScrollEvent')\n    })\n  },\n  /**\n   * Debounce the given function, calling it only once for a series of shortly spaced calls.\n   * @param {function} fun function to debounce\n   * @param {integer} wait time (in ms) to wait before calling `fun`\n   * @param {boolean} immediate if `fun` should be called immediately on the raising edge, not the falling edge.\n   */\n  debounce: function (fun, wait, immediate) {\n    let timerId = null\n\n    return function () {\n      const context = this\n      const args = arguments\n      const delayed = function () {\n        timerId = null\n        if (!immediate) {\n          fun.apply(context, args)\n        }\n      }\n      const callImmediately = immediate && !timerId\n      window.clearTimeout(timerId)\n      timerId = window.setTimeout(delayed, wait)\n      if (callImmediately) {\n        fun.apply(context, args)\n      }\n    }\n  },\n  randomId: generateRandomId,\n  /**\n   * Render any math in the element with the given id\n   *\n   * @param {string} id id of the element to render math.\n   * @param {boolean} isDummy if true, the id attribute is removed.\n   */\n  triggerMathJax: function (id, isDummy) {\n    if (window.MathJax && window.MathJax.startup && window.MathJax.startup.promise) {\n      window.MathJax.startup.promise = window.MathJax.startup.promise\n        .then(() => {\n          let el = $('#' + id)\n          if (isDummy) {\n            const parent = el.parent()\n            if (parent.length > 0) {\n              parent.append(el.remove().html())\n              el = parent\n            }\n          }\n          return window.MathJax.typesetPromise(el)\n        })\n        .catch((err) => window.console.warn('Cannot typeset math: ', err.message))\n      return window.MathJax.startup.promise\n    }\n  },\n\n  /**\n   * Render any math in the element with the given id\n   *\n   * @param {jQuery} el element to render math in\n   */\n  renderMathJax: function (el) {\n    if (window.MathJax && window.MathJax.startup && window.MathJax.startup.promise) {\n      window.MathJax.startup.promise = window.MathJax.startup.promise\n        .then(() => {\n          return window.MathJax.typesetPromise(el)\n        })\n        .catch((err) => window.console.warn('Cannot typeset math: ', err.message))\n      return window.MathJax.startup.promise\n    }\n  },\n\n  /**\n   * Exam metadata object.\n   * May be `null` if not yet available.\n   */\n  examMetadata: function () {\n    return examMetadata\n  },\n\n  /**\n   * Toggle a \"working\" shim over the given element.\n   * @param {jQuery} el jquery element which should be covered by the shim.\n   * @param {boolean} show force the shim to be shown/hidden, regardless of the current state.\n   */\n  toggleShim: function (el, show) {\n    if (!el) {\n      // Overlay over entire document\n      el = $('body')\n    } else {\n      el = $(el)\n    }\n\n    let spinOverlay = el.children('.examinr-recompute-overlay')\n\n    // If `show` is missing, show the overlay if it's not present at the moment\n    if (typeof show === 'undefined') {\n      show = (spinOverlay.length === 0)\n    }\n\n    if (show === false) {\n      spinOverlay.remove()\n      el.removeClass('examinr-recompute-outer')\n    } else {\n      spinOverlay = $('<div class=\"examinr-recompute-overlay\"><div class=\"examinr-recompute\" role=\"status\">' +\n                        '<span class=\"sr-only\">Loading...</span>' +\n                      '</div></div>')\n      el.prepend(spinOverlay)\n      const op = spinOverlay.offsetParent()\n      if (op.length > 0 && op.get(0) !== el.get(0)) {\n        el.addClass('examinr-recompute-outer')\n      }\n      el.show()\n    }\n  }\n}\n\n},{}]},{},[2]);\n","ace.define('ace/theme/monochrome', ['require', 'exports', 'module', 'ace/lib/dom'], function (acequire, exports, module) {\n  exports.isDark = false\n  exports.cssClass = 'ace-monochrome'\n  exports.cssText = '.ace-monochrome .ace_gutter{background:#000;color:#fff}.ace-monochrome.ace_print-margin{width:2px;background:#999}.ace-monochrome .ace_editor{background-color:#fff;color:#000}.ace-monochrome .ace_cursor{color:#000;border:0;border-right:0;border-left:.5em solid #000}.ace-monochrome .ace_marker-layer .ace_selection{background:#777}.ace-monochrome.ace_multiselect .ace_selection.ace_start{border-radius:2px}.ace-monochrome .ace_marker-layer .ace_step{background:#000}.ace-monochrome .ace_marker-layer .ace_bracket{margin:0;border:2px solid #d55e00}.ace-monochrome .ace_marker-layer .ace_active-line{background:transparent;border:2px solid #d55e00}.ace-monochrome .ace_gutter-active-line{background:#000}.ace-monochrome .ace_marker-layer .ace_selected-word{border:2px dashed #d55e00}.ace-monochrome .ace_invisible{color:#fff}.ace-monochrome .ace_comment,.ace-monochrome .ace_constant.ace_language{font-style:italic;color:#444}.ace-monochrome .ace_indent-guide{background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC\") right repeat-y}.ace_layer{z-index:3}.ace_layer.ace_print-margin-layer{z-index:2}.ace_layer.ace_marker-layer{z-index:1}.ace_editor.ace_autocomplete{background:#ccc;border:solid 2px #000 !important;color:#000}.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line,.ace_editor.ace_autocomplete .ace_marker-layer .ace_line-hover{background:#fff;border:0;border:2px dashed #d55e00}'\n  var dom = acequire('../lib/dom')\n  dom.importCssString(exports.cssText, exports.cssClass)\n})\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.5.3): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\nconst TRANSITION_END = 'transitionend'\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\nfunction toType(obj) {\n  if (obj === null || typeof obj === 'undefined') {\n    return `${obj}`\n  }\n\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\nfunction getSpecialTransitionEndEvent() {\n  return {\n    bindType: TRANSITION_END,\n    delegateType: TRANSITION_END,\n    handle(event) {\n      if ($(event.target).is(this)) {\n        return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n      }\n\n      return undefined\n    }\n  }\n}\n\nfunction transitionEndEmulator(duration) {\n  let called = false\n\n  $(this).one(Util.TRANSITION_END, () => {\n    called = true\n  })\n\n  setTimeout(() => {\n    if (!called) {\n      Util.triggerTransitionEnd(this)\n    }\n  }, duration)\n\n  return this\n}\n\nfunction setTransitionEndSupport() {\n  $.fn.emulateTransitionEnd = transitionEndEmulator\n  $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n  TRANSITION_END: 'bsTransitionEnd',\n\n  getUID(prefix) {\n    do {\n      prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(prefix))\n\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    let selector = element.getAttribute('data-target')\n\n    if (!selector || selector === '#') {\n      const hrefAttr = element.getAttribute('href')\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      return document.querySelector(selector) ? selector : null\n    } catch (_) {\n      return null\n    }\n  },\n\n  getTransitionDurationFromElement(element) {\n    if (!element) {\n      return 0\n    }\n\n    // Get transition-duration of the element\n    let transitionDuration = $(element).css('transition-duration')\n    let transitionDelay = $(element).css('transition-delay')\n\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n  },\n\n  reflow(element) {\n    return element.offsetHeight\n  },\n\n  triggerTransitionEnd(element) {\n    $(element).trigger(TRANSITION_END)\n  },\n\n  supportsTransitionEnd() {\n    return Boolean(TRANSITION_END)\n  },\n\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  typeCheckConfig(componentName, config, configTypes) {\n    for (const property in configTypes) {\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        const expectedTypes = configTypes[property]\n        const value = config[property]\n        const valueType = value && Util.isElement(value) ?\n          'element' : toType(value)\n\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  findShadowRoot(element) {\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode()\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null\n    }\n\n    return Util.findShadowRoot(element.parentNode)\n  },\n\n  jQueryDetection() {\n    if (typeof $ === 'undefined') {\n      throw new TypeError('Bootstrap\\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\\'s JavaScript.')\n    }\n\n    const version = $.fn.jquery.split(' ')[0].split('.')\n    const minMajor = 1\n    const ltMajor = 2\n    const minMinor = 9\n    const minPatch = 1\n    const maxMajor = 4\n\n    if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {\n      throw new Error('Bootstrap\\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0')\n    }\n  }\n}\n\nUtil.jQueryDetection()\nsetTransitionEndSupport()\n\nexport default Util\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.5.3): modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'modal'\nconst VERSION = '4.5.3'\nconst DATA_KEY = 'bs.modal'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst ESCAPE_KEYCODE = 27 // KeyboardEvent.which value for Escape (Esc) key\n\nconst Default = {\n  backdrop: true,\n  keyboard: true,\n  focus: true,\n  show: true\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  focus: 'boolean',\n  show: 'boolean'\n}\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\nconst EVENT_MOUSEUP_DISMISS = `mouseup.dismiss${EVENT_KEY}`\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SCROLLABLE = 'modal-dialog-scrollable'\nconst CLASS_NAME_SCROLLBAR_MEASURER = 'modal-scrollbar-measure'\nconst CLASS_NAME_BACKDROP = 'modal-backdrop'\nconst CLASS_NAME_OPEN = 'modal-open'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_STATIC = 'modal-static'\n\nconst SELECTOR_DIALOG = '.modal-dialog'\nconst SELECTOR_MODAL_BODY = '.modal-body'\nconst SELECTOR_DATA_TOGGLE = '[data-toggle=\"modal\"]'\nconst SELECTOR_DATA_DISMISS = '[data-dismiss=\"modal\"]'\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\nconst SELECTOR_STICKY_CONTENT = '.sticky-top'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Modal {\n  constructor(element, config) {\n    this._config = this._getConfig(config)\n    this._element = element\n    this._dialog = element.querySelector(SELECTOR_DIALOG)\n    this._backdrop = null\n    this._isShown = false\n    this._isBodyOverflowing = false\n    this._ignoreBackdropClick = false\n    this._isTransitioning = false\n    this._scrollbarWidth = 0\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return\n    }\n\n    if ($(this._element).hasClass(CLASS_NAME_FADE)) {\n      this._isTransitioning = true\n    }\n\n    const showEvent = $.Event(EVENT_SHOW, {\n      relatedTarget\n    })\n\n    $(this._element).trigger(showEvent)\n\n    if (this._isShown || showEvent.isDefaultPrevented()) {\n      return\n    }\n\n    this._isShown = true\n\n    this._checkScrollbar()\n    this._setScrollbar()\n\n    this._adjustDialog()\n\n    this._setEscapeEvent()\n    this._setResizeEvent()\n\n    $(this._element).on(\n      EVENT_CLICK_DISMISS,\n      SELECTOR_DATA_DISMISS,\n      event => this.hide(event)\n    )\n\n    $(this._dialog).on(EVENT_MOUSEDOWN_DISMISS, () => {\n      $(this._element).one(EVENT_MOUSEUP_DISMISS, event => {\n        if ($(event.target).is(this._element)) {\n          this._ignoreBackdropClick = true\n        }\n      })\n    })\n\n    this._showBackdrop(() => this._showElement(relatedTarget))\n  }\n\n  hide(event) {\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (!this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const hideEvent = $.Event(EVENT_HIDE)\n\n    $(this._element).trigger(hideEvent)\n\n    if (!this._isShown || hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    this._isShown = false\n    const transition = $(this._element).hasClass(CLASS_NAME_FADE)\n\n    if (transition) {\n      this._isTransitioning = true\n    }\n\n    this._setEscapeEvent()\n    this._setResizeEvent()\n\n    $(document).off(EVENT_FOCUSIN)\n\n    $(this._element).removeClass(CLASS_NAME_SHOW)\n\n    $(this._element).off(EVENT_CLICK_DISMISS)\n    $(this._dialog).off(EVENT_MOUSEDOWN_DISMISS)\n\n    if (transition) {\n      const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n      $(this._element)\n        .one(Util.TRANSITION_END, event => this._hideModal(event))\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      this._hideModal()\n    }\n  }\n\n  dispose() {\n    [window, this._element, this._dialog]\n      .forEach(htmlElement => $(htmlElement).off(EVENT_KEY))\n\n    /**\n     * `document` has 2 events `EVENT_FOCUSIN` and `EVENT_CLICK_DATA_API`\n     * Do not move `document` in `htmlElements` array\n     * It will remove `EVENT_CLICK_DATA_API` event that should remain\n     */\n    $(document).off(EVENT_FOCUSIN)\n\n    $.removeData(this._element, DATA_KEY)\n\n    this._config = null\n    this._element = null\n    this._dialog = null\n    this._backdrop = null\n    this._isShown = null\n    this._isBodyOverflowing = null\n    this._ignoreBackdropClick = null\n    this._isTransitioning = null\n    this._scrollbarWidth = null\n  }\n\n  handleUpdate() {\n    this._adjustDialog()\n  }\n\n  // Private\n\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...config\n    }\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _triggerBackdropTransition() {\n    if (this._config.backdrop === 'static') {\n      const hideEventPrevented = $.Event(EVENT_HIDE_PREVENTED)\n\n      $(this._element).trigger(hideEventPrevented)\n      if (hideEventPrevented.isDefaultPrevented()) {\n        return\n      }\n\n      const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n\n      if (!isModalOverflowing) {\n        this._element.style.overflowY = 'hidden'\n      }\n\n      this._element.classList.add(CLASS_NAME_STATIC)\n\n      const modalTransitionDuration = Util.getTransitionDurationFromElement(this._dialog)\n      $(this._element).off(Util.TRANSITION_END)\n\n      $(this._element).one(Util.TRANSITION_END, () => {\n        this._element.classList.remove(CLASS_NAME_STATIC)\n        if (!isModalOverflowing) {\n          $(this._element).one(Util.TRANSITION_END, () => {\n            this._element.style.overflowY = ''\n          })\n            .emulateTransitionEnd(this._element, modalTransitionDuration)\n        }\n      })\n        .emulateTransitionEnd(modalTransitionDuration)\n      this._element.focus()\n    } else {\n      this.hide()\n    }\n  }\n\n  _showElement(relatedTarget) {\n    const transition = $(this._element).hasClass(CLASS_NAME_FADE)\n    const modalBody = this._dialog ? this._dialog.querySelector(SELECTOR_MODAL_BODY) : null\n\n    if (!this._element.parentNode ||\n        this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n      // Don't move modal's DOM position\n      document.body.appendChild(this._element)\n    }\n\n    this._element.style.display = 'block'\n    this._element.removeAttribute('aria-hidden')\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n\n    if ($(this._dialog).hasClass(CLASS_NAME_SCROLLABLE) && modalBody) {\n      modalBody.scrollTop = 0\n    } else {\n      this._element.scrollTop = 0\n    }\n\n    if (transition) {\n      Util.reflow(this._element)\n    }\n\n    $(this._element).addClass(CLASS_NAME_SHOW)\n\n    if (this._config.focus) {\n      this._enforceFocus()\n    }\n\n    const shownEvent = $.Event(EVENT_SHOWN, {\n      relatedTarget\n    })\n\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._element.focus()\n      }\n\n      this._isTransitioning = false\n      $(this._element).trigger(shownEvent)\n    }\n\n    if (transition) {\n      const transitionDuration = Util.getTransitionDurationFromElement(this._dialog)\n\n      $(this._dialog)\n        .one(Util.TRANSITION_END, transitionComplete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      transitionComplete()\n    }\n  }\n\n  _enforceFocus() {\n    $(document)\n      .off(EVENT_FOCUSIN) // Guard against infinite focus loop\n      .on(EVENT_FOCUSIN, event => {\n        if (document !== event.target &&\n            this._element !== event.target &&\n            $(this._element).has(event.target).length === 0) {\n          this._element.focus()\n        }\n      })\n  }\n\n  _setEscapeEvent() {\n    if (this._isShown) {\n      $(this._element).on(EVENT_KEYDOWN_DISMISS, event => {\n        if (this._config.keyboard && event.which === ESCAPE_KEYCODE) {\n          event.preventDefault()\n          this.hide()\n        } else if (!this._config.keyboard && event.which === ESCAPE_KEYCODE) {\n          this._triggerBackdropTransition()\n        }\n      })\n    } else if (!this._isShown) {\n      $(this._element).off(EVENT_KEYDOWN_DISMISS)\n    }\n  }\n\n  _setResizeEvent() {\n    if (this._isShown) {\n      $(window).on(EVENT_RESIZE, event => this.handleUpdate(event))\n    } else {\n      $(window).off(EVENT_RESIZE)\n    }\n  }\n\n  _hideModal() {\n    this._element.style.display = 'none'\n    this._element.setAttribute('aria-hidden', true)\n    this._element.removeAttribute('aria-modal')\n    this._element.removeAttribute('role')\n    this._isTransitioning = false\n    this._showBackdrop(() => {\n      $(document.body).removeClass(CLASS_NAME_OPEN)\n      this._resetAdjustments()\n      this._resetScrollbar()\n      $(this._element).trigger(EVENT_HIDDEN)\n    })\n  }\n\n  _removeBackdrop() {\n    if (this._backdrop) {\n      $(this._backdrop).remove()\n      this._backdrop = null\n    }\n  }\n\n  _showBackdrop(callback) {\n    const animate = $(this._element).hasClass(CLASS_NAME_FADE) ?\n      CLASS_NAME_FADE : ''\n\n    if (this._isShown && this._config.backdrop) {\n      this._backdrop = document.createElement('div')\n      this._backdrop.className = CLASS_NAME_BACKDROP\n\n      if (animate) {\n        this._backdrop.classList.add(animate)\n      }\n\n      $(this._backdrop).appendTo(document.body)\n\n      $(this._element).on(EVENT_CLICK_DISMISS, event => {\n        if (this._ignoreBackdropClick) {\n          this._ignoreBackdropClick = false\n          return\n        }\n\n        if (event.target !== event.currentTarget) {\n          return\n        }\n\n        this._triggerBackdropTransition()\n      })\n\n      if (animate) {\n        Util.reflow(this._backdrop)\n      }\n\n      $(this._backdrop).addClass(CLASS_NAME_SHOW)\n\n      if (!callback) {\n        return\n      }\n\n      if (!animate) {\n        callback()\n        return\n      }\n\n      const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop)\n\n      $(this._backdrop)\n        .one(Util.TRANSITION_END, callback)\n        .emulateTransitionEnd(backdropTransitionDuration)\n    } else if (!this._isShown && this._backdrop) {\n      $(this._backdrop).removeClass(CLASS_NAME_SHOW)\n\n      const callbackRemove = () => {\n        this._removeBackdrop()\n        if (callback) {\n          callback()\n        }\n      }\n\n      if ($(this._element).hasClass(CLASS_NAME_FADE)) {\n        const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop)\n\n        $(this._backdrop)\n          .one(Util.TRANSITION_END, callbackRemove)\n          .emulateTransitionEnd(backdropTransitionDuration)\n      } else {\n        callbackRemove()\n      }\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // ----------------------------------------------------------------------\n  // the following methods are used to handle overflowing modals\n  // todo (fat): these should probably be refactored out of modal.js\n  // ----------------------------------------------------------------------\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n\n    if (!this._isBodyOverflowing && isModalOverflowing) {\n      this._element.style.paddingLeft = `${this._scrollbarWidth}px`\n    }\n\n    if (this._isBodyOverflowing && !isModalOverflowing) {\n      this._element.style.paddingRight = `${this._scrollbarWidth}px`\n    }\n  }\n\n  _resetAdjustments() {\n    this._element.style.paddingLeft = ''\n    this._element.style.paddingRight = ''\n  }\n\n  _checkScrollbar() {\n    const rect = document.body.getBoundingClientRect()\n    this._isBodyOverflowing = Math.round(rect.left + rect.right) < window.innerWidth\n    this._scrollbarWidth = this._getScrollbarWidth()\n  }\n\n  _setScrollbar() {\n    if (this._isBodyOverflowing) {\n      // Note: DOMNode.style.paddingRight returns the actual value or '' if not set\n      //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set\n      const fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT))\n      const stickyContent = [].slice.call(document.querySelectorAll(SELECTOR_STICKY_CONTENT))\n\n      // Adjust fixed content padding\n      $(fixedContent).each((index, element) => {\n        const actualPadding = element.style.paddingRight\n        const calculatedPadding = $(element).css('padding-right')\n        $(element)\n          .data('padding-right', actualPadding)\n          .css('padding-right', `${parseFloat(calculatedPadding) + this._scrollbarWidth}px`)\n      })\n\n      // Adjust sticky content margin\n      $(stickyContent).each((index, element) => {\n        const actualMargin = element.style.marginRight\n        const calculatedMargin = $(element).css('margin-right')\n        $(element)\n          .data('margin-right', actualMargin)\n          .css('margin-right', `${parseFloat(calculatedMargin) - this._scrollbarWidth}px`)\n      })\n\n      // Adjust body padding\n      const actualPadding = document.body.style.paddingRight\n      const calculatedPadding = $(document.body).css('padding-right')\n      $(document.body)\n        .data('padding-right', actualPadding)\n        .css('padding-right', `${parseFloat(calculatedPadding) + this._scrollbarWidth}px`)\n    }\n\n    $(document.body).addClass(CLASS_NAME_OPEN)\n  }\n\n  _resetScrollbar() {\n    // Restore fixed content padding\n    const fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT))\n    $(fixedContent).each((index, element) => {\n      const padding = $(element).data('padding-right')\n      $(element).removeData('padding-right')\n      element.style.paddingRight = padding ? padding : ''\n    })\n\n    // Restore sticky content\n    const elements = [].slice.call(document.querySelectorAll(`${SELECTOR_STICKY_CONTENT}`))\n    $(elements).each((index, element) => {\n      const margin = $(element).data('margin-right')\n      if (typeof margin !== 'undefined') {\n        $(element).css('margin-right', margin).removeData('margin-right')\n      }\n    })\n\n    // Restore body padding\n    const padding = $(document.body).data('padding-right')\n    $(document.body).removeData('padding-right')\n    document.body.style.paddingRight = padding ? padding : ''\n  }\n\n  _getScrollbarWidth() { // thx d.walsh\n    const scrollDiv = document.createElement('div')\n    scrollDiv.className = CLASS_NAME_SCROLLBAR_MEASURER\n    document.body.appendChild(scrollDiv)\n    const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth\n    document.body.removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n  // Static\n\n  static _jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _config = {\n        ...Default,\n        ...$(this).data(),\n        ...(typeof config === 'object' && config ? config : {})\n      }\n\n      if (!data) {\n        data = new Modal(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config](relatedTarget)\n      } else if (_config.show) {\n        data.show(relatedTarget)\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n$(document).on(EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  let target\n  const selector = Util.getSelectorFromElement(this)\n\n  if (selector) {\n    target = document.querySelector(selector)\n  }\n\n  const config = $(target).data(DATA_KEY) ?\n    'toggle' : {\n      ...$(target).data(),\n      ...$(this).data()\n    }\n\n  if (this.tagName === 'A' || this.tagName === 'AREA') {\n    event.preventDefault()\n  }\n\n  const $target = $(target).one(EVENT_SHOW, showEvent => {\n    if (showEvent.isDefaultPrevented()) {\n      // Only register focus restorer if modal will actually get shown\n      return\n    }\n\n    $target.one(EVENT_HIDDEN, () => {\n      if ($(this).is(':visible')) {\n        this.focus()\n      }\n    })\n  })\n\n  Modal._jQueryInterface.call($(target), config, this)\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Modal._jQueryInterface\n$.fn[NAME].Constructor = Modal\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Modal._jQueryInterface\n}\n\nexport default Modal\n"],"mappings":";;AAAA,IAAI,OAAOA,OAAO,KAAK,WAAU,EAAG;EAClCC,MAAM,CAACD,OAAO,GAAGC,MAAM,CAACC,IAAI,GAAG,IAAI;AACrC;;ACFA,CAAC,YAAQ;EAAG,SAASC,CAACA,CAACC,CAAC,EAACC,CAAC,EAACC,CAAC;IAAE,SAASC,CAACA,CAACC,CAAC,EAACC,CAAC;MAAE,IAAE,CAAEJ,CAAC,CAACG,CAAC;QAAG,IAAE,CAAEJ,CAAC,CAACI,CAAC;UAAG,IAAIE,CAAC,aAAU,IAAG,OAAOC,OAAO,IAAEA,OAAO;UAAC,IAAE,CAAEF,CAAC,IAAEC,CAAC,EAAC,OAAOA,CAAC,CAACF,CAAC,GAAE,CAAC;UAAE,IAAGI,CAAC,EAAC,OAAOA,CAAC,CAACJ,CAAC,GAAE,CAAC;UAAE,IAAIK,CAAC,GAAC,IAAIC,KAAK,uBAAqB,GAAGN,CAAC;UAAM,MAAMK,CAAC,CAACE,IAAI,qBAAkB,EAAEF,CAAC;QAAA;QAAC,IAAIG,CAAC,GAACX,CAAC,CAACG,CAAC;UAAGR,OAAO;QAAA;QAAKI,CAAC,CAACI,CAAC,EAAE,CAAC,EAAES,IAAI,CAACD,CAAC,CAAChB,OAAO,EAAC,UAASG,CAAC;UAAE,IAAIE,CAAC,GAACD,CAAC,CAACI,CAAC,EAAE,CAAC,EAAEL,CAAC;UAAE,OAAOI,CAAC,CAACF,CAAC,IAAEF,CAAC;QAAA,GAAGa,CAAC,EAACA,CAAC,CAAChB,OAAO,EAACG,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC;MAAA;MAAE,OAAOD,CAAC,CAACG,CAAC,EAAER,OAAO;IAAA;IAAC,KAAI,IAAIY,CAAC,aAAU,IAAG,OAAOD,OAAO,IAAEA,OAAO,EAACH,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,CAAC,CAACY,MAAM,EAACV,CAAC,IAAGD,CAAC,CAACD,CAAC,CAACE,CAAC;IAAG,OAAOD,CAAC;EAAA;EAAC,OAAOJ,CAAC;AAAA;EAAM,CAAC,GAAE,UAASQ,OAAO,EAACQ,MAAM,EAACnB,OAAO;IAC/e,YAAY;;IACZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAEhC,SAASU,WAAWA,CAAEC,EAAE,EAAE;MACxB,IAAIA,EAAE,CAACC,IAAI,KAAI,GAAI;QACjB,OAAOD,EAAE,CAACC,IAAI,KAAI,CAAE;MACtB;MACA,MAAMC,KAAK,GAAGJ,KAAK,CAACK,QAAQ,WAAS,CAAG;MACxCH,EAAE,CAACC,IAAI,KAAI,EAAGC,KAAK,CAAC;MACpB,OAAOA,KAAK;IACd;IAEA,SAASE,aAAaA,CAAEC,aAAa,EAAEC,MAAM,EAAEC,GAAG,EAAE;MAClDD,MAAM,CAACL,IAAI,QAAQ,GAAGI,aAAa,EAAEN,WAAW,CAACQ,GAAG,EAAE;IACxD;;IAEA;AACA;AACA;AACA;IACA,SAASC,kBAAkBA,CAAEC,GAAG,EAAE;MAChC,OAAQA,GAAG,CAACC,KAAK,KAAK,SAAQ,IAAMD,GAAG,CAACE,OAAO;IACjD;IAEA,SAASC,eAAeA,CAAA,EAAI;MAC1B,MAAMC,MAAM,GAAGlC,MAAM,CAACmC,YAAY,CAACC,OAAO,sBAAqB,CAAE;MACjE,IAAIF,MAAM,KAAK,IAAI,EAAE;QACnB;QACA,OAAO,EAAEL,kBAAkB,CAAC7B,MAAM,CAACqC,UAAU,aAAY,EAAG,IAC1DR,kBAAkB,CAAC7B,MAAM,CAACqC,UAAU,kBAAgB,EAAI,IACxDR,kBAAkB,CAAC7B,MAAM,CAACqC,UAAU,wBAAsB,EAAI,IAC9DR,kBAAkB,CAAC7B,MAAM,CAACqC,UAAU,0BAAwB,EAAI,IAChER,kBAAkB,CAAC7B,MAAM,CAACqC,UAAU,+BAA6B,GAAK;MAC1E;MACA,OAAQH,MAAM,KAAK,IAAG;IACxB;;IAEA;AACA;AACA;AACA;AACA;AACA;IACA,SAASI,iBAAiBA,CAAEC,OAAO,EAAE;MACnC,MAAMC,SAAS,GAAG9B,OAAO,cAAa,CAAE;MACxC,IAAI6B,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,EAAE;QACzCA,OAAO,GAAGN,eAAe,EAAE;MAC7B;MACA,IAAIM,OAAO,EAAE;QACXA,OAAO,GAAG,IAAI;QACdE,CAAA,OAAO,EAAGC,QAAQ,gBAAe,CAAE;MACrC,CAAC,MAAM;QACLD,CAAA,OAAO,EAAGE,WAAW,gBAAe,CAAE;QACtCJ,OAAO,GAAG,KAAK;MACjB;MACAvC,MAAM,CAACmC,YAAY,CAACS,OAAO,sBAAqB,EAAGL,OAAO,GAAG,KAAK,GAAG,IAAG,CAAE;MAC1EC,SAAS,CAACF,iBAAiB,CAACC,OAAO,CAAC;IACtC;IAEArB,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChBJ,CAAA,UAAU,EAAGnB,IAAI,cAAa,EAAG,MAAK,CAAE;QACxCgB,iBAAiB,EAAE;QACnBG,CAAA,qBAAqB,EAAGK,EAAE,QAAO,EAAG,YAAY;UAC9CR,iBAAiB,EAAAG,CAAA,OAAS,EAAGM,QAAQ,gBAAe,EAAG;QACzD,EAAE;;QAEF;QACAN,CAAA,oBAAoB,EAAGO,IAAI,CAAC,YAAY;UACtC,MAAMC,QAAQ,GAAGR,CAAA,CAAE,IAAI,CAAC;UACxBQ,QAAQ,CAACC,IAAI,6BAA4B,EAAGR,QAAQ,UAAS,CAAE;UAC/DjB,aAAa,aAAY,EAAGwB,QAAQ,EAAEA,QAAQ,CAACC,IAAI,eAAc,EAAG;QACtE,EAAE;MACJ;MAEA;AACF;AACA;AACA;AACA;AACA;MACEZ,iBAAiB,EAAEA,iBAAiB;MAEpCb,aAAa,EAAEA,aAAa;MAE5B0B,cAAc,EAAE,SAAAA,CAAU9B,EAAE,EAAE+B,OAAO,EAAE;QACrC3B,aAAa,aAAY,EAAGJ,EAAE,EAAE+B,OAAO,CAAC;MAC1C;MAEAC,eAAe,EAAE,SAAAA,CAAUhC,EAAE,EAAE+B,OAAO,EAAE;QACtC3B,aAAa,cAAa,EAAGJ,EAAE,EAAE+B,OAAO,CAAC;MAC3C;IACF,CAAC;EAED;IAAA,aAAe,EAAE,CAAC;IAAA,SAAS,EAAE;EAAE;EAAG,CAAC,GAAE,UAAS1C,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACpE;IACA,MAAMuD,aAAa,GAAG5C,OAAO,kBAAiB,CAAE;IAChD,MAAM6C,OAAO,GAAG7C,OAAO,YAAW,CAAE;IACpC,MAAM8C,YAAY,GAAG9C,OAAO,iBAAgB,CAAE;IAC9C,MAAM8B,SAAS,GAAG9B,OAAO,cAAa,CAAE;IACxC,MAAM+C,KAAK,GAAG/C,OAAO,UAAS,CAAE;IAChC,MAAMgD,QAAQ,GAAGhD,OAAO,uBAAsB,CAAE;IAChD,MAAMiD,MAAM,GAAGjD,OAAO,WAAU,CAAE;IAClC,MAAMS,KAAK,GAAGT,OAAO,UAAS,CAAE;IAEhCA,OAAO,aAAY,CAAE;IACrBA,OAAO,YAAW,CAAE;IAEpB+B,CAAA,CAAE,YAAY;MACZtB,KAAK,CAAC0B,IAAI,EAAE;MACZc,MAAM,CAACd,IAAI,EAAE;MACbS,aAAa,CAACT,IAAI,EAAE;MACpBY,KAAK,CAACZ,IAAI,EAAE;MACZU,OAAO,CAACV,IAAI,EAAE;MACdL,SAAS,CAACK,IAAI,EAAE;MAChBW,YAAY,CAACX,IAAI,EAAE;MACnBa,QAAQ,CAACb,IAAI,EAAE;MAEf7C,MAAM,CAACC,IAAI,GAAG;QACZkB,KAAK,EAAEA;MACT,CAAC;IACH,EAAE;EAGF;IAAA,iBAAmB,EAAE,CAAC;IAAA,WAAW,EAAE,CAAC;IAAA,gBAAgB,EAAE,CAAC;IAAA,aAAa,EAAE,CAAC;IAAA,YAAY,EAAE,CAAC;IAAA,WAAW,EAAE,CAAC;IAAA,SAAS,EAAE,CAAC;IAAA,sBAAsB,EAAE,EAAE;IAAA,UAAU,EAAE,EAAE;IAAA,SAAS,EAAE;EAAE;EAAG,CAAC,GAAE,UAAST,OAAO,EAACQ,MAAM,EAACnB,OAAO;IAC1M,YAAY;;IAEZ;IACA,MAAM4D,MAAM,GAAGjD,OAAO,WAAU,CAAE;IAClC,IAAIkD,MAAM,GAAG,EAAE;IACf,IAAIC,cAAc;IAClB,IAAIC,SAAS,GAAGC,MAAM,CAACC,iBAAiB;IACxC,IAAIC,YAAY,GAAG,KAAK;IAExB,MAAMC,UAAU,GAAGzB,CAAA,qDAAoD,CAAG;;IAE1E;AACA;AACA;AACA;AACA;AACA;IACA0B,KAAK,CAACC,uBAAuB,8BAA6B,EAAG,UAAUb,OAAO,EAAE;MAC9E,IAAIA,OAAO,CAACc,WAAW,EAAE;QACvBT,MAAM,CAACS,WAAW,GAAGd,OAAO,CAACc,WAAW;MAC1C;MACA,IAAId,OAAO,EAAE;QACX,IAAIA,OAAO,CAACe,MAAM,EAAE;UAClB;UACA7B,CAAA,OAAO,EAAG8B,IAAI,GAAGC,OAAO,QAAO,CAAE;UACjCN,UAAU,CAACK,IAAI,EAAE;UAEjB,IAAIhB,OAAO,CAACO,SAAS,KAAK,CAAC,KAAI,CAAEP,OAAO,CAACO,SAAS,IAAIP,OAAO,CAACO,SAAS,KAAK,KAAI,GAAI;YAClFP,OAAO,CAACO,SAAS,GAAGC,MAAM,CAACC,iBAAiB;UAC9C;UACA,IAAI;YACFF,SAAS,GAAG,IAAIW,IAAI,CAAClB,OAAO,CAACO,SAAS,GAAG,IAAI,CAAC;YAC9C,IAAID,cAAc,EAAE;cAClB7D,MAAM,CAAC0E,YAAY,CAACb,cAAc,CAAC;cACnCA,cAAc,GAAG,KAAK;YACxB;YACAc,cAAc,EAAE;UAClB,CAAC,CAAC,OAAOxE,CAAC,EAAE;YACVH,MAAM,CAAC4E,OAAO,CAACC,IAAI,4CAA0C,EAAI1E,CAAC,CAAC;YACnE2D,SAAS,GAAGC,MAAM,CAACC,iBAAiB;UACtC;QACF,CAAC,MAAM,IAAIT,OAAO,CAACI,MAAM,IAAI,cAAa,EAAG;UAC3C,MAAMmB,kBAAkB,GAAGpE,OAAO,uBAAsB,CAAE;UAC1D;UACAoE,kBAAkB,CAACC,oBAAoB,EAAE;UACzCC,aAAa,EAAE;QACjB,CAAC,MAAM;UACLC,aAAa,EAAE;QACjB;MACF,CAAC,MAAM;QACL;QACAxC,CAAA,OAAO,EAAGyC,IAAI,EAAE;QAChBvB,MAAM,CAACwB,MAAM,CAACjB,UAAU,CAAC;QACzBP,MAAM,CAACyB,UAAU,EAAE;MACrB;IACF,EAAE;IAEF,SAASC,QAAQA,CAAEC,GAAG,EAAE;MACtB,OAAQA,GAAG,IAAI,EAAE,GAAGA,GAAG,CAACC,QAAQ,CAAC,EAAE,CAAC,GAAG,GAAG,GAAGD,GAAG,CAACC,QAAQ,CAAC,EAAE;IAC9D;;IAEA;AACA;AACA;IACA,SAASZ,cAAcA,CAAA,EAAI;MACzB,IAAIa,MAAM,GAAG1B,SAAS,KAAKC,MAAM,CAACC,iBAAiB,GAAGD,MAAM,CAACC,iBAAiB,GAAGF,SAAS,GAAG,IAAIW,IAAI,EAAE;MACvG,MAAMgB,OAAO,GAAGvB,UAAU,CAAChB,IAAI,iBAAgB,CAAE;MAEjD,IAAG,CAAEwC,KAAK,CAACF,MAAM,CAAC,IAAIA,MAAM,GAAGzB,MAAM,CAACC,iBAAiB,EAAE;QACvD,IAAIwB,MAAM,GAAG,CAAC,IAAIA,MAAM,GAAG,CAAC,IAAI,IAAI5B,MAAM,CAACS,WAAW,IAAI,CAAC,GAAG;UAC5DmB,MAAM,GAAG,CAAC;QACZ;QACA,IAAIA,MAAM,IAAI,CAAC,EAAE;UACf,MAAMG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACL,MAAM,GAAG,OAAO,CAAC;UAC5C,MAAMM,OAAO,GAAGF,IAAI,CAACC,KAAK,CAAEL,MAAM,GAAG,OAAO,GAAI,KAAK,CAAC;UACtD,MAAMO,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEL,MAAM,GAAG,KAAK,GAAI,IAAI,CAAC;UAEnD,IAAIG,OAAO,GAAG,CAAC,EAAE;YACfF,OAAO,CAACO,QAAQ,OAAM,EAAGrD,WAAW,SAAQ,EAAGsD,IAAI,CAACZ,QAAQ,CAACM,OAAO,EAAE;UACxE,CAAC,MAAM;YACLF,OAAO,CAACO,QAAQ,OAAM,EAAGtD,QAAQ,SAAQ,EAAGuD,IAAI,KAAI,CAAE;UACxD;UACAR,OAAO,CAACO,QAAQ,OAAM,EAAGC,IAAI,CAACZ,QAAQ,CAACS,OAAO,EAAE;UAChD,IAAIH,OAAO,GAAG,CAAC,IAAIG,OAAO,IAAI,EAAE,EAAE;YAChCL,OAAO,CAACO,QAAQ,OAAM,EAAGtD,QAAQ,QAAO,CAAE;YAC1C+C,OAAO,CAACO,QAAQ,OAAM,EAAGd,IAAI,EAAE;UACjC,CAAC,MAAM;YACLO,OAAO,CAACO,QAAQ,OAAM,EAAGrD,WAAW,QAAO,CAAE;YAC7C8C,OAAO,CAACO,QAAQ,OAAM,EAAGzB,IAAI,GAAG0B,IAAI,CAACZ,QAAQ,CAACU,OAAO,EAAE;UACzD;UACAN,OAAO,CAAClB,IAAI,EAAE;UAEd,IAAG,CAAEN,YAAY,EAAE;YACjBN,MAAM,CAACuC,aAAa,EAAE;YACtBjC,YAAY,GAAG,IAAI;UACrB;UAEA,IAAI0B,OAAO,GAAG,CAAC,IAAIG,OAAO,IAAI,EAAE,EAAE;YAChCjC,cAAc,GAAG7D,MAAM,CAACmG,UAAU,CAACxB,cAAc,EAAE,KAAK,CAAC,EAAC;UAC5D,CAAC,MAAM;YACL,IAAImB,OAAO,GAAG,CAAC,EAAE;cACfnC,MAAM,CAACyB,UAAU,SAAQ,CAAE;YAC7B,CAAC,MAAM,IAAIU,OAAO,GAAG,EAAE,EAAE;cACvBnC,MAAM,CAACyB,UAAU,UAAS,CAAE;YAC9B;YACAvB,cAAc,GAAG7D,MAAM,CAACmG,UAAU,CAACxB,cAAc,EAAE,IAAI,CAAC,EAAC;UAC3D;QACF,CAAC,MAAM,IAAIa,MAAM,GAAG,CAAC,IAAI,IAAI5B,MAAM,CAACS,WAAW,IAAI,CAAC,GAAG;UACrD;UACAR,cAAc,GAAG7D,MAAM,CAACmG,UAAU,CAACxB,cAAc,EAAE,IAAI,CAAC,EAAC;QAC3D,CAAC,MAAM;UACLM,aAAa,EAAE;QACjB;MACF,CAAC,MAAM;QACLQ,OAAO,CAACP,IAAI,EAAE;MAChB;IACF;IAEA,SAASD,aAAaA,CAAA,EAAI;MACxB;MACAxC,CAAA,OAAO,EAAG0C,MAAM,EAAE;MAClBH,aAAa,EAAE;IACjB;IAEA,SAASA,aAAaA,CAAA,EAAI;MACxB,MAAMoB,UAAU,GAAGzC,MAAM,CAAC0C,UAAU,iBAAgB,CAAE;MACtD1C,MAAM,CAAC2C,eAAe,CAACF,UAAU,CAACG,KAAK,EAAEH,UAAU,CAACI,IAAI,EAAE,MAAK,CAAE;IACnE;IAEAtF,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChBe,MAAM,GAAG6C,IAAI,CAACC,KAAK,CAAAjE,CAAA,iCAAkC,EAAG0C,MAAM,GAAGc,IAAI,EAAE,IAAI,KAAK;QAChF,MAAMU,WAAW,GAAGhD,MAAM,CAAC0C,UAAU,WAAU,CAAE;QAEjD,IAAIM,WAAW,EAAE;UACf;UACA;UACA;UACA;UACA,MAAMC,eAAe,GAAGD,WAAW,CAACE,OAAO,CACxCC,OAAO,eAAa,EAAI,2CAAyC,CAAG,CACpEA,OAAO,mBAAiB,EAAI,uCAAuC,IAAIlD,MAAM,CAACmD,aAAa,IAAI,CAAC,CAAC,GACxF,SAAO,CAAG;UACtB,MAAMC,SAAS,GAAGL,WAAW,CAACM,KAAK,CAChCH,OAAO,cAAY,EAAI,2CAA2C,GACzC,6BAA6B,GAC7B,6BAA6B,GAC7B,2BAA2B,GAC7B,SAAO,CAAG;UAEpC,IAAIlD,MAAM,CAACsD,WAAW,IAAItD,MAAM,CAACuD,aAAa,EAAE;YAC9C,IAAIvD,MAAM,CAACsD,WAAW,IAAItD,MAAM,CAACuD,aAAa,EAAE;cAC9CjD,UAAU,CAACkD,IAAI,CAACT,WAAW,CAACU,QAAQ,CACjCP,OAAO,YAAU,EAAIF,eAAe,CAAC,CACrCE,OAAO,UAAQ,EAAIE,SAAS,EAAE;YACnC,CAAC,MAAM,IAAIpD,MAAM,CAACsD,WAAW,EAAE;cAC7BhD,UAAU,CAACkD,IAAI,CAACR,eAAe,CAAC;YAClC,CAAC,MAAM,IAAIhD,MAAM,CAACuD,aAAa,EAAE;cAC/BjD,UAAU,CAACkD,IAAI,CAACJ,SAAS,CAAC;YAC5B;YAEArD,MAAM,CAAC2D,MAAM,CAACpD,UAAU,CAAC;YACzBS,cAAc,EAAE;UAClB;QACF;QAEA,IAAIf,MAAM,CAAC2D,WAAW,EAAE;UACtB,MAAMC,aAAa,GAAG/E,CAAA,CACpB,wBAAwB,GACtB,kGAAkG,GAChGmB,MAAM,CAACmD,aAAa,GAAG,4BAA4B,GACrD,QAAQ,GACV,QAAM,CAAG;UACXpD,MAAM,CAAC2D,MAAM,CAACE,aAAa,CAAC;QAC9B;MACF;MAEA;AACF;AACA;AACA;MACEC,aAAa,EAAE,SAAAA,CAAUC,gBAAgB,EAAE;QACzC,IAAG,CAAEA,gBAAgB,IAAIhC,KAAK,CAACgC,gBAAgB,CAAC,IAAIA,gBAAgB,GAAG,CAAC,IACpEA,gBAAgB,GAAG9D,MAAM,CAACmD,aAAa,EAAE;UAC3C7C,UAAU,CAACgB,IAAI,EAAE;QACnB,CAAC,MAAM;UACLhB,UAAU,CAACK,IAAI,GAAGrB,IAAI,sBAAqB,EAAG+C,IAAI,CAACyB,gBAAgB,CAAC;UACpE,IAAI9D,MAAM,CAAC2D,WAAW,EAAE;YACtBrD,UAAU,CAAChB,IAAI,gBAAe,CAAE,CAC7B5B,IAAI,gBAAe,EAAGoG,gBAAgB,CAAC,CACvCC,KAAK,CAAC/B,IAAI,CAACgC,KAAK,CAAC,GAAG,GAAGF,gBAAgB,GAAG9D,MAAM,CAACmD,aAAa,CAAC,GAAG,IAAI;UAC3E;QACF;MACF;IACF,CAAC;EAED;IAAA,sBAAwB,EAAE,EAAE;IAAA,UAAU,EAAE;EAAE;EAAG,CAAC,GAAE,UAASrG,OAAO,EAACQ,MAAM,EAACnB,OAAO;IAC/E;AACA;AACA;AACA;AACA;;IAEA,YAAY;;IAEZ;IAEA,MAAM8H,gBAAgB,GAAG,CAAC;IAC1B,MAAMC,gBAAgB,GAAG,CAAC;IAC1B,MAAMC,eAAe,GAAG,CAAC;IACzB,MAAMC,iBAAiB,GAAG,CAAC;IAC3B,MAAMC,gBAAgB,GAAG,CAAC;IAC1B,MAAMC,WAAW,GAAG,CAAC;IACrB,MAAMC,aAAa,GAAG,EAAE;IACxB,IAAIC,mBAAmB;IACvB,IAAIC,uBAAuB,GAAG,SAAAA,CAAA,EAAY,EAAE;IAE5C,SAASC,mBAAmBA,CAAEC,KAAK,EAAE;MACnC,OAAOV,gBAAgB,IAClBU,KAAK,CAACC,OAAO,GAAGV,gBAAgB,GAAG,CAAC,CAAC,IACrCS,KAAK,CAACE,MAAM,GAAGV,eAAe,GAAG,CAAC,CAAC,IACnCQ,KAAK,CAACG,OAAO,GAAGT,gBAAgB,GAAG,CAAC,CAAC,IACrCM,KAAK,CAACI,QAAQ,GAAGX,iBAAiB,GAAG,CAAC,CAAC;IAC9C;IAEA,MAAMY,gBAAgB,GAAG;MACvBC,WAAW,EAAE,SAAAA,CAAUC,MAAM,EAAEC,IAAI,EAAE;QACnC;QACA,MAAMC,MAAM,GAAGF,MAAM,CAACG,SAAS,CAACC,YAAY,EAAE;QAC9C,MAAMC,YAAY,GAAGL,MAAM,CAACM,SAAS,CAACC,WAAW,CAACC,UAAU,CAACrI,MAAM;QACnE,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyI,MAAM,CAAC/H,MAAM,EAAEV,CAAC,IAAI;UACtCyI,MAAM,CAACzI,CAAC,EAAEgJ,KAAK,CAACC,MAAM,IAAIL,YAAY;UACtCL,MAAM,CAACW,OAAO,CAACtE,MAAM,CAAC6D,MAAM,CAACzI,CAAC,EAAE;QAClC;;QAEA;QACAuI,MAAM,CAACY,WAAW,eAAc,EAAGX,IAAI,CAACY,OAAO,CAAC;;QAEhD;QACA,IAAIZ,IAAI,CAACa,WAAW,EAAE;UACpBd,MAAM,CAACe,YAAY,CAAC,CAAC,CAAC;QACxB;MACF;IACF,CAAC;;IAED;IACA1F,KAAK,CAACC,uBAAuB,6BAA4B,EAAG,UAAU0F,WAAW,EAAE;MACjF,MAAMT,WAAW,GAAGS,WAAW,CAACC,GAAG,CAAC,UAAUC,IAAI,EAAE;QAClD;QACA,IAAG,CAAEA,IAAI,IAAI,CAACA,IAAI,CAAC,CAAC,GAAG;UACrB,OAAO,IAAI;QACb;QACA,OAAO;UACLL,OAAO,EAAEK,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG;UACrCC,KAAK,EAAED,IAAI,CAAC,CAAC;UACbE,KAAK,EAAE,CAAC;UACRC,IAAI,EAAEH,IAAI,CAAC,CAAC,CAAC,GAAG,GAAI,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,MAAO;UACxCJ,WAAW,EAAEI,IAAI,CAAC,CAAC;UACnBZ,SAAS,EAAER;QACb,CAAC;MACH,GAAGwB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC;MACjBhC,uBAAuB,CAAC,IAAI,EAAEgB,WAAW,CAAC;IAC5C,EAAE;IAEF,SAASiB,WAAWA,CAAExB,MAAM,EAAE;MAC5B,OAAOA,MAAM,CAACM,SAAS,IAAIN,MAAM,CAACM,SAAS,CAACmB,KAAK,IAAIzB,MAAM,CAACM,SAAS,CAACmB,KAAK,CAACC,MAAM;IACpF;IAEA,SAASC,cAAcA,CAAE3B,MAAM,EAAEW,OAAO,EAAEiB,QAAQ,EAAEC,CAAC,EAAEC,QAAQ,EAAE;MAC/D;MACA;MACA,MAAM9J,IAAI,GAAG2I,OAAO,CAACoB,YAAY;QAC/BtB,KAAK,EAAE;UAAEuB,GAAG,EAAE,CAAC;UAAEtB,MAAM,EAAE;QAAE;QAC3BuB,GAAG,EAAEL;MACP,EAAE;;MAEF;MACA,MAAMM,QAAQ,GAAGV,WAAW,CAACxB,MAAM,CAAC,GAAG,OAAO,GAAG,OAAO;;MAExD;MACAT,uBAAuB,GAAGuC,QAAQ;MAClC;MACAzG,KAAK,CAAC8G,aAAa,6BAA4B,EAAG;QAChDnK,IAAI,EAAEA,IAAI;QACVoK,KAAK,EAAEpC,MAAM,CAACqC;MAChB,GAAG;QAAEH,QAAQ,EAAEA;MAAS,EAAE;IAC5B;;IAEA;IACA;IACA,SAASI,8BAA8BA,CAAA,EAAI;MACzC,MAAMC,QAAQ,GAAG5I,CAAA,CAAE,IAAI,CAAC;MACxB,IAAI4I,QAAQ,CAACtC,IAAI,UAAS,EAAGvF,YAAY,KAAK,IAAI,EAAE;QAClD;MACF;;MAEA;;MAEA,MAAMsF,MAAM,GAAGuC,QAAQ,CAACtC,IAAI,SAAQ,CAAE;MACtC,MAAMuC,eAAe,GAAGD,QAAQ,CAACtC,IAAI,UAAS,CAAE;MAEhD,MAAMwC,iBAAiB,GAAG,SAAAA,CAAA,EAAY;QACpCzC,MAAM,CAACY,WAAW,oBAAmB,CAAE;MACzC,CAAC;MAED,MAAM8B,gBAAgB,GAAG,SAAAA,CAAUzC,IAAI,EAAE;QACvC;QACArE,YAAY,CAAC0D,mBAAmB,CAAC;QAEjCW,IAAI,GAAGA,IAAI,IAAI,EAAE;QACjB,IAAIA,IAAI,CAAC0C,MAAM,KAAK,QAAQ,IAAI,CAAC1C,IAAI,CAAC2C,KAAK,IAAI,CAAC3C,IAAI,CAAC2C,KAAK,CAACzK,MAAM,IAAI8H,IAAI,CAAC2C,KAAK,CAACzK,MAAM,GAAG,CAAC,EAAE;UAC1F;QACF;QACA;QACA;QACA,MAAM0K,GAAG,GAAG7C,MAAM,CAAC8C,iBAAiB,EAAE;QACtC,MAAMC,IAAI,GAAG/C,MAAM,CAACW,OAAO,CAACqC,OAAO,CAACH,GAAG,CAACb,GAAG,CAAC;;QAE5C;QACA;QACA;QACA,IAAIR,WAAW,CAACxB,MAAM,CAAC,IAAI,OAAOiD,IAAI,CAACF,IAAI,GAAG;UAC5C;QACF;;QAEA;QACA;QACA;QACA;QACA,MAAMG,OAAO,GAAG,YAAYD,IAAI,CAACF,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG;QACjDzD,mBAAmB,GAAGjC,UAAU,CAACoF,iBAAiB,EAAES,OAAO,CAAC;MAC9D,CAAC;MAEDlD,MAAM,CAAChG,EAAE,SAAQ,EAAG0I,gBAAgB,CAAC;MACrC1C,MAAM,CAAChG,EAAE,UAAS,EAAG,YAAY;QAC/BgG,MAAM,CAACmD,GAAG,CAACT,gBAAgB,CAAC;MAC9B,EAAE;MAEF1C,MAAM,CAACqC,aAAa,GAAGG,eAAe,CAACJ,KAAK;MAE5CpC,MAAM,CAACoD,UAAU,GAAGpD,MAAM,CAACoD,UAAU,IAAI,EAAE;MAC3CpD,MAAM,CAACoD,UAAU,CAACC,IAAI;QAAG1B,cAAc,EAAEA;MAAe,EAAE;MAC1D3B,MAAM,CAACsD,UAAU;QACfC,yBAAyB,EAAE,IAAI;QAC/BC,wBAAwB,EAAE;MAC5B,EAAE;MACFxD,MAAM,CAACyD,UAAU,CAACC,kBAAkB;QAAGC,cAAc,EAAEC;MAA4B,EAAE;IACvF;IAEA,SAASA,2BAA2BA,CAAE3D,IAAI,EAAE4D,IAAI,EAAEC,SAAS,EAAEC,OAAO,EAAEtE,KAAK,EAAE;MAC3E,IAAIoE,IAAI,KAAK,CAAC,CAAC,IAAI5D,IAAI,CAACD,MAAM,EAAE;QAC9B,MAAMgE,aAAa,GAAGxE,mBAAmB,CAACC,KAAK,CAAC;QAChD,IAAKsE,OAAO,KAAK1E,aAAa,IAAI2E,aAAa,KAAKhF,gBAAgB,IAC/D+E,OAAO,KAAK3E,WAAW,IAAI4E,aAAa,KAAKjF,gBAAgB,KAC5D,CAAEkB,IAAI,CAACD,MAAM,CAACM,SAAS,IAAI,CAACL,IAAI,CAACD,MAAM,CAACM,SAAS,CAAC2D,SAAS,GAAI;UACnE;UACArI,YAAY,CAAC0D,mBAAmB,CAAC;UACjC,IAAIkC,WAAW,CAACvB,IAAI,CAACD,MAAM,GAAG;YAC5BC,IAAI,CAACD,MAAM,CAACM,SAAS,CAACmB,KAAK,CAACrF,IAAI,EAAE;YAClC,OAAO;cAAE8H,OAAO,EAAE;YAAO,CAAC;UAC5B,CAAC,MAAM;YACL,OAAO;cAAEA,OAAO,EAAE;YAAoB,CAAC;UACzC;QACF;MACF;IACF;IAEA9L,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChBJ,CAAA,oBAAoB,EAAGO,IAAI,CAACoI,8BAA8B,CAAC;MAC7D;IACF,CAAC;EAED;EAAM,CAAC,GAAE,UAAS1K,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACxC;AACA;AACA;AACA;AACA;;IAEA,YAAY;;IACZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAChC,MAAMiD,MAAM,GAAGjD,OAAO,WAAU,CAAE;IAElC,MAAMuM,SAAS,GAAG,CAAC;IACnB,MAAMC,gBAAgB,GAAG,EAAE;IAC3B,MAAMC,gBAAgB,GAAG,sBAAsB;IAC/C,MAAMC,aAAa,GAAG,oBAAoB;IAC1C,MAAMC,uBAAuB,GAAG,GAAG;IAEnC,IAAIC,YAAY,GAAGH,gBAAgB;IACnC,IAAII,wBAAwB,GAAG,IAAI;IAEnC,SAASC,eAAeA,CAAEC,EAAE,EAAE3M,IAAI,EAAE;MAClC,MAAMgI,MAAM,GAAG4E,GAAG,CAACC,IAAI,CAACF,EAAE,CAAC;MAC3B3E,MAAM,CAAC8E,sBAAsB,CAAC,KAAK,CAAC;MACpC9E,MAAM,CAAC+E,kBAAkB,CAAC,KAAK,CAAC;MAChC/E,MAAM,CAACgF,kBAAkB,CAAC,KAAK,CAAC;MAChChF,MAAM,CAACiF,oBAAoB,CAAC,IAAI,CAAC;MACjCjF,MAAM,CAACkF,QAAQ,CAACC,sBAAsB,CAAC,KAAK,CAAC;MAC7CnF,MAAM,CAACoF,QAAQ,CAACZ,YAAY,CAAC;MAC7BxE,MAAM,CAAAqF,eAAgB,GAAGC,QAAQ;MACjCtF,MAAM,CAACW,OAAO,CAAC4E,OAAO,aAAY,CAAE;MACpCvF,MAAM,CAACW,OAAO,CAAC6E,YAAY,GAAGC,cAAc,EAAE;MAC9CzF,MAAM,CAAC0F,QAAQ,CAAC1N,IAAI,EAAE,CAAC,CAAC,CAAC;MACzB,OAAOgI,MAAM;IACf;IAEA,SAAS2F,eAAeA,CAAEC,eAAe,EAAEC,OAAO,EAAE;MAClD,IAAI,OAAOA,OAAO,KAAK,WAAU,EAAG;QAClCA,OAAO,GAAG,CAACpB,wBAAwB;MACrC;MAEApM,KAAK,CAACyN,UAAU,CAACF,eAAe,EAAEC,OAAO,CAAC;MAC1CpB,wBAAwB,GAAIoB,OAAO,KAAK,KAAM;MAC9ClM,CAAA,sBAAsB,EAAGoM,IAAI,WAAU,EAAG,CAACtB,wBAAwB,CAAC;IACtE;IAEA,SAASuB,wBAAwBA,CAAA,EAAI;MACnC,MAAMxL,aAAa,GAAG5C,OAAO,kBAAiB,CAAE;MAEhD,MAAM2K,QAAQ,GAAG5I,CAAA,CAAE,IAAI,CAAC;MACxB,MAAM6I,eAAe,GAAG7E,IAAI,CAACC,KAAK,CAAC2E,QAAQ,CAACrF,QAAQ,kCAA+B,EAAK+I,MAAM,GAAG9I,IAAI,EAAE,IAAI,KAAK;MAChH,IAAInF,IAAI,GAAG,EAAE;MACbuK,QAAQ,CAACrF,QAAQ,MAAK,EAAGhD,IAAI,CAAC,YAAY;QACxClC,IAAI,IAAI2B,CAAA,CAAE,IAAI,EAAEuD,QAAQ,OAAM,EAAGC,IAAI,EAAE,GAAG,IAAI;MAChD,GAAGd,MAAM,EAAE;MAEX,MAAM6J,SAAS,GAAGlO,IAAI,CAACmO,KAAK,QAAO,EAAGhO,MAAM;MAE5C,MAAMyK,KAAK,GAAIJ,eAAe,CAACI,KAAK,GAAG9F,IAAI,CAACsJ,GAAG,CAAC,CAAC,EAAE5D,eAAe,CAACI,KAAK,CAAC,GACrE9F,IAAI,CAACuJ,GAAG,CAACvJ,IAAI,CAACsJ,GAAG,CAACjC,SAAS,EAAE+B,SAAS,GAAG9B,gBAAgB,CAAE;MAE/D,IAAI8B,SAAS,GAAGtD,KAAK,EAAE;QACrB5K,IAAI,IAAI,IAAG,CAAEsO,MAAM,CAAC1D,KAAK,GAAGsD,SAAS,CAAC;MACxC;MAEA,MAAMK,QAAQ,GAAG/D,eAAe,CAACgE,OAAO,GAAG,SAAS;MACpD,MAAMC,WAAW,GAAGjE,eAAe,CAACkE,MAAM,GACtC,qDAAqD,GAAGlE,eAAe,CAACkE,MAAM,GAAG,SAAS,GAC1F,EAAE;MAEN,MAAMC,cAAc,GAAG9L,MAAM,CAAC0C,UAAU,WAAU,CAAE,IAAI,EAAE;MAE1D,MAAMqJ,aAAa,GAAGjN,CAAA,qBAAsB,GAC1C,0BAA0B,IAAI6I,eAAe,CAAC/E,KAAK,IAAI,GAAG,GAAGgJ,WAAW,GAAG,OAAO,GAClF,yBAAyB,GACvB,WAAW,GAAGF,QAAQ,GAAG,0EAA0E,GAC/F,0CAA0C,GAChD,QAAQ,GACR,sCAAsC,GACpC,wFAAwF,GACtF,+TAA+T,GAC/T/D,eAAe,CAACqE,WAAW,GAC7B,WAAW,GACX,uCAAuC,GAAGF,cAAc,CAACG,SAAS,GAAG,QAAQ,GAC/E,QAAQ,GACV,QAAM,CAAG;MAET,MAAMlB,eAAe,GAAGjM,CAAA,sDAAuD,IAC5EgN,cAAc,CAACI,WAAW,GACvB,4CAA6C,GAAGJ,cAAc,CAACI,WAAW,GAAG,QAAM,GACnF,GAAG,GACP,iDAAiD,GACnD,QAAM,CAAG;MACT,MAAMC,cAAc,GAAGzE,QAAQ,CAACnI,IAAI,IAAI,GAAGmM,QAAQ,CAAC;MAEpDhE,QAAQ,CAAC/D,MAAM,CAACoI,aAAa,EAAEpI,MAAM,CAACoH,eAAe,CAAC;;MAEtD;MACApL,aAAa,CAACH,cAAc,CAACkI,QAAQ,EAAEqE,aAAa,CAACxM,IAAI,eAAc,EAAG;MAC1EI,aAAa,CAAC7B,aAAa,WAAU,EAAGiO,aAAa,CAACxM,IAAI,sBAAqB,GAAIwL,eAAe,CAACxL,IAAI,aAAY,EAAG;MACtH4M,cAAc,CAACxO,IAAI,aAAY,EAAGgK,eAAe,CAACyE,UAAU,CAAC;MAC7DD,cAAc,CAAC9J,QAAQ,GAAG1E,IAAI,cAAa,EAAG,MAAK,CAAE;MAErD,IAAG,CAAEmO,cAAc,CAACG,SAAS,EAAE;QAC7BvE,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;MAClD,CAAC,MAAM;QACL5B,aAAa,CAACD,eAAe,CAACqM,aAAa,EAAErE,QAAQ,CAACnI,IAAI,2BAA0B,EAAG;MACzF;MACAmI,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;MAEhD,MAAM8K,aAAa,GAAG3E,QAAQ,CAACnI,IAAI,sBAAqB,CAAE;;MAE1D;MACA,MAAM+M,YAAY,GAAG,SAAAA,CAAA,EAAY;QAC/BD,aAAa,CAACxL,OAAO,QAAO,CAAE;MAChC,CAAC;MAED,MAAMsE,MAAM,GAAG0E,eAAe,CAAC6B,QAAQ,EAAEvO,IAAI,CAAC;MAC9CgI,MAAM,CAACoH,WAAW,CAAC,MAAM,GAAGC,UAAU,CAAC9E,QAAQ,CAACnI,IAAI,aAAY,EAAGkN,GAAG,YAAW,GAAI;MACrFtH,MAAM,CAACuH,QAAQ,CAACC,UAAU;QACxBC,IAAI,EAAE,WAAU;QAChBC,OAAO,EAAE;UAAEC,GAAG,EAAE,YAAW;UAAGC,GAAG,EAAE;QAAgB;QACnDC,IAAI,EAAEV;MACR,EAAE;MACFnH,MAAM,CAACuH,QAAQ,CAACC,UAAU;QACxBC,IAAI,EAAE,iBAAgB;QACtBC,OAAO,EAAE;UAAEC,GAAG,EAAE,kBAAiB;UAAGC,GAAG,EAAE;QAAsB;QAC/DC,IAAI,EAAEV;MACR,EAAE;MAEF,MAAMW,eAAe,GAAG,SAAAA,CAAA,EAAY;QAClC9H,MAAM,CAACsD,UAAU;UACfyE,QAAQ,EAAEnF,KAAK;UACfoF,QAAQ,EAAEpF;QACZ,EAAE;MACJ,CAAC;MACDkF,eAAe,EAAE;MAEjBZ,aAAa,CAAClN,EAAE,QAAO,EAAG,YAAY;QACpCgG,MAAM,CAACiI,KAAK,EAAE;MAChB,EAAE;MAEF1F,QAAQ,CAACtC,IAAI;QACXD,MAAM,EAAEA,MAAM;QACdkI,OAAO,EAAE1F,eAAe;QACxB2F,QAAQ,EAAE;MACZ,EAAE;MAEF5F,QAAQ,CAAC6F,OAAO,UAAS,EAAGpO,EAAE,QAAO,EAAG3B,KAAK,CAACgQ,SAAS,CAAC,YAAY;QAClEP,eAAe,EAAE;QACjB9H,MAAM,CAACsI,MAAM,CAAC,IAAI,CAAC;QACnB,OAAO3O,CAAA,CAAEqG,MAAM,CAACuI,SAAS,EAAEC,MAAM,EAAE,GAAG,CAAC;MACzC,GAAGjE,uBAAuB,EAAE,IAAI,EAAE;IACpC;IAEA,SAASkE,wBAAwBA,CAAA,EAAI;MACnC,MAAMC,aAAa,GAAG,IAAIrN,KAAK,CAACsN,YAAY,EAAE;MAC9ChP,CAAA,CAAEiP,MAAM,CAACF,aAAa,EAAE;QACtBtO,IAAI,EAAE,SAAAA,CAAUyO,KAAK,EAAE;UACrB,OAAOlP,CAAA,CAAEkP,KAAK,EAAEzO,IAAI,oBAAmB,CAAE;QAC3C;QACA0O,KAAK,EAAE,SAAAA,CAAUvG,QAAQ,EAAE;UACzB,OAAO5I,CAAA,CAAE4I,QAAQ,EAAEtC,IAAI,UAAS,EAAGuG,OAAO;QAC5C;QACAuC,SAAS,EAAE,SAAAA,CAAUxG,QAAQ,EAAET,QAAQ,EAAE;UACvCS,QAAQ,GAAG5I,CAAA,CAAE4I,QAAQ,CAAC;UACtBA,QAAQ,CAACnI,IAAI,sBAAqB,EAAGJ,EAAE,oCAAmC,EAAG,UAAUyF,KAAK,EAAEuJ,WAAW,EAAE;YACzG,IAAIvE,wBAAwB,IAAIuE,WAAW,KAAK,IAAI,EAAE;cACpDzG,QAAQ,CAACtC,IAAI,WAAU,EAAG,IAAI,CAAC;cAC/B0F,eAAe,CAACpD,QAAQ,CAACnI,IAAI,2BAA0B,GACvCmI,QAAQ,CAACtC,IAAI,WAAU,CAAE,KAAK,KAAK,CAAC;cACpD6B,QAAQ,CAAC,IAAI,CAAC;YAChB;UACF,EAAE;QACJ;QACAmH,WAAW,EAAE,SAAAA,CAAU1G,QAAQ,EAAE;UAC/B5I,CAAA,CAAE4I,QAAQ,EAAEnI,IAAI,sBAAqB,EAAG+I,GAAG,+BAA8B,CAAE;QAC7E;QACA+F,QAAQ,EAAE,SAAAA,CAAU3G,QAAQ,EAAE;UAC5BA,QAAQ,GAAG5I,CAAA,CAAE4I,QAAQ,CAAC;UACtB,IAAIA,QAAQ,CAACtC,IAAI,WAAU,CAAE,KAAK,IAAI,EAAE;YACtC,OAAO,IAAI;UACb;UACAsC,QAAQ,CAACtC,IAAI,WAAU,EAAG,KAAK,CAAC;UAChC,OAAO;YACLkI,QAAQ,EAAE5F,QAAQ,CAACtC,IAAI,WAAU,CAAE,KAAK,KAAK;YAC7CmC,KAAK,EAAEG,QAAQ,CAACtC,IAAI,UAAS,EAAGmC,KAAK;YACrCpK,IAAI,EAAEuK,QAAQ,CAACtC,IAAI,SAAQ,EAAGkJ,UAAU,GAAGD,QAAQ;YACnDE,SAAS,EAAE,IAAIzN,IAAI,GAAG0N,OAAO;UAC/B,CAAC;QACH;QACA3D,QAAQ,EAAE,SAAAA,CAAUnD,QAAQ,EAAEpB,KAAK,EAAE;UACnCoB,QAAQ,CAACtC,IAAI,WAAU,EAAG,IAAI,CAAC;UAC/BtG,CAAA,CAAE4I,QAAQ,EAAEtC,IAAI,SAAQ,EAAGkJ,UAAU,GAAGzD,QAAQ,CAACvE,KAAK,CAAC;QACzD;MACF,EAAE;MACF9F,KAAK,CAACqN,aAAa,CAACY,QAAQ,CAACZ,aAAa,EAAE,8BAA6B,CAAE;MAE3E,MAAMa,cAAc,GAAG,IAAIlO,KAAK,CAACmO,aAAa,EAAE;MAChD7P,CAAA,CAAEiP,MAAM,CAACW,cAAc,EAAE;QACvBnP,IAAI,EAAE,SAAAA,CAAUyO,KAAK,EAAE;UACrB,OAAOlP,CAAA,CAAEkP,KAAK,EAAEzO,IAAI,oBAAmB,CAAE;QAC3C;QACA0O,KAAK,EAAE,SAAAA,CAAUvG,QAAQ,EAAE;UACzB,OAAO5I,CAAA,CAAE4I,QAAQ,EAAEtC,IAAI,UAAS,EAAGwJ,QAAQ;QAC7C;QACAC,WAAW,EAAE,SAAAA,CAAUnH,QAAQ,EAAEtC,IAAI,EAAE;UACrCsC,QAAQ,GAAG5I,CAAA,CAAE4I,QAAQ,CAAC;UACtB,IAAItC,IAAI,CAAC0J,MAAM,EAAE;YACf,MAAM/D,eAAe,GAAGrD,QAAQ,CAACnI,IAAI,2BAA0B,EAAGqB,IAAI,GAAGrB,IAAI,aAAY,CAAE;YAC3FwL,eAAe,CAACtH,IAAI,CAAC2B,IAAI,CAAC0J,MAAM,CAAC;YACjC/D,eAAe,CAACxL,IAAI,qBAAoB,EAAGR,QAAQ,+BAA8B,CAAE;UACrF,CAAC,MAAM;YACL2I,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;UAClD;UACA,IAAI6D,IAAI,CAACpF,MAAM,EAAE;YACf,MAAM+O,WAAW,GAAI3J,IAAI,CAAC4J,YAAY,IAAI5J,IAAI,CAAC4J,YAAY,KAAK,MAAK,GACjE,QAAS,GAAG5J,IAAI,CAAC4J,YAAY,GAAI,YAAY;YAEjDtH,QAAQ,CAACnI,IAAI,eAAc,CAAE,CAC1BP,WAAW,aAAY,CAAE,CACzBA,WAAW,gBAAe,CAAE,CAC5BA,WAAW,gBAAe,CAAE,CAC5BA,WAAW,eAAc,CAAE,CAC3BD,QAAQ,CAACgQ,WAAW,CAAC;YACxBrH,QAAQ,CAACnI,IAAI,2BAA0B,EAAGqB,IAAI,GAAG6C,IAAI,CAAC2B,IAAI,CAACpF,MAAM,CAAC;UACpE,CAAC,MAAM;YACL0H,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,GAAGkC,IAAI,IAAI;UAC3D;UACAqH,eAAe,CAACpD,QAAQ,CAACnI,IAAI,2BAA0B,GAAI,KAAK,CAAC;QACnE;QACA0P,WAAW,EAAE,SAAAA,CAAUvH,QAAQ,EAAEwH,KAAK,EAAE;UACtCxH,QAAQ,GAAG5I,CAAA,CAAE4I,QAAQ,CAAC;UACtBoD,eAAe,CAACpD,QAAQ,CAACnI,IAAI,2BAA0B,GAAI,KAAK,CAAC;UACjEmI,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;UAChDmG,QAAQ,CAACnI,IAAI,2BAA0B,EAAGqB,IAAI,GAAG0B,IAAI,CAAC4M,KAAK,CAACC,OAAO,CAAC;QACtE;QACAC,UAAU,EAAE,SAAAA,CAAU1H,QAAQ,EAAE;UAC9BA,QAAQ,GAAG5I,CAAA,CAAE4I,QAAQ,CAAC;UACtBoD,eAAe,CAACpD,QAAQ,CAACnI,IAAI,2BAA0B,GAAI,KAAK,CAAC;UACjEmI,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;UAChDmG,QAAQ,CAACnI,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;QAClD;MACF,EAAE;MACFf,KAAK,CAACkO,cAAc,CAACD,QAAQ,CAACC,cAAc,EAAE,+BAA8B,CAAE;IAChF;IAEAnR,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChBJ,CAAA,oBAAoB,EAAGO,IAAI,CAAC8L,wBAAwB,CAAC;QACrDyC,wBAAwB,EAAE;MAC5B;MAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;MACEO,WAAW,EAAE,SAAAA,CAAUb,QAAQ,EAAE+B,OAAO,EAAE;QACxC,IAAG,CAAEA,OAAO,EAAE;UACZA,OAAO,GAAGvQ,CAAA,OAAO,CAAE;QACrB;QAEAuQ,OAAO,CAAC9P,IAAI,oBAAmB,EAAGF,IAAI,CAAC,YAAY;UACjD,IAAIqI,QAAQ,GAAG5I,CAAA,CAAE,IAAI,CAAC;UACtB4I,QAAQ,CAACtC,IAAI,WAAU,EAAGkI,QAAQ,KAAK,KAAK,CAAC;UAC7C5F,QAAQ,CAACnI,IAAI,sBAAqB,EAAGsB,OAAO,QAAO,EAAG,CAAE,IAAI,CAAC,CAAE;QACjE,EAAE;MACJ;MAEA;AACF;AACA;AACA;AACA;MACElC,iBAAiB,EAAE,SAAAA,CAAUC,OAAO,EAAE;QACpC+K,YAAY,GAAG/K,OAAO,GAAG4K,gBAAgB,GAAGC,aAAa;QACzD3K,CAAA,oBAAoB,EAAGO,IAAI,CAAC,YAAY;UACtC,MAAM8F,MAAM,GAAGrG,CAAA,CAAE,IAAI,EAAEsG,IAAI,SAAQ,CAAE;UACrC,IAAID,MAAM,EAAE;YACVA,MAAM,CAACoF,QAAQ,CAACZ,YAAY,CAAC;UAC/B;QACF,EAAE;MACJ;IACF,CAAC;EAED;IAAA,iBAAmB,EAAE,CAAC;IAAA,UAAU,EAAE,EAAE;IAAA,SAAS,EAAE;EAAE;EAAG,CAAC,GAAE,UAAS5M,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACtF,YAAY;;IAEZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAChC,MAAMiD,MAAM,GAAGjD,OAAO,WAAU,CAAE;IAClC,MAAMgD,QAAQ,GAAGhD,OAAO,uBAAsB,CAAE;IAEhD,MAAMuS,WAAW,GAAG,iYAAiY;IAErZ,MAAMC,aAAa,GAAG,+ZAA+Z;IAErb,MAAMC,eAAe,GAAG,aAAa;IACrC,MAAMC,kBAAkB,GAAG,gBAAgB;IAE3C,MAAMC,SAAS,GAAGrT,MAAM,CAACsT,IAAI,CAACC,YAAY,CAACC,SAAS,EAAE;MACpDC,WAAW,EAAE,OAAM;MACnBC,KAAK,EAAE,SAAQ;MACfC,wBAAwB,EAAE,CAAC;MAC3BC,wBAAwB,EAAE;IAC5B,EAAE;IAEF,MAAMC,gBAAgB,GAAG,EAAE;IAC3B,MAAMC,gBAAgB,GAAG,GAAG;IAC5B,MAAMC,iBAAiB,GAAG,GAAG;IAC7B,MAAMC,iBAAiB,GAAG7S,KAAK,CAACK,QAAQ,cAAa,CAAE;IACvD,MAAMyS,cAAc,GAAG9S,KAAK,CAACK,QAAQ,WAAU,CAAE;IACjD,MAAM0S,eAAe,GAAGzR,CAAA,2CAA4C,GAClE,mCAAmC,GACjC,6EAA6E,GAC3E,sCAAsC,GACtC,+CAA+C,GACjD,WAAW,GACX,+CAA+C,GAAGwR,cAAc,GAAG,IAAI,GACrE,MAAM,GACR,UAAU,GACZ,QAAQ,GACR,oCAAoC,GAAGA,cAAc,GAAG,sBAAsB,GAC9E,kCAAkC,GAChC,6EAA6E,GAC3E,sCAAsC,GACtC,2CAA2C,GAC7C,WAAW,GACb,QAAQ,GACV,QAAM,CAAG;IACT,IAAIE,gBAAgB;IACpB,IAAIC,QAAQ;IACZ,IAAIC,oBAAoB,GAAG,CAAC;IAE5B,SAASC,cAAcA,CAAEC,KAAK,EAAEC,IAAI,EAAE;MACpC,MAAMC,aAAa,GAAGzU,MAAM,CAACmG,UAAU,CAACqO,IAAI,EAAEV,gBAAgB,CAAC;MAC/DS,KAAK,CAACG,GAAG,oBAAmB,EAAG,YAAY;QACzC1U,MAAM,CAAC0E,YAAY,CAAC+P,aAAa,CAAC;QAClCzU,MAAM,CAACmG,UAAU,CAACqO,IAAI,EAAEV,gBAAgB,CAAC;MAC3C,EAAE;IACJ;IAEA,SAASa,SAASA,CAAA,EAAI;MACpBxT,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,IAAI,CAAC;MACjC4R,oBAAoB,GAAG,CAAC;MACxB5R,CAAA,CAAEmS,QAAQ,EAAEF,GAAG,aAAY,EAAG,YAAY;QACxC,IAAG,EAAGL,oBAAoB,IAAI,CAAC,EAAE;UAC/BlT,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;QACpC;MACF,EAAE;IACJ;IAEA,SAASoS,cAAcA,CAAA,EAAI;MACzB,MAAMC,GAAG,GAAGrS,CAAA,CAAE,IAAI,CAAC;MACnBkS,SAAS,EAAE;MACX;MACAxQ,KAAK,CAAC8G,aAAa,2BAA0B,EAAG6J,GAAG,CAACxP,GAAG,GAAG;;MAE1D;MACA,IAAG,CAAEwP,GAAG,CAAC9O,QAAQ,SAAQ,EAAGoE,MAAM,YAAW,EAAGrB,IAAI,aAAY,GAAI;QAClE+L,GAAG,CAACpS,QAAQ,kBAAiB,CAAE;MACjC,CAAC,MAAM;QACLoS,GAAG,CAACnS,WAAW,kBAAiB,CAAE;MACpC;IACF;IAEA,SAASoS,WAAWA,CAAA,EAAI;MACtB,MAAMD,GAAG,GAAGrS,CAAA,CAAE,IAAI,CAAC;MACnBkS,SAAS,EAAE;MACX;MACAxQ,KAAK,CAAC8G,aAAa,+BAA8B,EAAG6J,GAAG,CAACxP,GAAG,GAAG;MAC9D0P,2BAA2B,EAAE;IAC/B;IAEA,SAASA,2BAA2BA,CAAA,EAAI;MACtC,MAAMC,SAAS,GAAGC,aAAa,EAAE;MACjChB,eAAe,CAAChR,IAAI,8BAA6B,EAAG2L,IAAI,WAAU,EAAG,CAACoG,SAAS,CAAC,CAAC,EAAE;MACnFf,eAAe,CAAChR,IAAI,8BAA6B,EAAG2L,IAAI,WAAU,EAAG,CAACoG,SAAS,CAAC,CAAC,EAAE;IACrF;IAEA,SAASC,aAAaA,CAAEC,OAAO,EAAE;MAC/B,IAAG,CAAEA,OAAO,EAAE;QACZA,OAAO,GAAG1S,CAAA,IAAK,GAAGwR,cAAc,CAAC;MACnC;MACA,MAAMmB,aAAa,GAAGD,OAAO,CAACnP,QAAQ,YAAW,CAAE;MACnD,OAAO,CAACoP,aAAa,CAACC,IAAI,SAAQ,EAAG/P,GAAG,IAAI8P,aAAa,CAACE,IAAI,SAAQ,EAAGhQ,GAAG,GAAG;IACjF;IAEA,SAASiQ,YAAYA,CAAEhN,KAAK,EAAE;MAC5B,MAAM4M,OAAO,GAAG1S,CAAA,IAAK,GAAGwR,cAAc,CAAC;MACvC,MAAMgB,SAAS,GAAGC,aAAa,CAACC,OAAO,CAAC;MACxC,IAAIK,KAAK,GAAG,CAAC,CAAC;MACd,IAAIjN,KAAK,CAACkN,IAAI,KAAK,OAAM,EAAG;QAC1B,MAAMC,OAAO,GAAGjT,CAAA,CAAE,IAAI,EAAEwD,IAAI,EAAE;QAC9BuP,KAAK,GAAGE,OAAO,CAACC,UAAU,KAAK,GAAG,CAAC,GAAID,OAAO,CAACC,UAAU,KAAK,GAAG,CAAC,GAAG,CAAC,CAAE;MAC1E;MAEA,IAAIH,KAAK,IAAI,CAAC,EAAE;QACdL,OAAO,CAAC7P,GAAG,CAAC2P,SAAS,CAACO,KAAK,GAAGhR,OAAO,SAAQ,CAAE;MACjD;IACF;IAEA,SAASoR,qBAAqBA,CAAEC,QAAQ,EAAEC,OAAO,EAAE;MACjD,MAAMhB,GAAG,GAAGrS,CAAA,IAAK,GAAGuR,iBAAiB,CAAC;MACtC,IAAIc,GAAG,CAAC7T,MAAM,GAAG,CAAC,IAAI4U,QAAQ,IAAIA,QAAQ,CAAC5U,MAAM,GAAG,CAAC,EAAE;QACrD,MAAM+P,OAAO,GAAG6E,QAAQ,CAAC9L,GAAG,CAACgM,EAAE,IAC7B,iBAAiB,GAAGA,EAAE,CAACtI,EAAE,GAAG,qBAAqB,IAAIsI,EAAE,CAACC,UAAU,IAAI,GAAG,GAAG,IAAI,IAC7ED,EAAE,CAACC,UAAU,GAAG7U,KAAK,CAAC8U,UAAU,CAACF,EAAE,CAACC,UAAU,GAAG,IAAI,CAAC,GACnD,yBAAyB,GAAG7U,KAAK,CAAC8U,UAAU,CAACF,EAAE,CAACG,SAAS,GAAG,IAAI,CAAC,GAAG,IAAI,GAC9E,WACF,EAAGC,IAAI,IAAI;QAEXrB,GAAG,CAAC1N,IAAI,CAAC4J,OAAO,CAAC,CACdnC,IAAI,WAAU,EAAGgH,QAAQ,CAAC5U,MAAM,GAAG,CAAC,CAAC,CACrC0B,WAAW,kBAAiB,CAAE;QAEjC,IAAImT,OAAO,EAAE;UACX,IAAIA,OAAO,CAACrI,EAAE,EAAE;YACdqH,GAAG,CAACxP,GAAG,CAACwQ,OAAO,CAACrI,EAAE,CAAC;UACrB;UACA,IAAG,CAAEqI,OAAO,CAACE,UAAU,EAAE;YACvBlB,GAAG,CAACpS,QAAQ,kBAAiB,CAAE;UACjC;QACF;MACF,CAAC,MAAM;QACLoS,GAAG,CAACjG,IAAI,WAAU,EAAG,IAAI,CAAC;MAC5B;IACF;;IAEA;AACA;AACA;IACA1K,KAAK,CAACC,uBAAuB,yBAAwB,EAAG,UAAU2E,IAAI,EAAE;MACtE,IAAG,EAAGsL,oBAAoB,IAAI,CAAC,EAAE;QAC/BlT,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;MACpC;MACAkB,MAAM,CAACyS,aAAa,EAAE;MAEtBrN,IAAI,CAACsN,OAAO,GAAItN,IAAI,CAACsN,OAAO,KAAK,IAAK;MACtC,IAAG,CAAEjC,QAAQ,EAAE;QACb3R,CAAA,wBAAwB,EAAG0C,MAAM,EAAE;QACnC1C,CAAA,OAAO,EAAG8B,IAAI,EAAE;QAChBb,QAAQ,CAAC4S,OAAO,EAAE;QAElB,MAAMC,eAAe,GAAG5S,MAAM,CAAC2D,MAAM,2CAA2C,GAC1E,mCAAmC,GACjC,uCAAuC,GAAG0M,iBAAiB,GAAG,IAAI,GAChErQ,MAAM,CAAC0C,UAAU,WAAU,EAAGmQ,YAAY,GAC5C,UAAU,GACZ,QAAQ,GACR,oCAAoC,GAAGxC,iBAAiB,GAAG,aAAa,GAC1E,QAAM,EAAI,OAAM,CAAE;QAEtBuC,eAAe,CAACvQ,QAAQ,IAAI,GAAGgO,iBAAiB,EAAEyC,MAAM,CAAC5B,cAAc,CAAC;QAExE,IAAI9L,IAAI,CAACsN,OAAO,EAAE;UAChB;UACAjC,QAAQ,GAAGzQ,MAAM,CAAC2D,MAAM,CAAC4M,eAAe,CAAC;UAEzC,IAAInL,IAAI,CAAC2N,KAAK,IAAI3N,IAAI,CAAC2N,KAAK,CAACzV,MAAM,GAAG,CAAC,EAAE;YACvC,MAAMkU,OAAO,GAAGjB,eAAe,CAAClO,QAAQ,IAAI,GAAGiO,cAAc,CAAC;YAC9DkB,OAAO,CAACtG,IAAI,WAAU,EAAG,KAAK,CAAC,CAC5B4H,MAAM,CAAC1B,WAAW,CAAC,CACnBzN,MAAM,CAACyB,IAAI,CAAC2N,KAAK,CAAC3M,GAAG,CAAC4M,IAAI,IACzB,iBAAiB,GAAGA,IAAI,CAAClJ,EAAE,GAAG,IAAI,IAAIkJ,IAAI,CAACC,WAAW,IAAID,IAAI,CAAClJ,EAAE,CAAC,GAAG,WACvE,EAAG0I,IAAI,KAAK;;YAEd;YACAjC,eAAe,CAAChR,IAAI,SAAQ,EAAGJ,EAAE,QAAO,EAAGyS,YAAY,CAAC;UAC1D;;UAEA;UACA,IAAIxM,IAAI,CAAC8N,iBAAiB,EAAE;YAC1BN,eAAe,CAACjP,MAAM,CACpB,uDAAuD,GAAGyB,IAAI,CAAC8N,iBAAiB,GAAG,gCAAgC,GACjH,8CAA8C,GAC9C,ogBAAogB,GACtgB,MAAI,CAAG;UACX;QACF,CAAC,MAAM;UACLzC,QAAQ,GAAGzQ,MAAM,CAAC2D,MAAM,gBAAc,CAAG;QAC3C;MACF;MAEAsO,qBAAqB,CAAC7M,IAAI,CAAC+N,WAAW,EAAE/N,IAAI,CAACxF,OAAO,CAAC;MAErD,IAAIwF,IAAI,CAACxF,OAAO,EAAE;QAChB4Q,gBAAgB,GAAGpL,IAAI,CAACxF,OAAO,CAACkK,EAAE;QAClC,IAAI1E,IAAI,CAACxF,OAAO,CAACwT,MAAM,EAAE;UACvB7C,eAAe,CAAClO,QAAQ,SAAQ,EAAGV,GAAG,CAACyD,IAAI,CAACxF,OAAO,CAACwT,MAAM,CAAC;UAC3D/B,2BAA2B,EAAE;QAC/B;MACF;;MAEA;MACA,MAAMgC,WAAW,GAAGC,MAAM,CAACC,WAAW,CAACnO,IAAI,CAACoO,QAAQ,CAACpN,GAAG,CAAC,UAAUoN,QAAQ,EAAE;QAC3E,OAAO,CAACA,QAAQ,CAACC,GAAG,EAAED,QAAQ,CAAC;MACjC,GAAG;MAEH,IAAIE,WAAW,GAAG,CAAC;MACnB,IAAIC,aAAa,GAAG,CAAC;;MAErB;MACA7U,CAAA,oBAAoB,EAAGO,IAAI,CAAC,YAAY;QACtC,MAAMC,QAAQ,GAAGR,CAAA,CAAE,IAAI,CAAC;QACxB,MAAMyI,KAAK,GAAGjI,QAAQ,CAAC8F,IAAI,gBAAe,CAAE;QAC5C,KAAK,IAAIxI,CAAC,GAAG,CAAC,EAAEwK,GAAG,GAAG8I,gBAAgB,CAAC5S,MAAM,EAAEV,CAAC,GAAGwK,GAAG,EAAExK,CAAC,IAAI;UAC3D,IAAI0C,QAAQ,CAACmH,MAAM,CAACyJ,gBAAgB,CAACtT,CAAC,EAAEgX,QAAQ,EAAEtW,MAAM,GAAG,CAAC,EAAE;YAC5D4S,gBAAgB,CAACtT,CAAC,EAAEqK,QAAQ,CAAC3H,QAAQ,EAAE+T,WAAW,CAAC9L,KAAK,CAAC,IAAI,IAAInC,IAAI,CAACsN,OAAO,CAAC;YAC9E,IAAInL,KAAK,IAAI8L,WAAW,EAAE;cACxBK,WAAW,IAAKL,WAAW,CAAC9L,KAAK,EAAEsM,SAAS,IAAI,CAAE;cAClD,IAAIR,WAAW,CAAC9L,KAAK,EAAEsE,MAAM,IAAIwH,WAAW,CAAC9L,KAAK,EAAEsE,MAAM,KAAK,CAAC,EAAE;gBAChE8H,aAAa,IAAIN,WAAW,CAAC9L,KAAK,EAAEsE,MAAM;cAC5C,CAAC,MAAM;gBACL8H,aAAa,GAAGG,GAAG;cACrB;cACA,OAAOT,WAAW,CAAC9L,KAAK,CAAC;YAC3B,CAAC,MAAM;cACLmM,WAAW,IAAKpU,QAAQ,CAAC8F,IAAI,YAAW,CAAE,IAAI,CAAE;cAChDuO,aAAa,GAAGG,GAAG;YACrB;YACA,OAAO,IAAI;UACb;QACF;QACAzX,MAAM,CAAC4E,OAAO,CAACC,IAAI,qCAAqC,GAAGqG,KAAK,CAAC;MACnE,EAAE;MAEF,IAAIxF,KAAK,CAAC4R,aAAa,GAAG;QACxBA,aAAa,GAAG,SAAS;MAC3B;MAEA,IAAG,CAAEvO,IAAI,CAACsN,OAAO,EAAE;QACjBjC,QAAQ,CAAChN,IAAI,CAACzD,MAAM,CAAC0C,UAAU,WAAU,EAAG1C,MAAM,CAC/CmD,OAAO,mBAAiB,EAAIwQ,aAAa,CAAC,CAC1CxQ,OAAO,iBAAe,EAAIuQ,WAAW,EAAE;MAC5C;MAEA1T,MAAM,CAACuC,aAAa,EAAE;IACxB,EAAE;IAEF,SAASwR,cAAcA,CAAEzU,QAAQ,EAAE;MACjC,MAAM0U,IAAI,GAAG1U,QAAQ,CAACF,QAAQ,OAAM,CAAE,GAAGE,QAAQ,GAAGA,QAAQ,CAACC,IAAI,QAAO,CAAE;MAC1E,MAAM0U,MAAM,GAAGD,IAAI,CAACzU,IAAI,eAAc,CAAE;MACxC,IAAI0U,MAAM,CAAC3W,MAAM,KAAK,CAAC,EAAE;QACvB,OAAOwB,CAAA,4BAA0B,EAAKoV,QAAQ,CAACF,IAAI,CAAC;MACtD;MACA,OAAOC,MAAM;IACf;IAEA,SAASE,oBAAoBA,CAAEV,GAAG,EAAE;MAClC,OAAOjW,KAAK,CAAC4W,QAAQ,CAAC,UAAUZ,QAAQ,EAAE;QACxC,IAAIhD,gBAAgB,EAAE;UACpBhQ,KAAK,CAAC8G,aAAa,6BAA4B,EAAG;YAChD1H,OAAO,EAAE4Q,gBAAgB;YACzBiD,GAAG,EAAEA,GAAG;YACR5H,MAAM,EAAE2H,QAAQ,CAAC3H,MAAM;YACvBwI,OAAO,EAAEb,QAAQ,CAACa,OAAO;YACzBR,SAAS,EAAEL,QAAQ,CAACK;UACtB,EAAE;QACJ;MACF,GAAGzD,iBAAiB,CAAC;IACvB;IAEA,SAASkE,aAAaA,CAAE1P,KAAK,EAAE;MAC7B,MAAMgM,KAAK,GAAG9R,CAAA,CAAE,IAAI,CAAC;MACrB,MAAMQ,QAAQ,GAAGsR,KAAK,CAACrD,OAAO,oBAAmB,CAAE;MACnD,MAAMiG,QAAQ,GAAGlU,QAAQ,CAAC8F,IAAI,WAAU,CAAE;MAC1C,MAAMmP,MAAM,GAAG/H,UAAU,CAACoE,KAAK,CAACjP,GAAG,GAAG;MACtCiP,KAAK,CAACjP,GAAG,CAAC4S,MAAM,CAAC;MACjB,IAAG,CAAExS,KAAK,CAACwS,MAAM,GAAG;QAClBf,QAAQ,CAAC3H,MAAM,GAAG0I,MAAM;QACxBjV,QAAQ,CAAC8F,IAAI,WAAU,EAAGoO,QAAQ,CAAC;QACnC5O,KAAK,CAACQ,IAAI,CAACoP,YAAY,CAAChB,QAAQ,CAAC;MACnC;IACF;IAEA,SAASiB,cAAcA,CAAE7P,KAAK,EAAE;MAC9B,MAAMgM,KAAK,GAAG9R,CAAA,CAAE,IAAI,CAAC;MACrB,MAAMQ,QAAQ,GAAGsR,KAAK,CAACrD,OAAO,oBAAmB,CAAE;MACnD,MAAMiG,QAAQ,GAAGlU,QAAQ,CAAC8F,IAAI,WAAU,CAAE;MAC1CoO,QAAQ,CAACa,OAAO,GAAGzD,KAAK,CAACjP,GAAG,EAAE;MAC9BiD,KAAK,CAACQ,IAAI,CAACoP,YAAY,CAAChB,QAAQ,CAAC;MACjClU,QAAQ,CAAC8F,IAAI,WAAU,EAAGoO,QAAQ,CAAC;IACrC;IAEA,SAASkB,oBAAoBA,CAAE9P,KAAK,EAAE;MACpC,MAAM+P,SAAS,GAAG7V,CAAA,CAAE,IAAI,CAAC;MACzB,MAAMQ,QAAQ,GAAGqV,SAAS,CAACpH,OAAO,oBAAmB,CAAE;MACvD,MAAMiG,QAAQ,GAAGlU,QAAQ,CAAC8F,IAAI,WAAU,CAAE;MAC1C,MAAMwP,kBAAkB,GAAGtV,QAAQ,CAACC,IAAI,2BAA0B,CAAE;MACpE,MAAMsV,WAAW,GAAG/V,CAAA,CAAE,IAAI,CAAC;MAC3B,IAAI8V,kBAAkB,CAACnO,MAAM,WAAU,EAAGnJ,MAAM,GAAG,CAAC,EAAE;QACpD;QACAsX,kBAAkB,CAACrT,IAAI,EAAE;QACzBsT,WAAW,CAACtV,IAAI,aAAY,EAAGkE,IAAI,KAAK;QACxCoR,WAAW,CAACtV,IAAI,WAAU,EAAG+C,IAAI,CAACkN,eAAe,CAAC;QAClD,IAAIgE,QAAQ,CAACa,OAAO,EAAE;UACpBb,QAAQ,CAACsB,aAAa,GAAGtB,QAAQ,CAACa,OAAO;UACzCb,QAAQ,CAACa,OAAO,GAAG,IAAI;UACvBzP,KAAK,CAACQ,IAAI,CAACoP,YAAY,CAAChB,QAAQ,CAAC;QACnC;MACF,CAAC,MAAM;QACL;QACAoB,kBAAkB,CAAChU,IAAI,EAAE;QACzBiU,WAAW,CAACtV,IAAI,aAAY,EAAGkE,IAAI,UAAQ,CAAG;QAC9CoR,WAAW,CAACtV,IAAI,WAAU,EAAG+C,IAAI,CAACmN,kBAAkB,CAAC;QACrD,IAAI+D,QAAQ,CAACsB,aAAa,EAAE;UAC1BF,kBAAkB,CAACrV,IAAI,WAAU,EAAGoC,GAAG,CAAC6R,QAAQ,CAACsB,aAAa,EAAE1H,KAAK,EAAE;UACvEoG,QAAQ,CAACsB,aAAa,GAAG,IAAI;QAC/B;MACF;MACAxV,QAAQ,CAAC8F,IAAI,WAAU,EAAGoO,QAAQ,CAAC;IACrC;;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA,SAASuB,qBAAqBA,CAAEzV,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,EAAE;MAC3D,MAAMuB,MAAM,GAAGF,cAAc,CAACzU,QAAQ,CAAC;MACvC;MACA2U,MAAM,CAAC1U,IAAI,4BAA2B,EAAGiC,MAAM,EAAE;;MAEjD;MACA,IAAIgS,QAAQ,CAACwB,QAAQ,EAAE;QACrBf,MAAM,CAACtQ,MAAM,yCAAyC,GACtD,MAAM,GAAG3D,MAAM,CAAC0C,UAAU,WAAU,EAAGuS,aAAa,GAAG,OAAO,GAC9D,OAAO,GAAGzB,QAAQ,CAACwB,QAAQ,GAAG,QAAQ,GACtC,QAAM,CAAG;MACX;MAEA,IAAItC,OAAO,EAAE;QACX,IAAIpT,QAAQ,CAACC,IAAI,0BAAyB,EAAGjC,MAAM,KAAK,CAAC,EAAE;UACzD,MAAM4X,KAAK,GAAG5V,QAAQ,CAACC,IAAI,kBAAiB,CAAE;UAC9C,MAAM4V,aAAa,GAAG3X,KAAK,CAACK,QAAQ,eAAa,CAAG;UACpD,MAAMuX,cAAc,GAAG5X,KAAK,CAACK,QAAQ,mBAAiB,CAAG;UAEzDqX,KAAK,CAACG,MAAM,EAAE,CACXtW,QAAQ,WAAU,CAAE,CACpB4E,MAAM,iFAAiF,GACpF,8BAA8B,GAAGwR,aAAa,GAAG,kBAAkB,GACnE,gDAAgD,GAAGA,aAAa,GAAG,wBAAwB,GACzF,OAAO,GAAI,CAAC,GAAG3B,QAAQ,CAACK,SAAU,GAAG,MAAM,GAC7C,kCAAkC,GAChC,iCAAiC,GAC/B,uCAAuC,GACvC,qCAAqC,GAAGqB,KAAK,CAAC5S,IAAI,EAAE,GAAG,SAAS,GAClE,SAAS,GACT,kDAAkD,GAChD,6CAA6C,IAAIkR,QAAQ,CAACa,OAAO,GAAG,SAAS,GAAG,IAAI,GAAG,SAAS,GAChG,wBAAwB,IAAIb,QAAQ,CAACa,OAAO,GAAG5E,kBAAkB,GAAGD,eAAe,CAAC,GAAG,SAAS,GAClG,WAAW,GACb,QAAQ,GACV,QAAM,CAAG;UAEb0F,KAAK,CAAC1T,MAAM,EAAE;UAEdyS,MAAM,CAACtQ,MAAM,oDAAoD,GAC7D,mCAAmC,GACjC,uCAAuC,GAAGyR,cAAc,GAAG,mBAAmB,GAChF,QAAQ,GACR,qCAAqC,GAAGA,cAAc,GAAG,eAAe,GAC1E,QAAM,CAAG;UAEX,MAAME,qBAAqB,GAAG;YAAEd,YAAY,EAAEL,oBAAoB,CAACX,QAAQ,CAACC,GAAG;UAAE,CAAC;UAElFnU,QAAQ,CAACC,IAAI,IAAI,GAAG4V,aAAa,EAAEhW,EAAE,SAAQ,EAAGmW,qBAAqB,EAAEhB,aAAa,CAAC;UACrFhV,QAAQ,CAACC,IAAI,IAAI,GAAG6V,cAAc,EAAEjW,EAAE,SAAQ,EAAGmW,qBAAqB,EAAEb,cAAc,CAAC;UACvFnV,QAAQ,CAACC,IAAI,iCAAgC,EAAGJ,EAAE,QAAO,EAAGmW,qBAAqB,EAAEZ,oBAAoB,CAAC;UACxG,IAAG,CAAElB,QAAQ,CAACa,OAAO,EAAE;YACrBJ,MAAM,CAAC1U,IAAI,2BAA0B,EAAGgC,IAAI,EAAE;UAChD;QACF;QAEAjC,QAAQ,CAACC,IAAI,gCAA+B,EAAGoC,GAAG,CAAC6R,QAAQ,CAAC3H,MAAM,CAAC;QACnEvM,QAAQ,CAAC8F,IAAI,WAAU,EAAGoO,QAAQ,CAAC;MACrC,CAAC,MAAM;QACL,MAAM0B,KAAK,GAAG5V,QAAQ,CAACC,IAAI,kBAAiB,CAAE;QAC9C;QACA,IAAI2V,KAAK,CAAC3V,IAAI,0BAAyB,EAAGjC,MAAM,KAAK,CAAC,EAAE;UACtD,MAAMiY,KAAK,GAAGL,KAAK,CAAC5S,IAAI,EAAE;UAC1B4S,KAAK,CAACzR,IAAI,qFAAqF,GACnF,qCAAqC,GAAG8R,KAAK,GAAG,SAAO,CAAG;QACxE;QAEA,IAAI/B,QAAQ,CAAC3H,MAAM,IAAI2H,QAAQ,CAAC3H,MAAM,KAAK,CAAC,EAAE;UAC5C,MAAMwD,OAAO,GAAGmE,QAAQ,CAAC3H,MAAM,IAAI,CAAC,GAAG,QAAQ,GAC1C2H,QAAQ,CAAC3H,MAAM,IAAI2H,QAAQ,CAACK,SAAS,GAAG,SAAS,GAAG,MAAO;UAEhEqB,KAAK,CAAClW,WAAW,wDAAuD,CAAE,CACvED,QAAQ,SAAS,GAAGsQ,OAAO,CAAC,CAC5B9P,IAAI,0BAAyB,CAAE,CAC/BR,QAAQ,OAAM,CAAE,CAChBuD,IAAI,CAACkR,QAAQ,CAAC3H,MAAM,CAAC;QAC1B,CAAC,MAAM;UACLqJ,KAAK,CAAClW,WAAW,wDAAuD,CAAE,CACvED,QAAQ,kBAAiB,CAAE,CAC3BQ,IAAI,0BAAyB,CAAE,CAC/BP,WAAW,OAAM,CAAE,CACnByE,IAAI,UAAQ,CAAG;QACpB;MACF;MAEA,IAAIiP,OAAO,EAAE;QACX,IAAIc,QAAQ,CAACa,OAAO,EAAE;UACpB/U,QAAQ,CAACC,IAAI,0CAAyC,EAAGkE,IAAI,UAAQ,CAAG;UACxEnE,QAAQ,CAACC,IAAI,wCAAuC,EAAG+C,IAAI,CAACmN,kBAAkB,CAAC;UAC/EwE,MAAM,CAAC1U,IAAI,2BAA0B,EAAGqB,IAAI,EAAE,CAC3CrB,IAAI,WAAU,EAAGoC,GAAG,CAAC6R,QAAQ,CAACa,OAAO,CAAC;QAC3C,CAAC,MAAM;UACL/U,QAAQ,CAACC,IAAI,0CAAyC,EAAGkE,IAAI,KAAK;UAClEnE,QAAQ,CAACC,IAAI,wCAAuC,EAAG+C,IAAI,CAACkN,eAAe,CAAC;UAC5EyE,MAAM,CAAC1U,IAAI,2BAA0B,EAAGgC,IAAI,EAAE,CAC3ChC,IAAI,WAAU,EAAGoC,GAAG,IAAI;QAC7B;MACF,CAAC,MAAM,IAAI6R,QAAQ,CAACa,OAAO,EAAE;QAC3BJ,MAAM,CAACtQ,MAAM,oDAAoD,GAC7D,MAAM,GAAG3D,MAAM,CAAC0C,UAAU,WAAU,EAAG8S,YAAY,GAAG,OAAO,GAC7D,OAAO,GAAGhC,QAAQ,CAACiC,WAAW,IAAIjC,QAAQ,CAACa,OAAO,GAAG,QAAQ,GAC/D,QAAM,CAAG;MACb;MAEA7W,KAAK,CAACkY,aAAa,CAACzB,MAAM,CAAC;IAC7B;;IAEA;IACA/D,gBAAgB,CAAC1H,IAAI;MACnBoL,QAAQ,EAAE,yBAAwB;MAClC3M,QAAQ,EAAE,SAAAA,CAAU3H,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,EAAE;QAC/CqC,qBAAqB,CAACzV,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,CAAC;QAElDpT,QAAQ,CAACC,IAAI,+DAA8D,CAAE,CAC1E2L,IAAI,WAAU,EAAG,IAAI,CAAC,CACtBvJ,GAAG,CAAC6R,QAAQ,CAACmC,MAAM,IAAI,GAAG;MAC/B;IACF,EAAE;;IAEF;IACAzF,gBAAgB,CAAC1H,IAAI;MACnBoL,QAAQ,EAAE,uBAAsB;MAChC3M,QAAQ,EAAE,SAAAA,CAAU3H,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,EAAE;QAC/C,MAAMsC,QAAQ,GAAGxB,QAAQ,CAACwB,QAAQ;QAClCxB,QAAQ,CAACwB,QAAQ,GAAG,IAAI;QACxBD,qBAAqB,CAACzV,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,CAAC;QAElD/B,cAAc,CAACrR,QAAQ,EAAE,YAAY;UACnC;UACAA,QAAQ,CAACC,IAAI,+BAA8B,EAAGiC,MAAM,EAAE;UACtDlC,QAAQ,CAACC,IAAI,+BAA8B,EAAGqW,UAAU,QAAO,CAAE;;UAEjE;UACA,MAAMC,GAAG,GAAGvW,QAAQ,CAACC,IAAI,yCAAuC,CAAG;UACnEsW,GAAG,CAAC3K,IAAI,WAAU,EAAG,IAAI,EAAEA,IAAI,UAAS,EAAG,KAAK,CAAC;UAEjD,IAAIsI,QAAQ,CAACmC,MAAM,EAAE;YACnBnC,QAAQ,CAACmC,MAAM,CAACG,OAAO,CAAC3E,GAAG,IAAI;cAC7B,MAAM4E,EAAE,GAAGF,GAAG,CAACpP,MAAM,WAAW,GAAG0K,GAAG,CAAC7K,KAAK,GAAG,KAAK;cACpDyP,EAAE,CAAC7K,IAAI,UAAS,EAAG,IAAI,CAAC;cACxB,IAAIiG,GAAG,CAAC6E,MAAM,EAAE;gBACd,MAAM3G,OAAO,GAAG8B,GAAG,CAAC6E,MAAM,GAAG,CAAC,GAAG,SAAS,GAAG,QAAQ;gBACrD,MAAMC,SAAS,GAAG,CAAC9E,GAAG,CAAC6E,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,SAAO,IAAMtG,SAAS,CAACwG,MAAM,CAAC/E,GAAG,CAAC6E,MAAM,CAAC;gBACnFD,EAAE,CAACV,MAAM,GAAG1R,MAAM,mEAAmE,GAAG0L,OAAO,GAAG,IAAI,GACpG4G,SAAS,GAAG,SAAO,CAAG;cAC1B;YACF,EAAE;UACJ;UAEA,IAAIjB,QAAQ,EAAE;YACZ,MAAMmB,aAAa,GAAG,IAAIC,GAAG,CAACpB,QAAQ,CAAC;YAEvCa,GAAG,CAACxW,IAAI,CAAC,YAAY;cACnB,MAAM0W,EAAE,GAAGjX,CAAA,CAAE,IAAI,CAAC;cAClB,MAAMyI,KAAK,GAAGwO,EAAE,CAACV,MAAM,EAAE;cACzB,IAAIU,EAAE,CAAC7K,IAAI,UAAS,GAAI;gBACtB,IAAIiL,aAAa,CAACE,GAAG,CAACN,EAAE,CAACpU,GAAG,KAAK;kBAC/B4F,KAAK,CAACxI,QAAQ,eAAc,EAAGuX,OAAO,CAAChH,WAAW,CAAC;gBACrD,CAAC,MAAM;kBACL/H,KAAK,CAACxI,QAAQ,cAAa,EAAGuX,OAAO,CAAC/G,aAAa,CAAC;gBACtD;cACF,CAAC,MAAM;gBACL,IAAI4G,aAAa,CAACE,GAAG,CAACN,EAAE,CAACpU,GAAG,KAAK;kBAC/B4F,KAAK,CAACxI,QAAQ,cAAa,EAAGuX,OAAO,CAAC/G,aAAa,CAAC;gBACtD,CAAC,MAAM;kBACLhI,KAAK,CAACxI,QAAQ,aAAY,EAAGuX,OAAO,CAAChH,WAAW,CAAC;gBACnD;cACF;YACF,EAAE;UACJ;QACF,EAAE;MACJ;IACF,EAAE;;IAEF;IACAY,gBAAgB,CAAC1H,IAAI;MACnBoL,QAAQ,EAAE,qBAAoB;MAC9B3M,QAAQ,EAAE,SAAAA,CAAU3H,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,EAAE;QAC/C,MAAMuB,MAAM,GAAGF,cAAc,CAACzU,QAAQ,CAAC;QACvC,IAAIoT,OAAO,IAAIuB,MAAM,CAAC5R,QAAQ,KAAI,EAAG/E,MAAM,KAAK,CAAC,EAAE;UACjD2W,MAAM,CAACtQ,MAAM,2BAAwB,CAAI;QAC3C;QAEA,MAAMqR,QAAQ,GAAGxB,QAAQ,CAACwB,QAAQ;QAClCxB,QAAQ,CAACwB,QAAQ,GAAG,IAAI;QACxBD,qBAAqB,CAACzV,QAAQ,EAAEkU,QAAQ,EAAEd,OAAO,EAAEA,OAAO,CAAC;QAE3D,MAAMvN,MAAM,GAAG7F,QAAQ,CAAC8F,IAAI,SAAQ,CAAE;QACtC,IAAID,MAAM,EAAE;UACV,IAAG,CAAEuN,OAAO,EAAE;YACZvN,MAAM,CAACoR,WAAW,CAAC,IAAI,CAAC;UAC1B;UACApR,MAAM,CAACmJ,UAAU,GAAGzD,QAAQ,CAAC2I,QAAQ,CAACmC,MAAM,IAAI,IAAG,CAAE;QACvD;QAEA,IAAG,CAAEjD,OAAO,EAAE;UACZuB,MAAM,CAAC1U,IAAI,sBAAqB,EAAGiC,MAAM,EAAE;UAC3CyS,MAAM,CAAC1U,IAAI,2BAA0B,EAAGiC,MAAM,EAAE;QAClD;QAEAyS,MAAM,CAACjV,WAAW,gCAA+B,CAAE;QACnD,IAAIgW,QAAQ,EAAE;UACZf,MAAM,CAACtQ,MAAM,yCAAyC,GAClD,MAAM,GAAG3D,MAAM,CAAC0C,UAAU,WAAU,EAAGuS,aAAa,GAAG,OAAO,GAC9DD,QAAQ,GACV,QAAM,CAAG;QACb;MACF;IACF,EAAE;IAEFzX,MAAM,CAACnB,OAAO,GAAG,CACjB,CAAC;EAED;IAAA,sBAAwB,EAAE,EAAE;IAAA,UAAU,EAAE,EAAE;IAAA,SAAS,EAAE;EAAE;EAAG,CAAC,GAAE,UAASW,OAAO,EAACQ,MAAM,EAACnB,OAAO;IAC5F,YAAY;;IAEZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAChC,MAAMiD,MAAM,GAAGjD,OAAO,WAAU,CAAE;IAElC,SAASyZ,aAAaA,CAAElX,QAAQ,EAAEmX,WAAW,EAAE;MAC7C;MACAnX,QAAQ,CAAC8F,IAAI,cAAa,EAAGqR,WAAW,CAAC;;MAEzC;MACA,IAAG,CAAEA,WAAW,CAACC,aAAa,EAAE;QAC9BD,WAAW,CAACjD,QAAQ,GAAG,IAAI;MAC7B;MACAhT,KAAK,CAAC8G,aAAa,4BAA2B,EAAGmP,WAAW,CAAC;IAC/D;IAEA,SAASE,cAAcA,CAAA,EAAI;MACzB,MAAMC,GAAG,GAAG9X,CAAA,CAAE,IAAI,CAAC;MACnB,MAAMQ,QAAQ,GAAGsX,GAAG,CAACrJ,OAAO,oBAAmB,CAAE;MACjD,MAAMkJ,WAAW,GAAGnX,QAAQ,CAAC8F,IAAI,UAAS,CAAE,IAAI,EAAE;MAClD,IAAIqR,WAAW,CAACC,aAAa,EAAE;QAC7BE,GAAG,CAACvU,QAAQ,aAAY,EAAGC,IAAI,KAAK;QACpCsU,GAAG,CAACvU,QAAQ,WAAU,EAAGC,IAAI,cAAa,CAAE;QAC5ChD,QAAQ,CAAC8F,IAAI,gBAAe,EAAG,KAAK,CAAC,CAClC7F,IAAI,4BAA2B,CAAE,CACjCiC,MAAM,EAAE;MACb,CAAC,MAAM;QACLoV,GAAG,CAACvU,QAAQ,aAAY,EAAGoB,IAAI,UAAQ,CAAG;QAC1CmT,GAAG,CAACvU,QAAQ,WAAU,EAAGC,IAAI,iBAAgB,CAAE;QAC/C,IAAI2R,MAAM,GAAG3U,QAAQ,CAACC,IAAI,eAAc,CAAE;QAC1C,IAAI0U,MAAM,CAAC3W,MAAM,KAAK,CAAC,EAAE;UACvB2W,MAAM,GAAGnV,CAAA,4BAA0B,CAAI;UACvCmV,MAAM,CAACC,QAAQ,CAAC5U,QAAQ,CAACF,QAAQ,OAAM,CAAE,GAAGE,QAAQ,GAAGA,QAAQ,CAACC,IAAI,QAAO,EAAG;QAChF;QACAD,QAAQ,CAAC8F,IAAI,gBAAe,EAAG,IAAI,CAAC;QAEpC,MAAMgQ,cAAc,GAAG5X,KAAK,CAACK,QAAQ,WAAS,CAAG;QAEjDoW,MAAM,CAACtQ,MAAM,CACX,oDAAoD,GAClD,mCAAmC,GACjC,uCAAuC,GAAGyR,cAAc,GAAG,IAAI,GAC7DpV,MAAM,CAAC0C,UAAU,WAAU,EAAG8S,YAAY,GAC5C,UAAU,GACZ,QAAQ,GACR,qCAAqC,GAAGJ,cAAc,GAAG,IAAI,IAC1DqB,WAAW,CAACjD,QAAQ,IAAI,GAAG,GAC9B,aAAa,GACf,QAAM,CAAG;QAEXlU,QAAQ,CAACC,IAAI,qCAAoC,EAAGJ,EAAE,SAAQ,EAAG,YAAY;UAC3E,MAAMsX,WAAW,GAAGnX,QAAQ,CAAC8F,IAAI,UAAS,CAAE,IAAI,EAAE;UAClDqR,WAAW,CAACjD,QAAQ,GAAG1U,CAAA,CAAE,IAAI,EAAE6C,GAAG,EAAE;UACpC6U,aAAa,CAAClX,QAAQ,EAAEmX,WAAW,CAAC;QACtC,EAAE;MACJ;MACAA,WAAW,CAACC,aAAa,GAAG,CAACD,WAAW,CAACC,aAAa;MACtDF,aAAa,CAAClX,QAAQ,EAAEmX,WAAW,CAAC;IACtC;IAEA,SAASI,eAAeA,CAAA,EAAI;MAC1B,MAAMvX,QAAQ,GAAGR,CAAA,CAAE,IAAI,CAAC;MACxB,MAAM2X,WAAW,GAAGnX,QAAQ,CAAC8F,IAAI,UAAS,CAAE,IAAI,EAAE;MAClD,MAAM0R,QAAQ,GAAGxX,QAAQ,CAACC,IAAI,kBAAiB,CAAE;MACjD,MAAMmO,SAAS,GAAGoJ,QAAQ,CAACzB,MAAM,EAAE;MACnC,MAAM0B,WAAW,GAAGD,QAAQ,CAACtV,MAAM,GAAGc,IAAI,EAAE;MAE5C,IAAG,CAAEmU,WAAW,CAAC5C,SAAS,EAAE;QAC1B4C,WAAW,CAAC5C,SAAS,GAAGrH,UAAU,CAAClN,QAAQ,CAAC8F,IAAI,YAAW,EAAG,IAAI,CAAC;MACrE;MAEA,MAAM4R,WAAW,GAAGlY,CAAA,+CAA6C,CAAI,CAClEnB,IAAI,MAAK,EAAG8Y,WAAW,CAAC5C,SAAS,CAAC,CAClClW,IAAI,KAAI,EAAGH,KAAK,CAACK,QAAQ,GAAG;MAE/B,MAAMoZ,WAAW,GAAGR,WAAW,CAACC,aAAa,GAAG,SAAS,GAAG,GAAG;MAC/D,MAAMQ,aAAa,GAAGT,WAAW,CAACC,aAAa,GAAG,iBAAiB,GAAG,cAAc;MAEpFhJ,SAAS,CAAC3O,QAAQ,WAAU,CAAE,CAC3B4E,MAAM,0DAA0D,GAC/D,8BAA8B,GAAGqT,WAAW,CAACrZ,IAAI,KAAI,CAAE,GAAG,kBAAkB,GAC5E,kCAAkC,GAChC,mCAAmC,GAAGoZ,WAAW,GAAG,SAAS,GAC7D,kDAAkD,GAChD,6CAA6C,GAAGE,WAAW,GAAG,SAAS,GACvE,wBAAwB,GAAGC,aAAa,GAAG,SAAS,GACtD,WAAW,GACb,QAAQ,GACV,QAAM,CAAG,CACR3X,IAAI,eAAc,CAAE,CACpB+W,OAAO,CAACU,WAAW,CAAC;MAEvB1X,QAAQ,CAAC8F,IAAI,UAAS,EAAGqR,WAAW,CAAC;MACrC/I,SAAS,CAACnO,IAAI,OAAM,EAAGJ,EAAE,QAAO,EAAGwX,cAAc,CAAC;MAClDnZ,KAAK,CAAC2Z,0BAA0B,CAACH,WAAW,CAAC;IAC/C;IAEA,SAASI,YAAYA,CAAA,EAAI;MACvBpX,MAAM,CAACqX,eAAe,EAAE;MACxB,MAAMC,eAAe,GAAGtX,MAAM,CAACsX,eAAe,EAAE;MAEhD,MAAMC,kBAAkB,GAAG/Z,KAAK,CAACK,QAAQ,eAAc,CAAE;MACzD,MAAM2Z,cAAc,GAAGha,KAAK,CAACK,QAAQ,UAAS,CAAE;MAEhDyZ,eAAe,CAAC3T,MAAM,CACpB,oDAAoD,GAClD,0CAA0C,GACxC,mCAAmC,GACjC,kDAAkD,GAChD,sCAAsC,GACtC,+CAA+C,GACjD,WAAW,GACb,QAAQ,GACR,8BAA8B,GAAG4T,kBAAkB,GAAG,mBAAmB,GACzE,yBAAyB,GAAGA,kBAAkB,GAAG,iDAAiD,GAClG,mCAAmC,GACjC,kDAAkD,GAChD,sCAAsC,GACtC,2CAA2C,GAC7C,WAAW,GACb,SAAS,GACX,QAAQ,GACR,0CAA0C,GACxC,8BAA8B,GAAGC,cAAc,GAAG,mBAAmB,GACrE,cAAc,GAAGA,cAAc,GAAG,2CAA2C,GAC/E,QAAQ,GACV,SACF,CAAC;MAEDxX,MAAM,CAACuC,aAAa,EAAE;;MAEtB;MACAzD,CAAA,oBAAoB,EAAGO,IAAI,CAACwX,eAAe,CAAC;IAC9C;IAEAtZ,MAAM,CAACnB,OAAO,GAAG;MACfgb,YAAY,EAAEA;IAChB,CAAC;EAED;IAAA,UAAY,EAAE,EAAE;IAAA,SAAS,EAAE;EAAE;EAAG,CAAC,GAAE,UAASra,OAAO,EAACQ,MAAM,EAACnB,OAAO;IAClE,YAAY;;IAEZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAChC,MAAM0a,SAAS,GAAG,EAAE;IACpB,MAAMC,aAAa,GAAGla,KAAK,CAACK,QAAQ,uBAAqB,CAAG;IAC5D,MAAM8Z,eAAe,GAAGna,KAAK,CAACK,QAAQ,sBAAoB,CAAG;IAE7D,MAAM+Z,eAAe,GAAG9Y,CAAA,CACtB,sDAAsD,GAClD,mBAAmB,GAAG4Y,aAAa,GAAG,GAAG,GACzC,oBAAoB,GAAGC,eAAe,GAAG,IAAI,GAC/C,qDAAqD,GACnD,6BAA6B,GAC3B,4BAA4B,GAC1B,8BAA8B,GAAGD,aAAa,GAAG,QAAQ,GAC3D,QAAQ,GACR,8BAA8B,GAAGC,eAAe,GAAG,IAAI,GACrD,0BAA0B,GAC5B,QAAQ,GACR,uCAAuC,GACrC,yDAAyD,GAC3D,QAAQ,GACV,QAAQ,GACV,QAAQ,GACV,QAAM,CAAG;;IAEX;AACA;AACA;IACAnX,KAAK,CAACC,uBAAuB,4BAA2B,EAAG,UAAU2E,IAAI,EAAE;MACzE5H,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;MAClC8Y,eAAe,CAACrY,IAAI,IAAI,GAAGmY,aAAa,EAAEjU,IAAI,CAAC2B,IAAI,CAACxC,KAAK,IAAI,OAAM,CAAE;MACrEgV,eAAe,CAACrY,IAAI,SAAQ,EAAGkE,IAAI,CAAE2B,IAAI,CAACyS,QAAQ,IAAI,OAAM,CAAG;MAC/D,MAAMC,MAAM,GAAGF,eAAe,CAACrY,IAAI,OAAM,CAAE;MAC3C6F,IAAI,CAAC2S,MAAM,CAACjC,OAAO,CAAClF,KAAK,IAAI;QAC3B,MAAMjF,OAAO,GAAGnO,KAAK,CAACK,QAAQ,iBAAe,CAAG;QAChD,MAAMma,iBAAiB,GAAGxa,KAAK,CAACK,QAAQ,yBAAuB,CAAG;QAClEia,MAAM,CAACnU,MAAM,CACX,0BAA0B,GACxB,cAAc,GAAGgI,OAAO,GAAG,IAAI,IAAIiF,KAAK,CAACrJ,KAAK,IAAI,eAAc,CAAE,GAAG,UAAU,GAC/E,eAAe,IAAIqJ,KAAK,CAACkB,IAAI,IAAI,MAAK,CAAE,GAAG,+BAA+B,IAAIlB,KAAK,CAAChE,IAAI,IAAIjB,OAAO,CAAC,GAAG,QAAQ,GAAGA,OAAO,GAAG,iBAAiB,IAAIiF,KAAK,CAACrJ,KAAK,IAAI,GAAG,GAAG,aAAa,GACnL,oCAAoC,GAAGyQ,iBAAiB,GAAG,IAAI,IAC5DpH,KAAK,CAACqH,UAAU,IAAI,6BAA2B,CAAG,GACrD,QAAQ,GACV,QAAM,CAAG;MACb,EAAE;MAEFL,eAAe,CAACM,SAAS,CAACjH,QAAQ,CAACpO,IAAI,EAAEsV,KAAK;QAC5CC,QAAQ,EAAE,KAAK;QACfC,QAAQ,EAAE,QAAO;QACjBzX,IAAI,EAAE;MACR,EAAE;MACFgX,eAAe,CAACrY,IAAI,QAAO,EAAG+Y,QAAQ,CAAC,UAAU1T,KAAK,EAAE;QACtD,IAAIA,KAAK,CAACiN,KAAK,KAAK4F,SAAS,EAAE;UAC7BG,eAAe,CAACrY,IAAI,SAAQ,EAAGsB,OAAO,QAAO,CAAE;QACjD;MACF,GAAG0X,KAAK,GAAGnL,KAAK,EAAE;MAElBwK,eAAe,CAACrY,IAAI,SAAQ,EAAGJ,EAAE,QAAO,EAAG,UAAUyF,KAAK,EAAE;QAC1D,IAAI4T,KAAK,GAAG,IAAI;QAChBZ,eAAe,CAACrY,IAAI,SAAQ,EAAGiC,MAAM,EAAE;QACvC,MAAMiX,MAAM,GAAGb,eAAe,CAACrY,IAAI,QAAO,EAAG6G,GAAG,CAAC,YAAY;UAC3D,MAAM1I,EAAE,GAAGoB,CAAA,CAAE,IAAI,CAAC;UAClB,MAAM6C,GAAG,GAAGjE,EAAE,CAACiE,GAAG,EAAE;UACpB,IAAG,CAAEA,GAAG,IAAIA,GAAG,CAACrE,MAAM,GAAG,CAAC,EAAE;YAC1Bkb,KAAK,GAAG,KAAK;YACb,MAAMR,iBAAiB,GAAGxa,KAAK,CAACK,QAAQ,yBAAuB,CAAG;YAClEH,EAAE,CAACqB,QAAQ,aAAY,CAAE,CACtBpB,IAAI,mBAAkB,EAAGqa,iBAAiB,CAAC,CAC3CrG,IAAI,GAAG/Q,IAAI,EAAE;UAClB,CAAC,MAAM,IAAIlD,EAAE,CAAC0B,QAAQ,aAAY,GAAI;YACpC1B,EAAE,CAACsB,WAAW,aAAY,CAAE,CACzB4W,UAAU,mBAAkB,CAAE,CAC9BjE,IAAI,GAAGpQ,IAAI,EAAE;UAClB;UACA,OAAO;YACLqL,IAAI,EAAElP,EAAE,CAACC,IAAI,OAAM;YACnB2I,KAAK,EAAE5I,EAAE,CAACiE,GAAG;UACf,CAAC;QACH,GAAG+W,GAAG,EAAE;QACR,IAAIF,KAAK,EAAE;UACThb,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,IAAI,CAAC;UACjC0B,KAAK,CAAC8G,aAAa,sBAAqB,EAAG;YAAEyQ,MAAM,EAAEU;UAAO,GAAG;YAAEpR,QAAQ,EAAE;UAAQ,EAAE;QACvF;QACAzC,KAAK,CAAC+T,wBAAwB,EAAE;MAClC,EAAE;IACJ,EAAE;IAEFnY,KAAK,CAACC,uBAAuB,sBAAqB,EAAG,UAAU2E,IAAI,EAAE;MACnE,IAAIA,IAAI,CAACpF,MAAM,KAAK,IAAI,EAAE;QACxB4X,eAAe,CAACO,KAAK,OAAM,EAAG3W,MAAM,EAAE;MACxC,CAAC,MAAM,IAAI4D,IAAI,CAAC8J,KAAK,EAAE;QACrB1R,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;QAClC,MAAM8Z,QAAQ,GAAG9Z,CAAA,mCAAoC,GAAGsG,IAAI,CAAC8J,KAAK,GAAG,QAAM,CAAG;QAC9E,IAAI9J,IAAI,CAACyT,UAAU,EAAE;UACnBD,QAAQ,CAACtC,OAAO,WAAW,GAAGlR,IAAI,CAACyT,UAAU,GAAG,mCAAgC,CAAI;QACtF;QACAjB,eAAe,CAACrY,IAAI,cAAa,EAAGoE,MAAM,CAACiV,QAAQ,CAAC;MACtD;IACF,EAAE;IAEFrb,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY,CAElB;IACF,CAAC;EAED;IAAA,SAAW,EAAE;EAAE;EAAG,CAAC,GAAE,UAASnC,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACpD,YAAY;;IAEZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAChC,MAAM+b,qBAAqB,GAAG,GAAG;IACjC,MAAMC,mBAAmB,GAAG,GAAG;IAE/B,SAASC,UAAUA,CAAEpU,KAAK,EAAEqU,KAAK,EAAE;MACjC,IAAIA,KAAK,IAAIA,KAAK,CAACC,QAAQ,EAAE;QAC3B;MACF;MACA;MACA,IAAGpa,CAAA,CAAG8F,KAAK,CAAC5G,MAAM,EAAEyI,MAAM,QAAO,EAAGnJ,MAAM,EAAE;QAC1C,MAAMgC,QAAQ,GAAGR,CAAA,CAAE8F,KAAK,CAACuU,cAAc,CAAC;QACxC,MAAMC,KAAK,GAAG;UACZtP,EAAE,EAAExK,QAAQ,CAAC3B,IAAI,KAAI;UACrBgE,GAAG,EAAErC,QAAQ,CAACC,IAAI,WAAU,EAAG6G,GAAG,EAAEiT,GAAG,EAAEtD,EAAE,KAAKA,EAAE,CAACzP,KAAK,EAAEoS,GAAG;QAC/D,CAAC;QACDlb,KAAK,CAAC8b,cAAc,CAACra,OAAO,aAAa,GAAGma,KAAK,CAACtP,EAAE,EAAEsP,KAAK,CAAC;MAC9D;IACF;IAEA,SAASG,sBAAsBA,CAAA,EAAI;MACjC;MACA/b,KAAK,CAAC8b,cAAc,CAACE,IAAI,CAAC,UAAUC,GAAG,EAAE;QACvC,IAAIA,GAAG,CAACzH,UAAU,eAAc,GAAI;UAClC,MAAMoH,KAAK,GAAG5b,KAAK,CAAC8b,cAAc,CAAC7a,OAAO,CAACgb,GAAG,CAAC;UAC/C;UACA3a,CAAA,IAAK,GAAGsa,KAAK,CAACtP,EAAE,EAAEnI,GAAG,CAACyX,KAAK,CAACzX,GAAG,EAAEd,OAAO,SAAQ,EAAG;YAAGqY,QAAQ,EAAE;UAAK,GAAG;QAC1E,CAAC,MAAM,IAAIO,GAAG,CAACzH,UAAU,aAAY,GAAI;UACvC,MAAMoH,KAAK,GAAG5b,KAAK,CAAC8b,cAAc,CAAC7a,OAAO,CAACgb,GAAG,CAAC;UAC/C,MAAMna,QAAQ,GAAGR,CAAA,IAAK,GAAGsa,KAAK,CAACtP,EAAE,CAAC;UAClC,IAAIsP,KAAK,CAACzX,GAAG,IAAIyX,KAAK,CAACzX,GAAG,CAACrE,MAAM,EAAE;YACjC;YACA;YACA;YACAgC,QAAQ,CAACyR,GAAG,oBAAmB,EAAGvT,KAAK,CAACgQ,SAAS,CAAC,YAAY;cAC5D;cACA,IAAIkM,eAAe,GAAG,IAAI;cAC1BN,KAAK,CAACzX,GAAG,CAACmU,OAAO,CAACxP,KAAK,IAAI;gBACzB,MAAMqT,OAAO,GAAGra,QAAQ,CAACC,IAAI,gBAAgB,GAAG+G,KAAK,GAAG,KAAK;gBAC7D,IAAIqT,OAAO,CAACrc,MAAM,KAAK,CAAC,EAAE;kBACxBqc,OAAO,CAACzO,IAAI,UAAS,EAAG,IAAI,EAAErK,OAAO,SAAQ,EAAG;oBAAGqY,QAAQ,EAAE;kBAAK,GAAG;gBACvE,CAAC,MAAM;kBACLQ,eAAe,GAAG,KAAK;gBACzB;cACF,EAAE;cACF,OAAOA,eAAe;YACxB,GAAGX,mBAAmB,EAAE,IAAI,EAAE;UAChC;QACF,CAAC,MAAM,IAAIU,GAAG,CAACzH,UAAU,mBAAkB,GAAI;UAC7C,MAAMoH,KAAK,GAAG5b,KAAK,CAAC8b,cAAc,CAAC7a,OAAO,CAACgb,GAAG,CAAC;UAC/C;UACA,MAAM/R,QAAQ,GAAG5I,CAAA,0DAA2D,GAAGsa,KAAK,CAACQ,MAAM,GAAG,KAAK;UACnG,MAAMzU,MAAM,GAAGuC,QAAQ,CAACtC,IAAI,SAAQ,CAAE;UACtC,IAAID,MAAM,EAAE;YACVA,MAAM,CAACmJ,UAAU,GAAGzD,QAAQ,CAACuO,KAAK,CAACzX,GAAG,CAAC;YACvCwD,MAAM,CAACsI,MAAM,CAAC,IAAI,CAAC;UACrB;QACF;MACF,EAAE;;MAEF;MACA3O,CAAA,iEAAiE,EAAGgU,MAAM,CAACkG,UAAU,CAAC;MACtFla,CAAA,8DAA8D,EAAGgU,MAAM,CAACkG,UAAU,CAAC;MACnFla,CAAA,0FAA0F,EAAGgU,MAAM,CAAC,UAAUlO,KAAK,EAAEqU,KAAK,EAAE;QAC1H,IAAIA,KAAK,IAAIA,KAAK,CAACC,QAAQ,EAAE;UAC3B;QACF;QAEA,MAAM5Z,QAAQ,GAAGR,CAAA,CAAE,IAAI,CAAC;QACxB,MAAMsa,KAAK,GAAG;UACZtP,EAAE,EAAExK,QAAQ,CAAC3B,IAAI,KAAI;UACrBgE,GAAG,EAAErC,QAAQ,CAACqC,GAAG;QACnB,CAAC;QACD,IAAIyX,KAAK,CAACzX,GAAG,IAAIyX,KAAK,CAACzX,GAAG,KAAK,GAAE,EAAG;UAClC;UACAnE,KAAK,CAAC8b,cAAc,CAACra,OAAO,eAAe,GAAGma,KAAK,CAACtP,EAAE,EAAEsP,KAAK,CAAC;QAChE,CAAC,MAAM;UACL;UACA5b,KAAK,CAAC8b,cAAc,CAACO,UAAU,eAAe,GAAGT,KAAK,CAACtP,EAAE,CAAC;QAC5D;MACF,EAAE;MACFhL,CAAA,uDAAuD,EAAGO,IAAI,CAAC,YAAY;QACzE,MAAMqI,QAAQ,GAAG5I,CAAA,CAAE,IAAI,CAAC;QACxB,MAAMqG,MAAM,GAAGuC,QAAQ,CAACtC,IAAI,SAAQ,CAAE;QACtC,MAAMgU,KAAK,GAAG;UACZQ,MAAM,EAAElS,QAAQ,CAACtC,IAAI,gBAAe;UACpCzD,GAAG,EAAE;QACP,CAAC;QAED,MAAMmY,gBAAgB,GAAG,SAAAA,CAAUlV,KAAK,EAAE;UACxCwU,KAAK,CAACzX,GAAG,GAAG+F,QAAQ,CAACtC,IAAI,SAAQ,EAAGkJ,UAAU,GAAGD,QAAQ,EAAE;UAC3D,IAAI+K,KAAK,CAACzX,GAAG,IAAIyX,KAAK,CAACzX,GAAG,KAAK,GAAE,EAAG;YAClC;YACAnE,KAAK,CAAC8b,cAAc,CAACra,OAAO,mBAAmB,GAAGma,KAAK,CAACQ,MAAM,EAAER,KAAK,CAAC;UACxE,CAAC,MAAM;YACL;YACA5b,KAAK,CAAC8b,cAAc,CAACO,UAAU,mBAAmB,GAAGT,KAAK,CAACQ,MAAM,CAAC;UACpE;QACF,CAAC;QAED,IAAIzU,MAAM,EAAE;UACVA,MAAM,CAAChG,EAAE,SAAQ,EAAG3B,KAAK,CAAC4W,QAAQ,CAAC0F,gBAAgB,EAAEhB,qBAAqB,EAAE,KAAK,EAAE;QACrF;MACF,EAAE;IACJ;IAEAvb,MAAM,CAACnB,OAAO,GAAG;MACf2d,kBAAkB,EAAER;IACtB,CAAC;EAED;IAAA,SAAW,EAAE;EAAE;EAAG,EAAE,GAAE,UAASxc,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACrD,YAAY;;IAEZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAChC,MAAMuC,QAAQ,GAAGvC,OAAO,aAAY,CAAE;IACtC,MAAMiD,MAAM,GAAGjD,OAAO,WAAU,CAAE;IAClC,MAAM6C,OAAO,GAAG7C,OAAO,YAAW,CAAE;IACpC,MAAM4C,aAAa,GAAG5C,OAAO,kBAAiB,CAAE;IAChD,MAAM8B,SAAS,GAAG9B,OAAO,cAAa,CAAE;IAExC,MAAMid,kBAAkB,GAAG,GAAG;IAC9B,IAAIC,gBAAgB;IACpB,IAAIC,cAAc,GAAG,EAAE;IACvB,IAAIC,cAAc;IAClB,IAAIC,cAAc;IAElB5Z,KAAK,CAACC,uBAAuB,8BAA6B,EAAG,UAAUyC,OAAO,EAAE;MAC9E,IAAIA,OAAO,EAAE;QACX;QACA,IAAIA,OAAO,CAACsQ,QAAQ,KAAK,IAAI,EAAE;UAC7B;UACAhW,KAAK,CAAC8b,cAAc,CAACe,KAAK,EAAE;UAC5B;UACA,IAAIhe,MAAM,CAACie,QAAQ,CAACC,MAAM,EAAE;YAC1Ble,MAAM,CAACie,QAAQ,CAACC,MAAM,GAAGle,MAAM,CAACie,QAAQ,CAACC,MAAM,GAAG,mBAAmB;UACvE,CAAC,MAAM;YACLle,MAAM,CAACie,QAAQ,CAACC,MAAM,GAAG,mBAAmB;UAC9C;QACF;QAEA,IAAIN,gBAAgB,IAAIA,gBAAgB,CAAC3c,MAAM,GAAG,CAAC,EAAE;UACnD2c,gBAAgB,CAACrE,UAAU,OAAM,EAAGrU,IAAI,EAAE;QAC5C,CAAC,MAAM,IAAI2B,OAAO,CAAC4G,EAAE,EAAE;UACrBhL,CAAA,iBAAiB,EAAGyC,IAAI,EAAE;QAC5B;QACA2Y,cAAc,GAAGhX,OAAO;QACxB,IAAIgX,cAAc,KAAK,IAAI,EAAE;UAC3BD,gBAAgB,GAAGnb,CAAA,6CAA4C,CAAG;QACpE,CAAC,MAAM;UACLmb,gBAAgB,GAAGnb,CAAA,IAAK,GAAGob,cAAc,CAACpQ,EAAE,EAAEuL,MAAM,EAAE;UACtD4E,gBAAgB,CAACtc,IAAI,OAAM,EAAG,MAAK,CAAE;QACvC;QACAsc,gBAAgB,CAACrZ,IAAI,GAAGC,OAAO,QAAO,CAAE;QAExC,IAAIqC,OAAO,CAACsX,mBAAmB,EAAE;UAC/Bhd,KAAK,CAAC8b,cAAc,CAACe,KAAK,EAAE;QAC9B,CAAC,MAAM;UACL/a,QAAQ,CAACya,kBAAkB,EAAE;QAC/B;QAEA,MAAMU,cAAc,GAAGR,gBAAgB,CAAC1a,IAAI,sBAAqB,CAAE;QACnE,IAAIkb,cAAc,CAACnd,MAAM,GAAG,CAAC,EAAE;UAC7B;UACAmd,cAAc,CAAC1J,GAAG,qBAAoB,EAAGvT,KAAK,CAAC4W,QAAQ,CAAC,YAAY;YAClE5W,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;UACpC,GAAGkb,kBAAkB,EAAE,KAAK,EAAE;QAChC,CAAC,MAAM;UACLxc,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;QACpC;QAEAkB,MAAM,CAACyS,aAAa,EAAE;QACtB,IAAIvP,OAAO,CAACwX,KAAK,EAAE;UACjB9a,OAAO,CAACkE,aAAa,CAACZ,OAAO,CAACwX,KAAK,CAAC;QACtC;MACF;IACF,EAAE;IAEF,SAASC,YAAYA,CAAE/V,KAAK,EAAE;MAC5B;MACA,MAAMgW,kBAAkB,GAAGhW,KAAK,CAACQ,IAAI,CAACiK,OAAO,CAAC9P,IAAI,+CAA8C,CAAE;;MAElG;MACAqb,kBAAkB,CAAC5b,WAAW,0BAAyB,CAAE;MACzD4b,kBAAkB,CAACrb,IAAI,6BAA4B,EAAGiC,MAAM,EAAE;MAE9D,MAAMqZ,OAAO,GAAGD,kBAAkB,CAACnU,MAAM,CAAC,YAAY;QACpD,IAAIqU,IAAI,GAAG,IAAI;QACf,MAAMC,CAAC,GAAGjc,CAAA,CAAE,IAAI,CAAC;QACjB,IAAIic,CAAC,CAACtU,MAAM,0BAAyB,EAAGnJ,MAAM,GAAG,CAAC,EAAE;UAClDyd,CAAC,CAACxb,IAAI,+BAA8B,EAAGF,IAAI,CAAC,YAAY;YACtD,MAAMsC,GAAG,GAAG7C,CAAA,CAAE,IAAI,EAAE6C,GAAG,EAAE;YACzBmZ,IAAI,GAAKnZ,GAAG,IAAIA,GAAG,CAACrE,MAAM,GAAG,CAAC,IAAMqE,GAAG,KAAK,CAAG;YAC/C,OAAOmZ,IAAI;UACb,EAAE;QACJ,CAAC,MAAM,IAAIC,CAAC,CAACtU,MAAM,wBAAuB,GAAI;UAC5CqU,IAAI,GAAIC,CAAC,CAACxb,IAAI,iDAAgD,EAAGjC,MAAM,GAAG,CAAE;QAC9E;QACA,OAAO,CAACwd,IAAI;MACd,EAAE;MAEF,IAAID,OAAO,CAACvd,MAAM,GAAG,CAAC,EAAE;QACtBud,OAAO,CAAC9b,QAAQ,0BAAyB,CAAE;QAC3C,IAAI8b,OAAO,CAACtb,IAAI,eAAc,EAAGjC,MAAM,KAAK,CAAC,EAAE;UAC7Cud,OAAO,CAAClX,MAAM,mEAAmE,GAC7E3D,MAAM,CAAC0C,UAAU,WAAU,EAAGsY,cAAc,GAC9C,QAAM,CAAG;QACb,CAAC,MAAM;UACLH,OAAO,CAACtb,IAAI,eAAc,EAAGoE,MAAM,uDAAuD,GACtF,oBAAoB,GACpB3D,MAAM,CAAC0C,UAAU,WAAU,EAAGsY,cAAc,GAC9C,QAAM,CAAG;QACb;QACAH,OAAO,CAACnC,GAAG,CAAC,CAAC,EAAEuC,cAAc,EAAE;QAC/BrW,KAAK,CAAC+T,wBAAwB,EAAE;QAChC,OAAO,KAAK;MACd;;MAEA;MACA9Z,SAAS,CAACsP,WAAW,CAAC,KAAK,EAAEvJ,KAAK,CAACQ,IAAI,CAACiK,OAAO,CAAC;IAClD;IAEA9R,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChBib,cAAc,GAAGrX,IAAI,CAACC,KAAK,CAAAjE,CAAA,iCAAkC,EAAG0C,MAAM,GAAGc,IAAI,EAAE,IAAI,KAAK;QAExF8X,cAAc,GAAGtb,CAAA,iBAAiB,CAAE;QACpCsb,cAAc,CAAC/a,IAAI,CAAC,YAAY;UAC9B,MAAM6D,OAAO,GAAGpE,CAAA,CAAE,IAAI,CAAC;UACvB;UACAa,aAAa,CAACH,cAAc,CAAC0D,OAAO,EAAEA,OAAO,CAACb,QAAQ,KAAI,EAAG;;UAE7D;UACA;UACA,IAAI8X,cAAc,CAAC5W,WAAW,EAAE;YAC9BL,OAAO,CAAC3D,IAAI,wBAAuB,EAAGJ,EAAE,QAAO,EAAG;cAAEkQ,OAAO,EAAEnM;YAAQ,GAAGyX,YAAY,CAAC;UACvF,CAAC,MAAM;YACLzX,OAAO,CAAC3D,IAAI,wBAAuB,EAAGJ,EAAE,QAAO,EAAG;cAAEkQ,OAAO,EAAEvQ,CAAA,OAAO;YAAG,GAAG6b,YAAY,CAAC;UACzF;QACF,EAAE;QAEF7b,CAAA,wBAAwB,EAAGK,EAAE,QAAO,EAAG,YAAY;UACjD3B,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,IAAI,CAAC;QACnC,EAAE;QAEF,IAAG,CAAEqb,cAAc,CAAC5W,WAAW,EAAE;UAC/B;UACAzE,CAAA,wBAAwB,EAAGyC,IAAI,EAAE;UACjC5B,aAAa,CAACH,cAAc,CAAAV,CAAA,OAAQ,GAAIA,CAAA,WAAW,EAAG;;UAEtD;UACA,IAAIqb,cAAc,CAACe,eAAe,EAAE;YAClCd,cAAc,CAACe,IAAI,GAAG5Z,IAAI,GAAGxC,QAAQ,wBAAuB,CAAE;YAC9Dqb,cAAc,GAAGA,cAAc,CAACgB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAC9C;;UAEA;UACAhB,cAAc,CAACe,IAAI,GAAG5b,IAAI,wBAAuB,EAAGqB,IAAI,EAAE;QAC5D,CAAC,MAAM;UACL;UACAwZ,cAAc,CAAC7Y,IAAI,EAAE;UACrB,IAAI4Y,cAAc,CAACe,eAAe,EAAE;YAClCpc,CAAA,4CAA4C,EAAG0C,MAAM,EAAE;YACvD4Y,cAAc,GAAGA,cAAc,CAACgB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAC9C;QACF;MACF;MAEA;AACF;AACA;AACA;MACEha,oBAAoB,EAAE,SAAAA,CAAU8Y,cAAc,EAAE;QAC9C,IAAG,CAAEA,cAAc,EAAE;UACnB,IAAG,CAAEC,cAAc,CAAC5W,WAAW,EAAE;YAC/B2W,cAAc,GAAGpb,CAAA,OAAO,CAAE;UAC5B,CAAC,MAAM;YACLob,cAAc,GAAGE,cAAc,CAAC3T,MAAM,WAAU,CAAE;UACpD;QACF;QACA;QACAyT,cAAc,CAAC3a,IAAI,wBAAuB,EAAGsB,OAAO,QAAO,CAAE;QAC7D;QACAhC,SAAS,CAACsP,WAAW,CAAC,KAAK,EAAE+L,cAAc,CAAC;MAC9C;MAEAvH,OAAO,EAAE,SAAAA,CAAA,EAAY;QACnByH,cAAc,CAACxZ,IAAI,GAAGC,OAAO,QAAO,CAAE;MACxC;IACF,CAAC;EAED;IAAA,iBAAmB,EAAE,CAAC;IAAA,WAAW,EAAE,CAAC;IAAA,aAAa,EAAE,CAAC;IAAA,YAAY,EAAE,CAAC;IAAA,UAAU,EAAE,EAAE;IAAA,SAAS,EAAE;EAAE;EAAG,EAAE,GAAE,UAAS9D,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACpI,YAAY;;IAEZ;IACA,MAAMoB,KAAK,GAAGT,OAAO,UAAS,CAAE;IAEhC,IAAIse,QAAQ,GAAG,EAAE;IACjB,IAAI/D,eAAe;IACnB,MAAMgE,cAAc,GAAG,MAAM;IAC7B,IAAIC,cAAc,GAAGD,cAAc;IAEnC,MAAME,oBAAoB,GAAG1c,CAAA,+BAAgC,GAC3DtB,KAAK,CAACK,QAAQ,+BAA6B,CAAG,GAAG,KAAK;IACxD,MAAM4d,sBAAsB,GAAG3c,CAAA,+BAAgC,GAC7DtB,KAAK,CAACK,QAAQ,8BAA4B,CAAG,GAAG,KAAK;IACvD,MAAM6d,qBAAqB,GAAG5c,CAAA,CAC5B,4BAA4B,GAC1B,mFAAmF,GACrF,QAAM,CAAG;IACX,MAAM8Y,eAAe,GAAG9Y,CAAA,CACtB,sDAAsD,GAClD,mBAAmB,GAAG0c,oBAAoB,CAAC7d,IAAI,KAAI,CAAE,GAAG,GAAG,GAC3D,oBAAoB,GAAG8d,sBAAsB,CAAC9d,IAAI,KAAI,CAAE,GAAG,IAAI,GACjE,qDAAqD,GACnD,mEAAmE,GACrE,QAAQ,GACV,QAAM,CAAG;IAEX,MAAMge,eAAe,GAAG7c,CAAA,wCAAuC,CAAG;IAElE8Y,eAAe,CAACrY,IAAI,gBAAe,EAAGoE,MAAM,CAAC6X,oBAAoB,CAAC;IAClE5D,eAAe,CAACrY,IAAI,iBAAgB,EAAGoE,MAAM,CAAC8X,sBAAsB,EAAE9X,MAAM,CAAC+X,qBAAqB,CAAC;;IAEnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAlb,KAAK,CAACC,uBAAuB,8BAA6B,EAAG,UAAUmb,SAAS,EAAE;MAChFtE,eAAe,CAACtY,WAAW,gBAAe,CAAE;MAC5C2c,eAAe,CAACvQ,MAAM,EAAE;MACxB,IAAIwQ,SAAS,CAAC9J,IAAI,KAAK,OAAM,EAAG;QAC9BnP,eAAe,CAACiZ,SAAS,CAACC,OAAO,CAACjZ,KAAK,EAAEgZ,SAAS,CAACC,OAAO,CAAChZ,IAAI,EAAE+Y,SAAS,CAAC9T,MAAM,EAAE8T,SAAS,CAACC,OAAO,CAACC,MAAM,EACzGF,SAAS,CAACG,SAAS,EAAEH,SAAS,CAACI,YAAY,EAAEJ,SAAS,CAACK,YAAY,CAAC;MACxE,CAAC,MAAM,IAAIL,SAAS,CAAC9J,IAAI,KAAK,QAAO,EAAG;QACtCnP,eAAe,CAACiZ,SAAS,CAACC,OAAO,CAACjZ,KAAK,EAAEgZ,SAAS,CAACC,OAAO,CAAChZ,IAAI,EAAE,MAAK,EAAG,GAAG;QAC5E/D,CAAA,OAAO,EAAGyC,IAAI,EAAE;MAClB,CAAC,MAAM;QACLoa,eAAe,CAAClY,IAAI,CAACmY,SAAS,CAACC,OAAO,CAAChZ,IAAI,CAAC,CACzCtD,IAAI,qBAAoB,CAAE,CAC1BF,IAAI,CAAC6c,cAAc,CAAC;QAEvB1e,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;QAElCwY,eAAe,CAACtY,WAAW,aAAY,CAAE,CACtCD,QAAQ,CAAC6c,SAAS,CAAC9J,IAAI,KAAK,SAAS,GAAG,eAAe,GAAG,YAAW,CAAE,CACvEzP,QAAQ,cAAa,CAAE,CACvBsB,MAAM,CAACgY,eAAe,CAAC;MAC5B;MACApZ,aAAa,EAAE;IACjB,EAAE;;IAEF;AACA;AACA;IACA,SAASA,aAAaA,CAAA,EAAI;MACxB,IAAI+U,eAAe,IAAIA,eAAe,CAACha,MAAM,GAAG,CAAC,EAAE;QACjDwB,CAAA,OAAO,EAAG2N,GAAG,aAAY,EAAG6K,eAAe,CAAC6E,WAAW,GAAG;MAC5D;IACF;;IAEA;AACA;AACA;IACA,SAASD,cAAcA,CAAA,EAAI;MACzB,MAAMxe,EAAE,GAAGoB,CAAA,CAAE,IAAI,CAAC;MAClB,MAAMyP,SAAS,GAAG6N,QAAQ,CAAC1e,EAAE,CAAC4E,IAAI,IAAI,EAAE,CAAC;MACzC,IAAIiM,SAAS,IAAI,CAACxM,KAAK,CAACwM,SAAS,GAAG;QAClC7Q,EAAE,CAAC4E,IAAI,CAAC9E,KAAK,CAAC8U,UAAU,CAAC/D,SAAS,GAAG,IAAI,EAAE;MAC7C,CAAC,MAAM;QACL7Q,EAAE,CAAC4E,IAAI,IAAI;MACb;IACF;;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA,SAASK,eAAeA,CAAEC,KAAK,EAAEiZ,OAAO,EAAE/T,MAAM,EAAEgU,MAAM,EAAEC,SAAS,EAAEC,YAAY,EAAEC,YAAY,EAAE;MAC/F,MAAMI,QAAQ,GAAGX,qBAAqB,CAACrZ,QAAQ,SAAQ,CAAE;MAEzDmZ,oBAAoB,CAAC/X,IAAI,CAACb,KAAK,EAAErD,IAAI,qBAAoB,EAAGF,IAAI,CAAC6c,cAAc,CAAC;MAChFT,sBAAsB,CAAChY,IAAI,CAACoY,OAAO,EAAEtc,IAAI,qBAAoB,EAAGF,IAAI,CAAC6c,cAAc,CAAC;MAEpF,IAAIpU,MAAM,KAAK,MAAK,EAAG;QACrB4T,qBAAqB,CAACna,IAAI,EAAE;MAC9B,CAAC,MAAM;QACL8a,QAAQ,CAAC/Z,IAAI,CAACwZ,MAAM,CAAC;QACrB,IAAIhU,MAAM,KAAK,QAAO,EAAG;UACvBuU,QAAQ,CAACtL,GAAG,QAAO,EAAG,YAAY;YAChC1U,MAAM,CAACie,QAAQ,CAACgC,MAAM,EAAE;UAC1B,EAAE;QACJ,CAAC,MAAM,IAAIxU,MAAM,KAAK,SAAS,IAAIiU,SAAS,IAAIC,YAAY,EAAE;UAC5DK,QAAQ,CAACtL,GAAG,QAAO,EAAG,YAAY;YAChC,IAAIkL,YAAY,EAAE;cAChBze,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,IAAI,CAAC;cACjCzC,MAAM,CAACmG,UAAU,OAAO1D,CAAA,IAAK,GAAGid,SAAS,EAAElb,OAAO,CAACmb,YAAY,GAAGC,YAAY,CAAC;YACjF,CAAC,MAAM;cACLnd,CAAA,IAAK,GAAGid,SAAS,EAAElb,OAAO,CAACmb,YAAY,CAAC;YAC1C;UACF,EAAE;QACJ;MACF;MAEAxe,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,KAAK,CAAC;MAElC8Y,eAAe,CAACja,IAAI,OAAM,EAAImK,MAAM,KAAK,MAAK,GAAK,QAAQ,GAAG,aAAY,CAAE,CACzEoM,QAAQ,CAACjD,QAAQ,CAACpO,IAAI,CAAC,CACvBkO,GAAG,kBAAiB,EAAG,YAAY;QAClC6G,eAAe,CAACxM,MAAM,EAAE;MAC1B,EAAE,CACD+M,KAAK;QACJC,QAAQ,EAAE,KAAK;QACfC,QAAQ,EAAE,QAAO;QACjBzX,IAAI,EAAE;MACR,EAAE;IACN;IAEArD,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChB1B,KAAK,CAACyN,UAAU,CAAAnM,CAAA,OAAQ,GAAI,IAAI,CAAC;QACjCwY,eAAe,GAAGxY,CAAA,uBAAuB,CAAE;QAC3Cuc,QAAQ,GAAGvY,IAAI,CAACC,KAAK,CAAAjE,CAAA,iCAAkC,EAAG0C,MAAM,GAAGc,IAAI,EAAE,IAAI,KAAK;QAClFgV,eAAe,CAACvY,QAAQ,eAAe,GAAGwc,cAAc,CAAC;QACzDhZ,aAAa,EAAE;MACjB;MAEA;AACF;AACA;MACEkQ,aAAa,EAAE,SAAAA,CAAA,EAAY;QACzBkJ,eAAe,CAACvQ,MAAM,EAAE;QACxBwM,eAAe,CAACxM,MAAM,EAAE;QACxBkM,eAAe,CAACtY,WAAW,6BAA4B,EAAGD,QAAQ,aAAY,CAAE;QAChFwD,aAAa,EAAE;MACjB;MAEA;AACF;AACA;AACA;AACA;MACEG,UAAU,EAAE,SAAAA,CAAU6Z,IAAI,EAAE;QAC1B,OAAOlB,QAAQ,CAACkB,IAAI,CAAC,IAAI,IAAI;MAC/B;MAEA;AACF;AACA;AACA;AACA;MACE9a,UAAU,EAAE,SAAAA,CAAU4N,OAAO,EAAE;QAC7B,IAAG,CAAEA,OAAO,EAAE;UACZA,OAAO,GAAGiM,cAAc;QAC1B;QACAhE,eAAe,CAACtY,WAAW,SAAS,GAAGuc,cAAc,EAAExc,QAAQ,SAAS,GAAGsQ,OAAO,CAAC;QACnFkM,cAAc,GAAGlM,OAAO;MAC1B;MAEA;AACF;AACA;AACA;AACA;MACE1L,MAAM,EAAE,SAAAA,CAAUjG,EAAE,EAAE8e,KAAK,EAAE;QAC3B9e,EAAE,GAAGoB,CAAA,CAAEpB,EAAE,CAAC;QACV,QAAQ8e,KAAK;UACX,KAAK,MAAK;YACRlF,eAAe,CAACjV,QAAQ,YAAW,EAAGsB,MAAM,CAACjG,EAAE,CAAC;YAChD;UACF,KAAK,OAAM;YACT4Z,eAAe,CAACjV,QAAQ,aAAY,EAAGsB,MAAM,CAACjG,EAAE,CAAC;YACjD;UACF,KAAK,QAAO;UACZ;YACE4Z,eAAe,CAACjV,QAAQ,cAAa,EAAGsB,MAAM,CAACjG,EAAE,CAAC;QACtD;QACA6E,aAAa,EAAE;QACf,OAAO7E,EAAE;MACX;MAEA;AACF;AACA;AACA;MACE8D,MAAM,EAAE,SAAAA,CAAU9D,EAAE,EAAE;QACpBA,EAAE,CAAC8D,MAAM,EAAE;QACXe,aAAa,EAAE;MACjB;MAEA;AACF;AACA;MACEA,aAAa,EAAEA,aAAa;MAE5B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACEI,eAAe,EAAEA;IACnB,CAAC;EAED;IAAA,SAAW,EAAE;EAAE;EAAG,EAAE,GAAE,UAAS5F,OAAO,EAACQ,MAAM,EAACnB,OAAO;IACrD,YAAY;;IAEZ;IAEA,MAAMqgB,UAAU,GAAG,EAAE;IACrB,MAAMC,YAAY,GAAG,EAAE;IACvB,MAAMC,IAAI,GAAG7d,CAAA,OAAO,EAAGnB,IAAI,OAAM,CAAE,IAAI,OAAO;IAE9C,IAAIif,YAAY,GAAK,OAAOC,qBAAqB,KAAK,WAAU,GAAKA,qBAAqB,GAAG,IAAK;IAElG,SAASC,cAAcA,CAAEtgB,CAAC,EAAE;MAC1BA,CAAC,CAACsgB,cAAc,EAAE;IACpB;IAEA,SAASC,oBAAoBA,CAAA,EAAI;MAC/B,IAAIH,YAAY,EAAE;QAChB,OAAOA,YAAY,CAAC9S,EAAE,GAAG,GAAG,GAAG8S,YAAY,CAACI,OAAO,GAAG,GAAG;MAC3D;MACA,OAAO,EAAE;IACX;IAEA,SAASC,gBAAgBA,CAAEC,MAAM,EAAE;MACjC,IAAG,CAAEA,MAAM,EAAE;QACXA,MAAM,GAAG,eAAe;MAC1B;MACA,OAAOA,MAAM,GAAGjb,IAAI,CAACkb,MAAM,GAAGvb,QAAQ,CAAC,EAAE,EAAEwZ,KAAK,CAAC,CAAC,CAAC;IACrD;IAEA,SAASgC,iBAAiBA,CAAA,EAAI;MAC5B,MAAMC,SAAS,GAAG,iBAAiB;MACnCve,CAAA,sCAAqC,EAAIO,IAAI,CAAC,YAAY;QACxD,MAAMuR,KAAK,GAAG9R,CAAA,CAAE,IAAI,CAAC;QACrB,MAAMwe,UAAU,GAAGL,gBAAgB,EAAE;QAErCrM,KAAK,CAACkC,MAAM,CAAC,YAAY;UACvB,MAAMyK,MAAM,GAAG3M,KAAK,CAACjP,GAAG,EAAE;UAC1B7C,CAAA,IAAK,GAAGwe,UAAU,EAAE9b,MAAM,EAAE;UAC5B,IAAI+b,MAAM,IAAI,CAACF,SAAS,CAACjV,IAAI,CAACmV,MAAM,GAAG;YACrC3M,KAAK,CAACjT,IAAI,mBAAkB,EAAG2f,UAAU,EAAEve,QAAQ,aAAY,CAAE,CAC9Dye,KAAK,aAAa,GAAGF,UAAU,GAAG,wCAAsC,CAAG;UAChF,CAAC,MAAM;YACL,IAAIC,MAAM,CAACjgB,MAAM,GAAG,CAAC,EAAE;cACrBsT,KAAK,CAACjP,GAAG,CAAC6K,UAAU,CAAC+Q,MAAM,EAAE;YAC/B;YACA3M,KAAK,CAACgF,UAAU,mBAAkB,EAAG5W,WAAW,aAAY,CAAE;UAChE;QACF,EAAE;MACJ,EAAE;IACJ;IAEAzB,MAAM,CAACnB,OAAO,GAAG;MACf8C,IAAI,EAAE,SAAAA,CAAA,EAAY;QAChB,IAAI,OAAO2d,qBAAqB,KAAK,WAAW,IAAID,YAAY,KAAK,IAAI,EAAE;UACzEA,YAAY,GAAGC,qBAAqB;QACtC;QACAO,iBAAiB,EAAE;MACrB;MAEA;AACF;AACA;MACE9D,cAAc,EAAE;QACd;AACJ;AACA;AACA;AACA;AACA;QACI7a,OAAO,EAAE,SAAAA,CAAUgb,GAAG,EAAE;UACtB,OAAO3W,IAAI,CAACC,KAAK,CAAC1G,MAAM,CAACmC,YAAY,CAACC,OAAO,CAACse,oBAAoB,EAAE,GAAGtD,GAAG,EAAE;QAC9E;QAEA;AACJ;AACA;AACA;AACA;AACA;QACIxa,OAAO,EAAE,SAAAA,CAAUwa,GAAG,EAAEnT,KAAK,EAAE;UAC7B,OAAOjK,MAAM,CAACmC,YAAY,CAACS,OAAO,CAAC8d,oBAAoB,EAAE,GAAGtD,GAAG,EAAE3W,IAAI,CAAC2a,SAAS,CAACnX,KAAK,EAAE;QACzF;QAEA;AACJ;AACA;AACA;AACA;QACIuT,UAAU,EAAE,SAAAA,CAAUJ,GAAG,EAAE;UACzB,OAAOpd,MAAM,CAACmC,YAAY,CAACqb,UAAU,CAACkD,oBAAoB,EAAE,GAAGtD,GAAG,CAAC;QACrE;QAEA;AACJ;AACA;QACIY,KAAK,EAAE,SAAAA,CAAA,EAAY;UACjB,MAAMqD,uBAAuB,GAAGX,oBAAoB,EAAE;UACtD,KAAK,IAAIngB,CAAC,GAAGP,MAAM,CAACmC,YAAY,CAAClB,MAAM,GAAG,CAAC,EAAEV,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;YACxD,MAAM6c,GAAG,GAAGpd,MAAM,CAACmC,YAAY,CAACib,GAAG,CAAC7c,CAAC,CAAC;YACtC,IAAI6c,GAAG,IAAIA,GAAG,CAACzH,UAAU,CAAC0L,uBAAuB,GAAG;cAClDrhB,MAAM,CAACmC,YAAY,CAACqb,UAAU,CAACJ,GAAG,CAAC;YACrC;UACF;QACF;QAEA;AACJ;AACA;AACA;QACID,IAAI,EAAE,SAAAA,CAAUvS,QAAQ,EAAE;UACxB,MAAMyW,uBAAuB,GAAGX,oBAAoB,EAAE;UACtD,KAAK,IAAIngB,CAAC,GAAGP,MAAM,CAACmC,YAAY,CAAClB,MAAM,GAAG,CAAC,EAAEV,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;YACxD,MAAM6c,GAAG,GAAGpd,MAAM,CAACmC,YAAY,CAACib,GAAG,CAAC7c,CAAC,CAAC;YACtC,IAAI6c,GAAG,IAAIA,GAAG,CAACzH,UAAU,CAAC0L,uBAAuB,GAAG;cAClDzW,QAAQ,CAACwS,GAAG,CAACkE,SAAS,CAACD,uBAAuB,CAACpgB,MAAM,EAAE;YACzD;UACF;QACF;MACF;MAEA;AACF;AACA;AACA;MACEgV,UAAU,EAAE,SAAAA,CAAU/D,SAAS,EAAE;QAC/B,OAAO,IAAIzN,IAAI,CAACyN,SAAS,EAAEqP,cAAc,CAACjB,IAAI,CAAC;MACjD;MAEA;AACF;AACA;AACA;AACA;AACA;MACEnP,SAAS,EAAE,SAAAA,CAAUqD,IAAI,EAAEgN,KAAK,EAAEC,WAAW,EAAE;QAC7C,OAAO,YAAY;UACjB,MAAMzO,OAAO,GAAG,IAAI;UACpB,MAAM0O,IAAI,GAAGC,SAAS;UACtB,MAAMC,YAAY,GAAG,CAACH,WAAW,IAAKjN,IAAI,CAACqN,KAAK,CAAC7O,OAAO,EAAE0O,IAAI,CAAC,KAAK,IAAK;UACzE,IAAIE,YAAY,EAAE;YAChB,MAAME,OAAO,GAAG9hB,MAAM,CAAC+hB,WAAW,CAAC,YAAY;cAC7C,IAAIvN,IAAI,CAACqN,KAAK,CAAC7O,OAAO,EAAE0O,IAAI,CAAC,KAAK,IAAI,EAAE;gBACtC1hB,MAAM,CAACgiB,aAAa,CAACF,OAAO,CAAC;cAC/B;YACF,GAAGN,KAAK,CAAC;UACX;QACF,CAAC;MACH;MAEA;AACF;AACA;AACA;AACA;MACE1G,0BAA0B,EAAE,SAAAA,CAAUmH,YAAY,EAAE;QAClD,IAAG,CAAEA,YAAY,EAAE;UACjBA,YAAY,GAAGxf,CAAA,qBAAoB,CAAG;QACxC;QAEAwf,YAAY,CAACnf,EAAE,QAAO,EAAG,YAAY;UACnCL,CAAA,CAAE,IAAI,EAAEK,EAAE,2BAA0B,EAAG2d,cAAc,CAAC,CACnD3d,EAAE,6BAA4B,EAAG,UAAU3C,CAAC,EAAE;YAC7C,IAAIA,CAAC,CAACqV,KAAK,KAAK6K,YAAY,IAAIlgB,CAAC,CAACqV,KAAK,KAAK4K,UAAU,EAAE;cACtDjgB,CAAC,CAACsgB,cAAc,EAAE;YACpB;UACF,EAAE;QACN,GAAG3d,EAAE,OAAM,EAAG,YAAY;UACxBL,CAAA,CAAE,IAAI,EAAEwJ,GAAG,sBAAqB,CAAE;QACpC,EAAE;MACJ;MACA;AACF;AACA;AACA;AACA;AACA;MACE8L,QAAQ,EAAE,SAAAA,CAAUmK,GAAG,EAAEC,IAAI,EAAEC,SAAS,EAAE;QACxC,IAAIN,OAAO,GAAG,IAAI;QAElB,OAAO,YAAY;UACjB,MAAM9O,OAAO,GAAG,IAAI;UACpB,MAAM0O,IAAI,GAAGC,SAAS;UACtB,MAAMU,OAAO,GAAG,SAAAA,CAAA,EAAY;YAC1BP,OAAO,GAAG,IAAI;YACd,IAAG,CAAEM,SAAS,EAAE;cACdF,GAAG,CAACL,KAAK,CAAC7O,OAAO,EAAE0O,IAAI,CAAC;YAC1B;UACF,CAAC;UACD,MAAMY,eAAe,GAAGF,SAAS,IAAI,CAACN,OAAO;UAC7C9hB,MAAM,CAAC0E,YAAY,CAACod,OAAO,CAAC;UAC5BA,OAAO,GAAG9hB,MAAM,CAACmG,UAAU,CAACkc,OAAO,EAAEF,IAAI,CAAC;UAC1C,IAAIG,eAAe,EAAE;YACnBJ,GAAG,CAACL,KAAK,CAAC7O,OAAO,EAAE0O,IAAI,CAAC;UAC1B;QACF,CAAC;MACH;MACAlgB,QAAQ,EAAEof,gBAAgB;MAC1B;AACF;AACA;AACA;AACA;AACA;MACE2B,cAAc,EAAE,SAAAA,CAAU9U,EAAE,EAAE+U,OAAO,EAAE;QACrC,IAAIxiB,MAAM,CAACyiB,OAAO,IAAIziB,MAAM,CAACyiB,OAAO,CAACC,OAAO,IAAI1iB,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO,EAAE;UAC9E3iB,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO,GAAG3iB,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO,CAC5DC,IAAI,OAAO;YACV,IAAIvhB,EAAE,GAAGoB,CAAA,IAAK,GAAGgL,EAAE,CAAC;YACpB,IAAI+U,OAAO,EAAE;cACX,MAAMxJ,MAAM,GAAG3X,EAAE,CAAC2X,MAAM,EAAE;cAC1B,IAAIA,MAAM,CAAC/X,MAAM,GAAG,CAAC,EAAE;gBACrB+X,MAAM,CAAC1R,MAAM,CAACjG,EAAE,CAAC8D,MAAM,GAAGiC,IAAI,GAAG;gBACjC/F,EAAE,GAAG2X,MAAM;cACb;YACF;YACA,OAAOhZ,MAAM,CAACyiB,OAAO,CAACI,cAAc,CAACxhB,EAAE,CAAC;UAC1C,EAAE,CACDyhB,KAAK,CAAEC,GAAG,IAAK/iB,MAAM,CAAC4E,OAAO,CAACC,IAAI,wBAAuB,EAAGke,GAAG,CAACjQ,OAAO,EAAE;UAC5E,OAAO9S,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO;QACvC;MACF;MAEA;AACF;AACA;AACA;AACA;MACEtJ,aAAa,EAAE,SAAAA,CAAUhY,EAAE,EAAE;QAC3B,IAAIrB,MAAM,CAACyiB,OAAO,IAAIziB,MAAM,CAACyiB,OAAO,CAACC,OAAO,IAAI1iB,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO,EAAE;UAC9E3iB,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO,GAAG3iB,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO,CAC5DC,IAAI,OAAO;YACV,OAAO5iB,MAAM,CAACyiB,OAAO,CAACI,cAAc,CAACxhB,EAAE,CAAC;UAC1C,EAAE,CACDyhB,KAAK,CAAEC,GAAG,IAAK/iB,MAAM,CAAC4E,OAAO,CAACC,IAAI,wBAAuB,EAAGke,GAAG,CAACjQ,OAAO,EAAE;UAC5E,OAAO9S,MAAM,CAACyiB,OAAO,CAACC,OAAO,CAACC,OAAO;QACvC;MACF;MAEA;AACF;AACA;AACA;MACEpC,YAAY,EAAE,SAAAA,CAAA,EAAY;QACxB,OAAOA,YAAY;MACrB;MAEA;AACF;AACA;AACA;AACA;MACE3R,UAAU,EAAE,SAAAA,CAAUvN,EAAE,EAAEkD,IAAI,EAAE;QAC9B,IAAG,CAAElD,EAAE,EAAE;UACP;UACAA,EAAE,GAAGoB,CAAA,OAAO,CAAE;QAChB,CAAC,MAAM;UACLpB,EAAE,GAAGoB,CAAA,CAAEpB,EAAE,CAAC;QACZ;QAEA,IAAI2hB,WAAW,GAAG3hB,EAAE,CAAC2E,QAAQ,6BAA4B,CAAE;;QAE3D;QACA,IAAI,OAAOzB,IAAI,KAAK,WAAU,EAAG;UAC/BA,IAAI,GAAIye,WAAW,CAAC/hB,MAAM,KAAK,CAAE;QACnC;QAEA,IAAIsD,IAAI,KAAK,KAAK,EAAE;UAClBye,WAAW,CAAC7d,MAAM,EAAE;UACpB9D,EAAE,CAACsB,WAAW,0BAAyB,CAAE;QAC3C,CAAC,MAAM;UACLqgB,WAAW,GAAGvgB,CAAA,uFAAwF,GACpF,yCAAyC,GAC3C,cAAY,CAAG;UAC/BpB,EAAE,CAAC4Y,OAAO,CAAC+I,WAAW,CAAC;UACvB,MAAMC,EAAE,GAAGD,WAAW,CAACE,YAAY,EAAE;UACrC,IAAID,EAAE,CAAChiB,MAAM,GAAG,CAAC,IAAIgiB,EAAE,CAAC5G,GAAG,CAAC,CAAC,CAAC,KAAKhb,EAAE,CAACgb,GAAG,CAAC,CAAC,GAAG;YAC5Chb,EAAE,CAACqB,QAAQ,0BAAyB,CAAE;UACxC;UACArB,EAAE,CAACkD,IAAI,EAAE;QACX;MACF;IACF,CAAC;EAED;AAAA,QAAW,CAAC;;AC11EZmJ,GAAG,CAACyV,MAAM,uBAAsB,EAAG,UAAS,EAAG,SAAQ,EAAG,QAAO,EAAG,aAAY,GAAI,UAAUC,QAAQ,EAAErjB,OAAO,EAAEmB,MAAM,EAAE;EACvHnB,OAAO,CAACsjB,MAAM,GAAG,KAAK;EACtBtjB,OAAO,CAACujB,QAAQ,GAAG,gBAAgB;EACnCvjB,OAAO,CAACwjB,OAAO,GAAG,88CAA88C;EACh+C,IAAIC,GAAG,GAAGJ,QAAQ,aAAY,CAAE;EAChCI,GAAG,CAACC,eAAe,CAAC1jB,OAAO,CAACwjB,OAAO,EAAExjB,OAAO,CAACujB,QAAQ,CAAC;AACxD,EAAE;;;;;;;;;;;;;;;;;;ECNF;;;;;;EASA;;;;;;EAMA,IAAMI,cAAc,GAAG,eAAvB;EACA,IAAMC,OAAO,GAAG,OAAhB;EACA,IAAMC,uBAAuB,GAAG,IAAhC;;EAGA,SAASC,MAATA,CAAgBC,GAAhB,EAAqB;IACnB,IAAIA,GAAG,KAAK,IAAR,IAAgB,OAAOA,GAAP,KAAe,WAAnC,EAAgD;MAC9C,YAAUA,GAAV;IACD;IAED,OAAO,GAAGve,QAAH,CAAYvE,IAAZ,CAAiB8iB,GAAjB,EAAsBC,KAAtB,CAA4B,aAA5B,EAA2C,CAA3C,EAA8CC,WAA9C,EAAP;EACD;EAED,SAASC,4BAATA,CAAA,EAAwC;IACtC,OAAO;MACLC,QAAQ,EAAER,cADL;MAELS,YAAY,EAAET,cAFT;MAGLU,MAHK,WAAAA,OAGE7b,KAHF,EAGS;QACZ,IAAI8b,UAAA,WAAC,CAAC9b,KAAK,CAAC5G,MAAP,CAAD,CAAgB2iB,EAAhB,CAAmB,IAAnB,CAAJ,EAA8B;UAC5B,OAAO/b,KAAK,CAACgc,SAAN,CAAgBC,OAAhB,CAAwB3C,KAAxB,CAA8B,IAA9B,EAAoCF,SAApC,CAAP,CAD4B;QAE7B;;QAED,OAAOnO,SAAP;MACD;IATI,CAAP;EAWD;EAED,SAASiR,qBAATA,CAA+BC,QAA/B,EAAyC;IAAA,IAAAC,KAAA;IACvC,IAAIC,MAAM,GAAG,KAAb;IAEAP,UAAA,WAAC,CAAC,IAAD,CAAD,CAAQ3P,GAAR,CAAYmQ,IAAI,CAACnB,cAAjB,EAAiC,YAAM;MACrCkB,MAAM,GAAG,IAAT;IACD,CAFD;IAIAze,UAAU,CAAC,YAAM;MACf,IAAI,CAACye,MAAL,EAAa;QACXC,IAAI,CAACC,oBAAL,CAA0BH,KAA1B;MACD;IACF,CAJS,EAIPD,QAJO,CAAV;IAMA,OAAO,IAAP;EACD;EAED,SAASK,uBAATA,CAAA,EAAmC;IACjCV,UAAA,WAAC,CAACW,EAAF,CAAKC,oBAAL,GAA4BR,qBAA5B;IACAJ,UAAA,WAAC,CAAC9b,KAAF,CAAQ2c,OAAR,CAAgBL,IAAI,CAACnB,cAArB,IAAuCO,4BAA4B,EAAnE;EACD;EAED;;;;;;MAMMY,IAAI,GAAG;IACXnB,cAAc,EAAE,iBADL;IAGXyB,MAHW,WAAAA,OAGJtE,MAHI,EAGI;MACb,GAAG;QACDA,MAAM,IAAI,CAAC,EAAEjb,IAAI,CAACkb,MAAL,KAAgB6C,OAAlB,CAAX,CADC;MAEF,CAFD,QAES/O,QAAQ,CAACwQ,cAAT,CAAwBvE,MAAxB,CAFT;MAIA,OAAOA,MAAP;IACD,CATU;IAWXwE,sBAXW,WAAAA,uBAWYC,OAXZ,EAWqB;MAC9B,IAAI/N,QAAQ,GAAG+N,OAAO,CAACC,YAAR,CAAqB,aAArB,CAAf;MAEA,IAAI,CAAChO,QAAD,IAAaA,QAAQ,KAAK,GAA9B,EAAmC;QACjC,IAAMiO,QAAQ,GAAGF,OAAO,CAACC,YAAR,CAAqB,MAArB,CAAjB;QACAhO,QAAQ,GAAGiO,QAAQ,IAAIA,QAAQ,KAAK,GAAzB,GAA+BA,QAAQ,CAACC,IAAT,EAA/B,GAAiD,EAA5D;MACD;MAED,IAAI;QACF,OAAO7Q,QAAQ,CAAC8Q,aAAT,CAAuBnO,QAAvB,IAAmCA,QAAnC,GAA8C,IAArD;MACD,CAFD,CAEE,OAAO5M,CAAP,EAAU;QACV,OAAO,IAAP;MACD;IACF,CAxBU;IA0BXgb,gCA1BW,WAAAA,iCA0BsBL,OA1BtB,EA0B+B;MACxC,IAAI,CAACA,OAAL,EAAc;QACZ,OAAO,CAAP;MACD,CAHuC;;MAMxC,IAAIM,kBAAkB,GAAGvB,UAAA,WAAC,CAACiB,OAAD,CAAD,CAAWlV,GAAX,CAAe,qBAAf,CAAzB;MACA,IAAIyV,eAAe,GAAGxB,UAAA,WAAC,CAACiB,OAAD,CAAD,CAAWlV,GAAX,CAAe,kBAAf,CAAtB;MAEA,IAAM0V,uBAAuB,GAAG3V,UAAU,CAACyV,kBAAD,CAA1C;MACA,IAAMG,oBAAoB,GAAG5V,UAAU,CAAC0V,eAAD,CAAvC,CAVwC;;MAaxC,IAAI,CAACC,uBAAD,IAA4B,CAACC,oBAAjC,EAAuD;QACrD,OAAO,CAAP;MACD,CAfuC;;MAkBxCH,kBAAkB,GAAGA,kBAAkB,CAAC3W,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAArB;MACA4W,eAAe,GAAGA,eAAe,CAAC5W,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAlB;MAEA,OAAO,CAACkB,UAAU,CAACyV,kBAAD,CAAV,GAAiCzV,UAAU,CAAC0V,eAAD,CAA5C,IAAiEjC,uBAAxE;IACD,CAhDU;IAkDXoC,MAlDW,WAAAA,OAkDJV,OAlDI,EAkDK;MACd,OAAOA,OAAO,CAACW,YAAf;IACD,CApDU;IAsDXnB,oBAtDW,WAAAA,qBAsDUQ,OAtDV,EAsDmB;MAC5BjB,UAAA,WAAC,CAACiB,OAAD,CAAD,CAAW9gB,OAAX,CAAmBkf,cAAnB;IACD,CAxDU;IA0DXwC,qBA1DW,WAAAA,sBAAA,EA0Da;MACtB,OAAOC,OAAO,CAACzC,cAAD,CAAd;IACD,CA5DU;IA8DX0C,SA9DW,WAAAA,UA8DDtC,GA9DC,EA8DI;MACb,OAAO,CAACA,GAAG,CAAC,CAAD,CAAH,IAAUA,GAAX,EAAgBuC,QAAvB;IACD,CAhEU;IAkEXC,eAlEW,WAAAA,gBAkEKC,aAlEL,EAkEoB3iB,MAlEpB,EAkE4B4iB,WAlE5B,EAkEyC;MAClD,KAAK,IAAMC,QAAX,IAAuBD,WAAvB,EAAoC;QAClC,IAAIvP,MAAM,CAACyP,SAAP,CAAiBC,cAAjB,CAAgC3lB,IAAhC,CAAqCwlB,WAArC,EAAkDC,QAAlD,CAAJ,EAAiE;UAC/D,IAAMG,aAAa,GAAGJ,WAAW,CAACC,QAAD,CAAjC;UACA,IAAMxc,KAAK,GAAGrG,MAAM,CAAC6iB,QAAD,CAApB;UACA,IAAMI,SAAS,GAAG5c,KAAK,IAAI4a,IAAI,CAACuB,SAAL,CAAenc,KAAf,CAAT,GAChB,SADgB,GACJ4Z,MAAM,CAAC5Z,KAAD,CADpB;UAGA,IAAI,CAAC,IAAI6c,MAAJ,CAAWF,aAAX,EAA0B7a,IAA1B,CAA+B8a,SAA/B,CAAL,EAAgD;YAC9C,MAAM,IAAIhmB,KAAJ,CACD0lB,aAAa,CAACQ,WAAd,EAAH,yBACWN,QADX,2BACuCI,SADvC,sCAEsBD,aAFtB,SADI,CAAN;UAID;QACF;MACF;IACF,CAlFU;IAoFXI,cApFW,WAAAA,eAoFI1B,OApFJ,EAoFa;MACtB,IAAI,CAAC1Q,QAAQ,CAACqS,eAAT,CAAyBC,YAA9B,EAA4C;QAC1C,OAAO,IAAP;MACD,CAHqB;;MAMtB,IAAI,OAAO5B,OAAO,CAAC6B,WAAf,KAA+B,UAAnC,EAA+C;QAC7C,IAAMC,IAAI,GAAG9B,OAAO,CAAC6B,WAAR,EAAb;QACA,OAAOC,IAAI,YAAYC,UAAhB,GAA6BD,IAA7B,GAAoC,IAA3C;MACD;MAED,IAAI9B,OAAO,YAAY+B,UAAvB,EAAmC;QACjC,OAAO/B,OAAP;MACD,CAbqB;;MAgBtB,IAAI,CAACA,OAAO,CAACgC,UAAb,EAAyB;QACvB,OAAO,IAAP;MACD;MAED,OAAOzC,IAAI,CAACmC,cAAL,CAAoB1B,OAAO,CAACgC,UAA5B,CAAP;IACD,CAzGU;IA2GXC,eA3GW,WAAAA,gBAAA,EA2GO;MAChB,IAAI,OAAOlD,UAAA,WAAP,KAAa,WAAjB,EAA8B;QAC5B,MAAM,IAAImD,SAAJ,CAAc,kGAAd,CAAN;MACD;MAED,IAAM7G,OAAO,GAAG0D,UAAA,WAAC,CAACW,EAAF,CAAKyC,MAAL,CAAYxY,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,EAA0BA,KAA1B,CAAgC,GAAhC,CAAhB;MACA,IAAMyY,QAAQ,GAAG,CAAjB;MACA,IAAMC,OAAO,GAAG,CAAhB;MACA,IAAMC,QAAQ,GAAG,CAAjB;MACA,IAAMC,QAAQ,GAAG,CAAjB;MACA,IAAMC,QAAQ,GAAG,CAAjB;MAEA,IAAInH,OAAO,CAAC,CAAD,CAAP,GAAagH,OAAb,IAAwBhH,OAAO,CAAC,CAAD,CAAP,GAAaiH,QAArC,IAAiDjH,OAAO,CAAC,CAAD,CAAP,KAAe+G,QAAf,IAA2B/G,OAAO,CAAC,CAAD,CAAP,KAAeiH,QAA1C,IAAsDjH,OAAO,CAAC,CAAD,CAAP,GAAakH,QAApH,IAAgIlH,OAAO,CAAC,CAAD,CAAP,IAAcmH,QAAlJ,EAA4J;QAC1J,MAAM,IAAIjnB,KAAJ,CAAU,8EAAV,CAAN;MACD;IACF;EA1HU;EA6HbgkB,IAAI,CAAC0C,eAAL;EACAxC,uBAAuB;;;;;;;;;;;;;;;;;;;;;ECzLvB,SAAAgD,SAAA;IAAAA,QAAA,GAAA9Q,MAAA,CAAA+Q,MAAA,cAAArmB,MAAA;MAAA,SAAApB,CAAA,MAAAA,CAAA,GAAAohB,SAAA,CAAA1gB,MAAA,EAAAV,CAAA;QAAA,IAAA0nB,MAAA,GAAAtG,SAAA,CAAAphB,CAAA;QAAA,SAAA6c,GAAA,IAAA6K,MAAA;UAAA,IAAAhR,MAAA,CAAAyP,SAAA,CAAAC,cAAA,CAAA3lB,IAAA,CAAAinB,MAAA,EAAA7K,GAAA;YAAAzb,MAAA,CAAAyb,GAAA,IAAA6K,MAAA,CAAA7K,GAAA;UAAA;QAAA;MAAA;MAAA,OAAAzb,MAAA;IAAA;IAAA,OAAAomB,QAAA,CAAAlG,KAAA,OAAAF,SAAA;EAAA;;;;;;;;;;;;;;;;;;;;;EAWA,IAAMuG,IAAA;EACN,IAAMC,OAAA,UAAiB;;EAEvB,IAAMC,SAAO,GAAG,MAAAC,QAAA;EACd,IAAAC,YADc;EAEd,IAAAC,kBAFc,GAAAlE,UAAA,YAAAW,EAAA,CAAAkD,IAAA;EAGd,IAAAM,cAHc;;EAAA,IAAhBC,OAAA;IAOAzM,QAAM,MAAW;IACfD,QAAQ,EAAE;IACVhL,KAAA,MAAU;IACVxM,IAAA,EAAK;EACL;EAJkB,IAApBmkB,WAAA;IAOA1M,QAAM,oBAAoB;IAC1BD,QAAM;IACNhL,KAAM,WAAY;IAClBxM,IAAM;EACN;EACA,IAAMokB,UAAA,GAAa,SAAAP,SAAa;EAChC,IAAMQ,oBAAY,kBAAlB,GAAAR,SAAA;EACA,IAAMS,YAAA,WAAmB,GAAAT,SAAA;EACzB,IAAMU,UAAA,YAAqBV,SAAA;EAC3B,IAAMW,WAAA,UAAqB,GAAAX,SAAA;EAC3B,IAAMY,aAAA,YAAuB,GAAAZ,SAAA;EAC7B,IAAMa,YAAA,WAAoB,GAAAb,SAAW;EAErC,IAAMc,mBAAA,GAAqB,eAAG,GAAAd,SAA9B;EACA,IAAMe,qBAAA,oBAAgC,GAAAf,SAAA;EACtC,IAAMgB,qBAAmB,GAAG,iBAA5B,GAAAhB,SAAA;EACA,IAAMiB,uBAAkB,sBAAxB,GAAAjB,SAAA;EACA,IAAMkB,oBAAkB,UAAxB,GAAAlB,SAAA,GAAAE,YAAA;EACA,IAAMiB,qBAAkB,GAAxB;EACA,IAAMC,6BAAoB,4BAA1B;EAEA,IAAMC,mBAAkB,mBAAxB;EACA,IAAMC,eAAA,eAAsB;EAC5B,IAAMC,eAAA,SAAuB;EAC7B,IAAMC,eAAA,SAAwB;EAC9B,IAAMC,iBAAA,iBAAyB;EAC/B,IAAMC,eAAA,kBAA0B;EAEhC,IAAAC,mBAAA;;;;;;;;;;;EAWI,IAAAC,KAAK,gBAAL;IACA,SAAKA,MAAL1E,OAAgB,EAAhB1hB,MAAA;MACA,KAAKqmB,OAAA,QAAAC,UAAqB,CAA1BtmB,MAAA;MACA,KAAKumB,QAAA,GAAA7E,OAAA;MACL,KAAK8E,OAAA,GAAA9E,OAAL,CAAAI,aAAA,CAAAoE,eAAA;MACA,KAAKO,SAAA,OAAL;MACD,KAAAC,QAAA;;;;;IAYD;;IAIC,IAAAC,MAAA,GAAAP,KAAA,CAAAtD,SAAA;;;IAEmB6D,MAAA,CAAAC,MAAA,YAAAA,OAAAC,aAAA;;IAClB;IAECF,MAAA,CAAAhmB,IAAA,YAAAA,KAAAkmB,aAAA;;MAGC,QAAK,CAAAH,QAAA,QAAL,CAAwBI,gBAAxB;QACD;;MAGC,IAAArG,UAAA,CAAa,SAAb,OAAA8F,QAAA,EAAApnB,QAAA,CAAA4mB,eAAA;QADF,KAAAe,gBAAA;MAIA;MAEA,IAAIC,SAAK,GAAAtG,UAAY,UAAU,EAAAuG,KAAA,CAAA9B,UAAsB;QACnD2B,aAAA,EAAAA;MACD;;;QAID;;;;;;MAWO,KAAAI,eAAc;MAGrB,KAAAC,eAAA,CAAC,CAAC;MAEEzG,UAAI,iBAAA8F,QAAO,CAAC,CAAArnB,EAAA,CAAAomB,mBAAgB,EAAxB6B,qBAAmC,YAAAxiB,KAAA;QACrC,OAAAoc,KAAK,CAAAzf,IAAA,CAAAqD,KAAA;MACN;MACF8b,UAJD,iBAAA+F,OAAA,EAAAtnB,EAAA,CAAAumB,uBAAA;QADFhF,UAAA,YAAAM,KAAA,CAAAwF,QAAA,EAAAzV,GAAA,CAAA0U,qBAAA,YAAA7gB,KAAA;;YAQKoc,KAAA,CAAAqG,oBAAc;UAAA;QAAnB;MACD;WAEDC,aAAA;QAAY,OAAAtG,KAAA,CAAAuG,YAAA,CAAAT,aAAA;;IACV;IAECF,MAAA,CAAArlB,IAAA,YAAAA,KAAAqD,KAAA;;MAGC,IAAAA,KAAA;QACDA,KAAA,CAAAkY,cAAA;;MAID,UAAA6J,QAAA,IAAE,KAAKI,gBAAU,EAAQ;;MAEzB;MAEC,IAAAS,SAAA,GAAA9G,UAAA,YAAAuG,KAAA,CAAAjC,UAAA;;MAGD,IAAM,MAAA2B,QAAa,IAAAa,SAAA,CAAAC,kBAAO,EAAN,EAAgB;;MAEpC;MAEC,KAAAd,QAAA;;;QAGD,IAAK,CAAAI,gBAAL;;MAIA,KAAAG,eAAA,CAAC,CAAC;MAGF,KAAAC,eAAA,CAAC,CAAC;MAEFzG,UAAI,UAAY,EAAAzP,QAAA,EAAA3I,GAAA,CAAA+c,aAAA;MACd3E,UAAM,gBAAkB,CAAG8F,QAAA,EAAAxnB,WAAA,CAAAinB,eAAK;MAEhCvF,UAAA,gBAAE,CAAA8F,QAAK,EAANle,GACE,CAAAid,mBAAI;MAA0B7E,UAAA,CAAI,SAAK,OAAA+F,OAAL,CAAJ,CAAAne,GAAA,CAAAod,uBAAA;MAElC,IANDgC,UAMO;QACL,IAAAzF,kBAAA,GAAA0F,aAAA,YAAA3F,gCAAA,MAAAwE,QAAA;QACD9F,UAAA,iBAAA8F,QAAA,EAAAzV,GAAA,CAAA4W,aAAA,YAAA5H,cAAA,YAAAnb,KAAA;UACF,OAAAgjB,MAAA,CAAAC,UAAA,CAAAjjB,KAAA;;aAED;QACG,KAADijB,UAAc;MACQ;IAAA;;;;;;;;;;;MActBnH,UAAK,UAAY,CAAjB,CAAAzP,QAAA,EAAA3I,GAAA,CAAA+c,aAAA;MACA3E,UAAK,UAAL,EAAAoH,UAAA,MAAAtB,QAAA,EAAA9B,QAAA;MACA,KAAK4B,OAAA;MACL,KAAKE,QAAA;MACL,KAAKC,OAAA;MACL,KAAKC,SAAA,OAAL;MACD,KAAAC,QAAA;;WAEDU,oBAAA;MACE,KAAKN,gBAAL;MACD,KAAAgB,eAAA;;WAIDC,YAAA,YAAAA,YAAWA,CAAA,EAAX;MACE,KAAAC,aAAM;IAIN;IAAA;;;YAIF,GAAA7D,QAAA,KAAAU,OAAA,EAAA7kB,MAAA;MAA6B0nB,aAAA,YAAAhF,eAAA,CAAA4B,IAAA,EAAAtkB,MAAA,EAAA8kB,WAAA;;IAC3B;IAGE6B,MAAA,CAAAsB,0BAAO,YAAUA,0BAAjBrnB,CAAA;;MAEE,SAAAylB,OAAA,CAAAjO,QAAA;QACD,IAAA8P,kBAAA,GAAAzH,UAAA,YAAAuG,KAAA,CAAAhC,oBAAA;;;UAID;QACE;;;UAKF,IAAM,CAAAuB,QAAA,CAAAzW,KAAA,CAAAqY,SAA0B;QAChC;QAGE,KAAA5B,QAAK,CAAA6B,SAAS,CAAAC,GAAd,CAAwBpC,iBAAO;QAC/B,IAAAqC,uBAAyB,GAAAZ,aAAA,YAAA3F,gCAAA,MAAAyE,OAAA;QACvB/F,UAAA,gBAAE,CAAA8F,QAAK,EAAAle,GAAA,CAANqf,aAAoB,YAAA5H,cAAK;QACxBW,UAAA,UAAK,CAAL,CAAc,KAAd8F,QAAoB,EAApBzV,GAAgC,CAAA4W,aAAhC,YAAA5H,cAAA;UACDyI,MACE,CAAAhC,QAAA,CAAA6B,SAHH,CAGwB7mB,MAAI,CAAC0kB,iBAAU;UAN3C,IASG,CAAAuC,kBAAqB;;cACnBD,MAAA,CAALhC,QAAA,CAAAzW,KAAA,CAAAqY,SAAA;YA7BF,CA8BO,EAAA9G,oBAAA,CAAAkH,MAAA,CAAAhC,QAAA,EAAA+B,uBAAA;UACL;QACD,GAAAjH,oBAAA,CAAAiH,uBAAA;;aAGH;QAA4B,KAAAhnB,IAAA;;IAC1B;;MAGA,IAAImnB,MAAM;MAGR,IAAAhB,UAAS,GAAKhH,UAAd,CAA0B,SAAK,MAA/B,CAAA8F,QAAA,EAAApnB,QAAA,CAAA4mB,eAAA;MACD,IAAA2C,SAAA,QAAAlC,OAAA,QAAAA,OAAA,CAAA1E,aAAA,CAAAqE,mBAAA;MAED,KAAK,KAAAI,QAAS,CAAd7C,UAAA,IAA8B,IAA9B,CAAA6C,QAAA,CAAA7C,UAAA,CAAAjB,QAAA,KAAAkG,IAAA,CAAAC,YAAA;;QACA5X,QAAK,CAAApO,IAAS,CAAAimB,WAAA,KAAgB,CAAAtC,QAAA;;;;MAK5B,KAAAA,QAAU,CAAAuC,YAAV;MAEA,KAAAvC,QAAK,CAAAuC,YAAL;;QAGFJ,SAAI,CAAAK,SAAY;MACd;QACD,KAAAxC,QAAA,CAAAwC,SAAA;;;QAIDrB,aAAS,CAAL,SAAoB,EAAAtF,MAAA,MAAAmE,QAAA;MACtB;;MAIA,SAAAF,OAAa,CAAblZ,KAAA;QADF,KAAA6b,aAAA;;MAKE,IAAAC,UAAS,GAAAxI,UAAT,CAAwB,WAAAuG,KAAA,CAAA7B,WAAA;QACtB0B,aAAK,EAAAA;MACN;MAED,IAAAqC,kBAAK,GAAL,SAAAA,mBAAA;QACA,IAAAT,MAAA,CAAApC,OAAA,CAAAlZ,KAAE;UANJsb,MAAA,CAAAlC,QAAA,CAAApZ,KAAA;;QAUEsb,MAAM,CAAA3B,gBAAkB,GAAG;QAE3BrG,UAAA,WAAC,CAACgI,MAAK,CAAAlC,QACJ,EADH3lB,OACO,CAAAqoB,UAAA;MAER,CAND;MAQC,IAAAxB,UAAA;QACF,IAAAzF,kBAAA,GAAA0F,aAAA,YAAA3F,gCAAA,MAAAyE,OAAA;;aAED;QAAgB0C,kBAAA;;IACd;IAGIvC,MAAA,CAAAqC,aAAY,GAAK,SAAMA,aACdA,CAAA;MAEP,IAAAG,MAAI,GAAC;MAER1I,UARH,YAAAzP,QAAA,EAAA3I,GAAA,CAAA+c,aAAA;MAAA,CASDlmB,EAAA,CAAAkmB,aAAA,YAAAzgB,KAAA;;gBAED,CAAA4hB,QAAA,CAAApZ,KAAA;QAAkB;;IAChB;IAEIwZ,MAAA,CAAAM,eAAS,GAAQ,SAAbA,eAAyBA,CAAA;MAC3B,IAAAmC,MAAA,GAAM;MACN,SAAA1C,QAAA;QACDjG,UAAM,UAAS,CAAC,MAAA8F,QAAQ,EAAdrnB,EAAA,CAAAqmB,qBAA0C,YAAgB5gB,KAAA;UACnE,IAAAykB,MAAK,CAAA/C,OAAA,CAAAlO,QAAA,IAAAxT,KAAL,CAAAiN,KAAA,KAAAgT,cAAA;YACDjgB,KAAA,CAAAkY,cAAA;YAPLuM,MASY,CAAA9nB,IAAK;UACf,YAAA8nB,MAAA,CAAC/C,OAAM,CAAAlO,QAAU,IAAIxT,KAAA,CAAAiN,KAAA,KAAAgT,cAArB;YACDwE,MAAA,CAAAnB,0BAAA;UACF;;aAED,UAAAvB,QAAA;QAAkBjG,UAAA,iBAAA8F,QAAA,EAAAle,GAAA,CAAAkd,qBAAA;;IAChB;IACkCoB,MAAA,CAAAO,eAAS,YAAaA,eAAtBviB,CAAA;MAAA,IAAhC0kB,MAAA;MAEA,SAAA3C,QAAA;QACDjG,UAAA,YAAArkB,MAAA,EAAA8C,EAAA,CAAAmmB,YAAA,YAAA1gB,KAAA;UACF,OAAA0kB,MAAA,CAAAtB,YAAA,CAAApjB,KAAA;;aAED;QAAa8b,UAAA,YAAArkB,MAAA,EAAAiM,GAAA,CAAAgd,YAAA;;IACX;IACAsB,MAAA,CAAKiB,UAAS,YAAaA,WAAA,EAA3B;;;;;MAKE,KAAArB,QAAA,CAAA+C,eAAE,OAAS,CAAV;MACD,KAAAxC,gBAAK,QAAL;MACA,KAAAO,aAAK,aAAL;;QAHFkC,MAAA,CAAAC,iBAAA;;QASA/I,UAAS,UAAW,EAAA8I,MAAA,CAAAhD,QAAA,EAAA3lB,OAAA,CAAAqkB,YAAA;MAClB;IACA;IAEH0B,MAAA,CAAA8C,eAAA,YAAAA,gBAAA;;kBAED,iBAAAhD,SAAA,EAAAllB,MAAc;QAAU,KAAAklB,SAAA;;IACtB;IAGAE,MAAI,CAAAU,aAAA,GAAiB,SAAKA,aAA1BhB,CAA4Crf,QAAA;MAC1C,IAAA0iB,MAAK,OAAL;;MAIE,SAAKhD,QAAA,IAAU,KAAAL,OAAc,CAAAjO,QAA7B;QACD,KAAAqO,SAAA,GAAAzV,QAAA,CAAA2Y,aAAA;;QAID,IAAAC,OAAA;UACE,IAAI,CAAAnD,SAAK,CAAA2B,SAAA,CAAAC,GAAA,CAAAuB,OAAsB;QAC7B;QAEDnJ,UAAA,iBAAAgG,SAAA,EAAAxS,QAAA,CAAAjD,QAAA,CAAApO,IAAA;;UAED,IAAI8mB,MAAM,CAAAtC,oBAAiB;YACzBsC,MAAA,CAAAtC,oBAAA;YACD;;UARH,IAAAziB,KAAA,CAAA5G,MAAA,KAAA4G,KAAA,CAAAklB,aAAA;;UAaA;UAECH,MAAA,CAAAzB,0BAAA;;;UAIDP,aAAe,YAAAtF,MAAA,MAAAqE,SAAA;QACb;;QAIA,KAAAzf,QAAQ;UACR;QACD;QAED,IAAM,CAAA4iB,OAAA;UAEN5iB,QAAA;UAxCF;QA4CE;QAEA,IAAM8iB,0BAAA,GAAApC,aAAiB,CAAM,WAAA3F,gCAAA,MAAA0E,SAAA;QAC3BhG,UAAK,gBAAL,CAAAgG,SAAA,EAAA3V,GAAA,CAAA4W,aAAA,YAAA5H,cAAA,EAAA9Y,QAAA,EAAAqa,oBAAA,CAAAyI,0BAAA;;QACArJ,UAAI,UAAU,OAAAgG,SAAA,EAAA1nB,WAAA,CAAAinB,eAAA;QAEb,IAAA+D,cAAA,YAAAA,eAAA;UAJHL,MAAA,CAAAD,eAAA;UAOA,IAAIziB,QAAA;YACFA,QAAM;;QAEN;QAIA,IAAAyZ,UAAA,UAAc,OAAA8F,QAAA,EAAApnB,QAAA,CAAA4mB,eAAA;UACf,IAAAiE,2BAAA,GAAAtC,aAAA,YAAA3F,gCAAA,MAAA0E,SAAA;UAEDhG,UAAQ,iBAAAgG,SAAA,EAAA3V,GAAA,CAAA4W,aAAA,YAAA5H,cAAA,EAAAiK,cAAA,EAAA1I,oBAAA,CAAA2I,2BAAA;QACT;UACFD,cAAA;QAGD;MACA,WAAA/iB,QAAA;QACAA,QAAA;;;;IAGE;;;;IAIC2f,MAAA,CAAAqB,aAAA,YAAAA,cAAA;;MAGC,SAAK,CAAAiC,kBAAe,IAAAzB,kBAAuB;QAC5C,KAAAjC,QAAA,CAAAzW,KAAA,CAAAoa,WAAA,QAAApC,eAAA;MACF;cAED,CAAAmC,kBAAA,KAAAzB,kBAAA;QACE,IAAK,CAAAjC,QAAS,CAAAzW,KAAM,CAAAqa,YAAc,GAAlC,KAAArC,eAAA;MACA;IACD;WAED0B,iBAAA,YAAAA,iBAAkBA,CAAA;MAChB,IAAM,CAAAjD,QAAO,CAAAzW,KAAQ,CAACoa,WAAK;MAC3B,KAAK3D,QAAA,CAAAzW,KAAA,CAAAqa,YAA0B,KAAM;IACrC;;cAGF,GAAAnZ,QAAA,CAAApO,IAAA,CAAAwnB,qBAAgB;MAAA,KAAAH,kBAAA,GAAAjoB,IAAA,CAAAgC,KAAA,CAAAqmB,IAAA,CAAAC,IAAA,GAAAD,IAAA,CAAAE,KAAA,IAAAnuB,MAAA,CAAAouB,UAAA;;IACd;IAEE7D,MAAA,CAAA8D,aAAA,YAAAA,cAAA;MACA,IAAAC,OAAM,OAAY;;QAIlB;QACE;QACA,IAAAC,YAAM,MAAAxP,KAAoB,CAAA/d,IAAA,CAAA4T,QAAA,CAAA4Z,gBAAW,CAAAC,sBAArC;QACA,IAAAC,aAAA,MAAC3P,KAAC,CAAA/d,IACC,CAAA4T,QAAK,CAAA4Z,gBAAiB,CAAAG,uBAClB;;;UAIT,IAAAC,aAAA,GAAEtJ,OAAA,CAAA5R,KAAD,CAADqa,YAAsB;UACpB,IAAMc,iBAAe,GAAAxK,UAAc,UAAnC,EAAAiB,OAAA,EAAAlV,GAAA;UACAiU,UAAM,UAAgB,EAAAiB,OAAG,EAAAvc,IAAA,gBAAE,EAAF6lB,aAAe,EAAAxe,GAAA,CAAf,eAAzB,EAAAD,UAAA,CAAA0e,iBAAA,IAAAP,OAAA,CAAA5C,eAAA;QACA;;;UAMF,IAAMoD,YAAa,GAAGxJ,OAAQ,CAAC5R,KAAK,CAAAqb,WAAM;UAC1C,IAAMC,gBAAiB,GAAG3K,UAAA,UAAC,CAAC,CAAAiB,OAAQ,CAAC,CAAAlV,GAAV,CAAD,cAAqB;UAC/CiU,UAAA,UAAE,EAAAiB,OAAS,EAAAvc,IACR,eAAK,EAAA+lB,YAAiB,EAAA1e,GAAA,CADzB,cAEO,EAAAD,UAAoB,CAAA6e,gBAAW,IAAAV,OAAX,CAAgC5C,eAAK,OAFhE;QAGD;;QAED,IAAAkD,aAAA,GAAEha,QAAQ,CAACpO,IAAV,CAADkN,KAAiB,CAAAqa,YAAS;QAC3B,IAAAc,iBAAA,GAAAxK,UAAA,YAAAzP,QAAA,CAAApO,IAAA,EAAA4J,GAAA;;;MAICiU,UAAM,UAAe,EAAGzP,QAAM,CAAApO,IAAK,EAAA9D,QAAS,CAAAgnB,eAAiB;IAC7D;IAEEa,MAAA,CAAA0E,eAAA,GAAC,SAADA,eAAsBA,CAAA;MACtB;MACD,IAPeV,YAAA,MAAAxP,KAAA,CAAA/d,IAAA,CAAA4T,QAAA,CAAA4Z,gBAAA,CAAAC,sBAAA;;QAUhB,IAAMS,OAAQ,GAAG7K,UAAS,UAAK,CAAQ,CAACiB,OAAA,EAAAvc,IAAA,gBAAoB;QAC5Dsb,UAAA,UAAE,EAAAiB,OAAF,CAAY,CAAAmG,UAAK,gBAAQ;QACvBnG,OAAM,CAAA5R,KAAS,CAAAqa,YAAA,GAAAmB,OAAE,GAAAA,OAAS,GAAK;;;MAE7B,IAAAC,QAAA,MAAApQ,KAAA,CAAA/d,IAAE,CAAA4T,QAAS,CAAX4Z,gBAAA,CAA+B,KAAAG,uBAAmB;MACnDtK,UAAA,YAAA8K,QAAA,EAAAnsB,IAAA,WAAAosB,KAAA,EAAA9J,OAAA;QAJH,IAXgB+J,MAAA,GAAAhL,UAAA,YAAAiB,OAAA,EAAAvc,IAAA;QAmBhB,IAAM,OAAOsmB,MAAG,gBAAC,EAAC;UAClBhL,UAAA,UAAE,EAAAiB,OAAS,EAAVlV,GAAgB,eAAW,EAAAif,MAAA,EAA5B5D,UAAA;QACA;MACD;;iBAED,GAAApH,UAAA,YAAAzP,QAAA,CAAApO,IAAA,EAAAuC,IAAA,CAAqB;MAAEsb,UAAA,YAAAzP,QAAA,CAAApO,IAAA,EAAAilB,UAAA;MACrB7W,QAAM,CAAApO,IAAS,CAAAkN,KAAG,CAAAqa,YAAS,GAAAmB,OAAc,GAAzCA,OAAA;IACA;IAEA3E,MAAM,CAAA+E,kBAAiB,YAAUA,kBAAVtB,CAAA,EAAkC;MACzD;MACA,IAAAuB,SAAO,GAAA3a,QAAP,CAAA2Y,aAAA;MACDgC,SAAA,CAAAC,SAAA,GAAAhG,6BAAA;;;cAIM,CAAAhjB,IAAA,CAAAipB,WAAP,CAAAF,SAAA;MACE,OAAOG,cAAU;IACf;IAAA;;;MAOA,OAAK,IAAL,CAAA1sB,IAAW;QACT,IAAA+F,IAAI,GAAGsb,UAAU,UAAM,CAAhB,CAAP,MAAAtb,IAAA,CAAAsf,QAAA;QAED,IAAA4B,OAAA,GAAAlC,QAAA,KAAAU,OAAA,EAAApE,UAAA,kBAAAtb,IAAA,WAAAnF,MAAA,iBAAAA,MAAA,GAAAA,MAAA;QAED,IAAI,CAAAmF,IAAA,EAAO;UACTA,IAAI,OAAOihB,KAAK,OAAZC,OAAwB;UAC1B5F,UAAM,UAAI,CAAJ,OAAAtb,IAAA,CAAAsf,QAAA,EAAAtf,IAAkC;QACzC;QAED,WAAKnF,MAAQ,aAAb;UALF,WAMWmF,IAAA,CAAOnF,MAAX,CAAkB;YACvB,MAAK,IAAK4jB,SAAA,qBAAV,GAAA5jB,MAAA;UACD;UAEJmF,IAAA,CAAAnF,MAAA,EAAA6mB,aAAA;;;;;IApeC;;;0BAGmB;QACnB,OAAOtC,OAAP;MACD;;;;;MAkeH;;;;;;AAMA;;;;;IAIE,IAAIwH,OAAA,GAAU;IAEb,IAAAhuB,MAAA;;;MAQDA,MAAI,GAAKiT,QAAL,CAAA8Q,aAA6B,CAAAnO,QAAL;IAC1B;;IAIA,QAAI,CAAAqY,OAAU,iBAAAA,OAAsB;MAClCrnB,KAAA,CAAAkY,cAAA;IACA;;MAGF,IAAAkK,SAAY,CAAAS,kBAAc;QACxB;QACE;MACD;MATLyE,OAAA,CAAAnb,GAAA,CAAAmU,YAAA;;UAaM8G,OAAA,CAAA5e,KAAA;QA/BR;MAkCA;;;;;AAMA;AACA;;AACA;;EAEEsT,UAAO,UAAM,EAAAW,EAAA,CAAAkD,IAAA,IAAb8B,KAAA,CAAA8F,gBAAA;EACDzL,UAHD,YAAAW,EAAA,CAAAkD,IAAA,EAAA6H,WAAA,GAAA/F,KAAA"}