/*! examinr 0.1.0
 *! (c) 2020-2020 David Kepplinger | License: MIT + file LICENSE
 *!
 *! Includes software derived from the learnr R package (https://github.com/rstudio/learnr)
 *!   (c) 2019 RStudio | License: Apache 2.0
 *! Includes the twbs/bootstrap library version 4.5.3 (https:///www.getbootstrap.com):
 *!   (c) 2011-2020 Twitter, Inc | License: MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 *!   (c) 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors) | License: MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 *! Includes the idb-keyval library version 3.2.0 (https://github.com/jakearchibald/idb-keyval):
 *!   (c) 2016 Jake Archibald | License: Apache 2.0 (https://github.com/jakearchibald/idb-keyval/blob/master/LICENCE)
 */

!function(a,b){"use strict";function c(a){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}void 0===a&&(window.exports=window.Exam={}),a.utils=function(){function b(a){a.preventDefault()}function c(a){return a||(a="anonymous-el-"),a+Math.random().toString(36).slice(2)}function d(a){return JSON.parse(window.localStorage.getItem("examinr_"+a))}function e(a,b){return window.localStorage.setItem("examinr_"+a,JSON.stringify(b))}function f(a){return window.localStorage.removeItem("examinr_"+a)}function g(){var b=/^-?(\d*\.)?\d+$/;$(".examinr-q-numeric input[type=text]").each(function(){var c=$(this),d=a.utils.randomId();c.change(function(){var a=c.val();$("#"+d).remove(),a&&!b.test(a)?c.attr("aria-describedby",d).addClass("is-invalid").after('<span id="'+d+'" class="sr-only">invalid value</span>'):(a.length>0&&c.val(parseFloat(a)),c.removeAttr("aria-describedby").removeClass("is-invalid"))})})}var h=$("html").attr("lang")||"en-US";return $(function(){g()}),{store:{get:d,set:e,rem:f},formatDate:function(a){return new Date(a).toLocaleString(h)},disableNumberInputDefaults:function(a){a||(a=$("input[type=number]")),a.on("focus",function(){$(this).on("wheel.disableScrollEvent",b).on("keydown.disableScrollEvent",function(a){40!==a.which&&38!==a.which||a.preventDefault()})}).on("blur",function(){$(this).off(".disableScrollEvent")})},debounce:function(a,b,c){var d=null;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;window.clearTimeout(d),d=window.setTimeout(g,b),h&&a.apply(e,f)}},randomId:c,triggerMathJax:function(a,b){if(window.MathJax&&window.MathJax.startup&&window.MathJax.startup.promise)return window.MathJax.startup.promise=window.MathJax.startup.promise.then(function(){var c=$("#"+a);if(b){var d=c.parent();d.length>0&&(d.append(c.remove().html()),c=d)}return window.MathJax.typesetPromise(c)}).catch(function(a){return window.console.warn("Cannot typeset math: ",a.message)}),window.MathJax.startup.promise},renderMathJax:function(a){if(window.MathJax&&window.MathJax.startup&&window.MathJax.startup.promise)return window.MathJax.startup.promise=window.MathJax.startup.promise.then(function(){return window.MathJax.typesetPromise(a)}).catch(function(a){return window.console.warn("Cannot typeset math: ",a.message)}),window.MathJax.startup.promise},toggleShim:function(a,b){a=a?$(a):$("body");var c=a.children(".examinr-recompute-overlay");if(void 0===b&&(b=0===c.length),!1===b)c.remove(),a.removeClass("examinr-recompute-outer");else{c=$('<div class="examinr-recompute-overlay"><div class="examinr-recompute" role="status"><span class="sr-only">Loading...</span></div></div>'),a.prepend(c);var d=c.offsetParent();d.length>0&&d.get(0)!==a.get(0)&&a.addClass("examinr-recompute-outer"),a.show()}}}}(),a.accessibility=function(){function b(b){if(b.attr("id"))return b.attr("id");var c=a.utils.randomId("aria-el-");return b.attr("id",c),c}function c(a,c,d){c.attr("aria-"+a,b(d))}function d(a){return"not all"===a.media||a.matches}function e(){var b=a.utils.store.get("highContrast");return null===b?!(d(window.matchMedia("not speech"))&&d(window.matchMedia("(monochrome: 0)"))&&d(window.matchMedia("(forced-colors: none)"))&&d(window.matchMedia("(inverted-colors: none)"))&&d(window.matchMedia("not (prefers-contrast: more)"))):!1!==b}function f(b){!0!==b&&!1!==b&&(b=e()),b?(b=!0,$("html").addClass("high-contrast")):($("html").removeClass("high-contrast"),b=!1),a.utils.store.set("highContrast",b),a.exercises.highContrastTheme(b),a.utils.store.set("highContrast",b)}return $(function(){$("a:empty").attr("aria-hidden","true"),f(),$(".btn-high-contrast").click(function(){f(!$("html").hasClass("high-contrast"))}),$(".examinr-question").each(function(){var a=$(this);a.find(".hide-label .control-label").addClass("sr-only"),c("labelledby",a,a.find(".card-header"))})}),{highContrastTheme:f,ariaAssociate:c,ariaLabelledBy:function(a,b){c("labelledby",a,b)},ariaDescribedBy:function(a,b){c("describedby",a,b)}}}(),a.status=function(){function b(){e&&e.length>0&&$("body").css("paddingTop",e.outerHeight())}function c(){var b=$(this),c=parseInt(b.text(),10);c&&!isNaN(c)?b.text(a.utils.formatDate(1e3*c)):b.text("")}function d(b,d,e,f,g,h,m){var n=k.children("button");i.html(b).find(".examinr-timestamp").each(c),j.html(d).find(".examinr-timestamp").each(c),"none"===e?k.hide():(n.text(f),"reload"===e?n.one("click",function(){window.location.reload()}):"trigger"===e&&g&&h&&n.one("click",function(){m?(a.utils.toggleShim($("body"),!0),window.setTimeout(function(){return $("#"+g).trigger(h)},m)):$("#"+g).trigger(h)})),a.utils.toggleShim($("body"),!1),l.attr("role","none"===e?"dialog":"errordialog").appendTo(document.body).one("hidden.bs.modal",function(){l.detach()}).modal({keyboard:!1,backdrop:"static",show:!0})}var e,f={},g="info",h=g,i=$('<h4 class="modal-title" id="'+a.utils.randomId("examinr-status-dialog-title-")+'">'),j=$('<div class="modal-body" id="'+a.utils.randomId("examinr-status-dialog-body-")+'">'),k=$('<div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal">Close</button></div>'),l=$('<div class="modal" tabindex="-1" role="alertdialog" aria-labelledby="'+i.attr("id")+'"aria-describedby="'+j.attr("id")+'"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"></div></div></div></div>'),m=$('<div class="lead" role="alert"></div>');return l.find(".modal-header").append(i),l.find(".modal-content").append(j).append(k),Shiny.addCustomMessageHandler("__.examinr.__-statusMessage",function(f){e.removeClass("alert-warning"),m.detach(),"error"===f.type?d(f.content.title,f.content.body,f.action,f.content.button,f.triggerId,f.triggerEvent,f.triggerDelay):"locked"===f.type?(d(f.content.title,f.content.body,"none",""),$("main").hide()):(m.html(f.content.body).find(".examinr-timestamp").each(c),a.utils.toggleShim($("body"),!1),e.removeClass("alert-info").addClass("warning"===f.type?"alert-warning":"alert-info").children(".col-center").append(m)),b()}),$(function(){a.utils.toggleShim($("body"),!0),e=$(".examinr-exam-status"),f=JSON.parse($("script.examinr-status-messages").remove().text()||"{}"),e.addClass("alert alert-"+h),b()}),{resetMessages:function(){m.detach(),l.detach(),e.removeClass("alert-warning alert-danger").addClass("alert-info"),b()},getMessage:function(a){return f[a]||null},setContext:function(a){a||(a=g),e.removeClass("alert-"+h).addClass("alert-"+a),h=a},append:function(a,c){switch(a=$(a),c){case"left":e.children(".col-left").append(a);break;case"right":e.children(".col-right").append(a);break;case"center":default:e.children(".col-center").append(a)}return b(),a},remove:function(a){a.remove(),b()},fixMainOffset:b,showErrorDialog:d}}(),a.attempt=function(){function b(a){return a>=10?a.toString(10):"0"+a.toString(10)}function c(){var i=f===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:f-new Date,j=h.find(".examinr-timer");if(!isNaN(i)&&i<Number.POSITIVE_INFINITY)if(i<1&&i>-1e3*(e.gracePeriod||1)&&(i=0),i>=0){var k=Math.floor(i/36e5),l=Math.floor(i%36e5/6e4),m=Math.floor(i%6e4/1e3);k>0?j.children(".hrs").removeClass("ignore").text(b(k)):j.children(".hrs").addClass("ignore").text("00"),j.children(".min").text(b(l)),k>0||l>=10?(j.children(".min").addClass("nosec"),j.children(".sec").hide()):(j.children(".min").removeClass("nosec"),j.children(".sec").show().text(b(m))),j.show(),g||(a.status.fixMainOffset(),g=!0),k>0||l>=12?d=window.setTimeout(c,6e4):(l<5?a.status.setContext("danger"):l<10&&a.status.setContext("warning"),d=window.setTimeout(c,1e3))}else{$("main").remove();var n=a.status.getMessage("attemptTimeout");a.status.showErrorDialog(n.title,n.body,"none")}else j.hide()}var d,e={},f=Number.POSITIVE_INFINITY,g=!1,h=$('<div class="examinr-progress" role="status"></div>');return Shiny.addCustomMessageHandler("__.examinr.__-attemptStatus",function(b){if(b.gracePeriod&&(e.gracePeriod=b.gracePeriod),b&&b.active){$("main").show().trigger("shown"),h.show(),0===b.timelimit||b.timelimit&&"Inf"!==b.timelimit||(b.timelimit=Number.POSITIVE_INFINITY);try{f=new Date(1e3*b.timelimit),d&&(window.clearTimeout(d),d=!1),c()}catch(a){window.console.warn("Cannot set timelimit for current attempt:",a),f=Number.POSITIVE_INFINITY}}else $("main").hide(),a.status.remove(h),a.status.setContext()}),$(function(){e=JSON.parse($("script.examinr-attempts-config").remove().text()||"{}");var b=a.status.getMessage("progress");if(b){var d=b.section.replace("{section_nr}",'<span class="examinr-section-nr">1</span>').replace("{total_sections}",'<span class="examinr-total-sections">'+(e.totalSections||1)+"</span>"),f=b.timer.replace("{time_left}",'<span class="examinr-timer" role="timer"><span class="hrs">??</span><span class="min">??</span><span class="sec"></span></span>');(e.progressive||e.haveTimelimit)&&(e.progressive&&e.haveTimelimit?h.html(b.combined.replace("{section}",d).replace("{timer}",f)):e.progressive?h.html(d):e.haveTimelimit&&h.html(f),a.status.append(h),c())}if(e.progressbar){var g=$('<div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="'+e.totalSections+'" style="min-width: 2em;"></div></div>');a.status.append(g)}}),{updateSection:function(a){!a||isNaN(a)||a<0||a>e.totalSections?h.hide():(h.show().find(".examinr-section-nr").text(a),e.progressbar&&h.find(".progress-bar").attr("aria-valuenow",a).width(Math.round(100*a/e.totalSections)+"%"))}}}(),a.feedback=function(){function b(a,b){b(),a.one("shiny:updateinput",function(){window.setTimeout(b,t)})}function c(){var b=$(this);a.utils.toggleShim($("body"),!0),Shiny.setInputValue("__.examinr.__-attemptSel",b.val()),b.children("option").filter(":selected").data("finishedat")?b.removeClass("is-not-finished"):b.addClass("is-not-finished")}function d(){var b=$(this);a.utils.toggleShim($("body"),!0),Shiny.setInputValue("__.examinr.__-gradingUserSel",b.val())}function e(b,c){var d=$("#"+v);if(d.length>0&&b&&b.length>0){var e=b.map(function(b){return'<option value="'+b.id+'" data-finishedat="'+(b.finishedAt||"")+'">'+(b.finishedAt?a.utils.formatDate(1e3*b.finishedAt):"Unfinished (started at "+a.utils.formatDate(1e3*b.startedAt)+")")+"</option>"}).join("");d.html(e).prop("disabled",b.length<2).removeClass("is-not-finished"),c&&(c.id&&d.val(c.id),c.finishedAt||d.addClass("is-not-finished"))}else d.prop("disabled",!0)}function f(a){var b=a.hasClass("card")?a:a.find(".card"),c=b.find(".card-footer");return 0===c.length?$('<div class="card-footer">').appendTo(b):c}function g(b){return a.utils.debounce(function(a){l&&Shiny.setInputValue("__.examinr.__-saveFeedback",{attempt:l,qid:b,points:a.points,comment:a.comment,maxPoints:a.maxPoints})},u)}function h(a){var b=$(this),c=b.parents(".examinr-question"),d=c.data("feedback"),e=parseFloat(b.val());b.val(e),isNaN(e)||(d.points=e,c.data("feedback",d),a.data.saveFeedback(d))}function i(a){var b=$(this),c=b.parents(".examinr-question"),d=c.data("feedback");d.comment=b.val(),a.data.saveFeedback(d),c.data("feedback",d)}function j(a){var b=$(this),c=b.parents(".examinr-question"),d=c.data("feedback"),e=c.find(".examinr-grading-comment"),f=$(this);e.filter(":visible").length>0?(e.hide(),f.find(".btn-label").html("+"),f.find(".sr-only").text(p),d.comment&&(d.hiddenComment=d.comment,d.comment=null,a.data.saveFeedback(d))):(e.show(),f.find(".btn-label").html("&times;"),f.find(".sr-only").text(q),d.hiddenComment&&(e.find("textarea").val(d.hiddenComment).focus(),d.hiddenComment=null)),c.data("feedback",d)}function k(b,c,d){var e=f(b);if(e.find(".examinr-grading-feedback").remove(),c.solution&&e.append('<div class="examinr-grading-feedback"><h6>'+a.status.getMessage("feedback").solutionLabel+"</h6><div>"+c.solution+"</div></div>"),d){if(0===b.find(".examinr-grading-points").length){var k=b.find(".examinr-points"),l=a.utils.randomId("examinr-pts-"),m=a.utils.randomId("examinr-comment-");k.parent().addClass("clearfix").append('<div class="input-group input-group-sm examinr-points examinr-grading-points"><label class="sr-only" for="'+l+'">Points</label><input type="number" class="form-control" id="'+l+'" step="any" required max="'+2*c.maxPoints+'" /><div class="input-group-append"><span class="input-group-text"><span class="sr-only"> out of </span><span class="examinr-points-outof">'+k.text()+'</span></span><button type="button" class="btn btn-secondary"><span class="btn-label" aria-hidden="true">'+(c.comment?"&times;":"+")+'</span><span class="sr-only">'+(c.comment?q:p)+"</span></button></div></div>"),k.remove(),e.append('<div class="input-group examinr-grading-comment"><div class="input-group-prepend"><label class="input-group-text" for="'+m+'">Comment</label></div><textarea class="form-control" id="'+m+'"></textarea></div>');var n={saveFeedback:g(c.qid)};b.find("#"+l).on("change",n,h),b.find("#"+m).on("change",n,i),b.find(".examinr-grading-points button").on("click",n,j),c.comment||e.find(".examinr-grading-comment").hide()}b.find(".examinr-grading-points input").val(c.points),b.data("feedback",c)}else{var o=b.find(".examinr-points");if(0===o.find(".examinr-points-awarded").length){var r=o.text();o.html('<span class="examinr-points-awarded"></span><span class="sr-only"> out of </span> <span class="examinr-points-outof">'+r+"</span>")}if(c.points||0===c.points){var s=c.points<=0?"danger":c.points>=c.maxPoints?"success":"secondary";o.removeClass("badge-secondary badge-info badge-success badge-danger").addClass("badge-"+s).find(".examinr-points-awarded").addClass("lead").text(c.points)}else o.removeClass("badge-secondary badge-info badge-success badge-danger").addClass("badge-info").find(".examinr-points-awarded").removeClass("lead").html("&mdash;")}d?c.comment?(b.find(".examinr-grading-points .btn .btn-label").html("&times;"),b.find(".examinr-grading-points .btn .sr-only").text(q),e.find(".examinr-grading-comment").show().find("textarea").val(c.comment)):(b.find(".examinr-grading-points .btn .btn-label").html("+"),b.find(".examinr-grading-points .btn .sr-only").text(p),e.find(".examinr-grading-comment").hide().find("textarea").val("")):c.comment&&e.append('<div class="text-muted examinr-grading-feedback"><h6>'+a.status.getMessage("feedback").commentLabel+"</h6><div>"+c.comment+"</div></div>"),a.utils.renderMathJax(e)}var l,m,n='<svg aria-label="correct" class="examinr-feedback-annotation" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>',o='<svg aria-label="incorrect" class="examinr-feedback-annotation" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/></svg>',p="Add comment",q="Remove comment",r=window.Intl.NumberFormat(void 0,{signDisplay:"never",style:"decimal",minimumSignificantDigits:1,maximumSignificantDigits:3}),s=[],t=250,u=250,v=a.utils.randomId("attempt-sel"),w=a.utils.randomId("user-sel");return Shiny.addCustomMessageHandler("__.examinr.__-feedback",function(b){if(a.utils.toggleShim($("body"),!1),a.status.resetMessages(),b.grading=!0===b.grading,!m)if($(".examinr-section-next").remove(),$("main").show(),a.sections.showAll(),a.status.append('<div class="input-group input-group-sm"><div class="input-group-prepend"><label class="input-group-text" for="'+v+'">'+a.status.getMessage("feedback").attemptLabel+'</label></div><select class="custom-select" id="'+v+'"></select></div>',"right").children("#"+v).change(c),b.grading){if(m=a.status.append('<div class="input-group input-group-sm"><div class="input-group-prepend"><button class="btn btn-secondary" type="button"><span aria-hidden="true">&lt;</span><span class="sr-only">Previous student</span></button><label class="input-group-text" for="'+w+'">User</label></div><select class="custom-select" id="'+w+'" disabled></select><div class="input-group-append"><button class="btn btn-secondary" type="button"><span aria-hidden="true">&gt;</span><span class="sr-only">Next Student</span></button></div></div>'),b.users&&b.users.length>0){var f=m.children("#"+w);f.prop("disabled",!1).change(d).append(b.users.map(function(a){return'<option value="'+a.id+'">'+(a.displayName||a.id)+"</option>"}).join(""))}}else m=a.status.append("<span></span>");e(b.allAttempts,b.attempt),b.attempt&&(l=b.attempt.id,b.attempt.userId&&m.find("select").val(b.attempt.userId));var g=Object.fromEntries(b.feedback.map(function(a){return[a.qid,a]})),h=0,i=0;$(".examinr-question").each(function(){for(var a=$(this),c=a.data("questionlabel"),d=0,e=s.length;d<e;d++)if(a.filter(s[d].selector).length>0)return s[d].callback(a,g[c]||{},b.grading),c in g?(h+=g[c].maxPoints||0,g[c].points||0===g[c].points?i+=g[c].points:i=NaN,delete g[c]):(h+=a.data("maxpoints")||0,i=NaN),!0;window.console.warn("No feedback renderer for question "+c)}),isNaN(i)&&(i="&mdash;"),b.grading||m.html(a.status.getMessage("feedback").status.replace("{awarded_points}",i).replace("{total_points}",h)),a.status.fixMainOffset()}),s.push({selector:".examinr-q-textquestion",callback:function(a,b,c){k(a,b,c),a.find(".shiny-input-container input,.shiny-input-container textarea").prop("readonly",!0).val(b.answer||"")}}),s.push({selector:".examinr-q-mcquestion",callback:function(a,c,d){var e=c.solution;c.solution=null,k(a,c,d),b(a,function(){a.find(".examinr-feedback-annotation").remove(),a.find(".shiny-input-container label").removeAttr("class");var b=a.find("input[type=checkbox],input[type=radio]");if(b.prop("disabled",!0).prop("checked",!1),c.answer&&c.answer.forEach(function(a){if(a.weight){var c=a.weight>0?"success":"danger",d=(a.weight>0?"+":"&minus;")+r.format(a.weight);b.filter('[value="'+a.value+'"]').prop("checked",!0).parent().append('<span class="examinr-feedback-annotation badge badge-pill badge-'+c+'">'+d+"</span>")}}),e){var d=new Set(e);b.each(function(){var a=$(this),b=a.parent();a.prop("checked")?d.has(a.val())?b.addClass("text-success").prepend(n):b.addClass("text-danger").prepend(o):d.has(a.val())?b.addClass("text-danger").prepend(o):b.addClass("text-muted").prepend(n)})}})}}),s.push({selector:".examinr-q-exercise",callback:function(b,c,d){var e=f(b);d&&0===e.children("hr").length&&e.append('<hr class="mb-3 mt-3" />');var g=c.solution;c.solution=null,k(b,c,d,d);var h=b.data("editor");h&&(d||h.setReadOnly(!0),h.getSession().setValue(c.answer||"\n")),d||(e.find(".examinr-run-button").remove(),e.find(".examinr-exercise-status").remove()),e.removeClass("alert alert-danger text-muted"),g&&e.append('<div class="examinr-grading-feedback"><h6>'+a.status.getMessage("feedback").solutionLabel+"</h6><pre><code>"+g+"</code></pre></div>")}}),{renderDefaultFeedback:k,registerFeedbackRenderer:function(a,b){s.unshift({selector:a,callback:b})}}}(),a.exercises=function(){function b(a,b){var c=ace.edit(a);return c.setHighlightActiveLine(!1),c.setShowPrintMargin(!1),c.setShowFoldWidgets(!1),c.setBehavioursEnabled(!0),c.renderer.setDisplayIndentGuides(!1),c.setTheme(i),c.$blockScrolling=1/0,c.session.setMode("ace/mode/r"),c.session.getSelection().clearSelection(),c.setValue(b,-1),c}function c(b,c){void 0===c&&(c=!j),a.utils.toggleShim(b,c),j=!1===c,$(".examinr-run-button").prop("disabled",!j)}function d(){var c=$(this),d=JSON.parse(c.children('script[type="application/json"]').detach().text()||"{}"),e="";c.children("pre").each(function(){e+=$(this).children("code").text()+"\n"}).remove();var h=e.split(/\r?\n/).length,i=d.lines?Math.max(1,d.lines):Math.min(Math.max(f,h),g);h<i&&(e+="\n".repeat(i-h));var j=d.inputId+"-editor",k=d.points?'<span class="examinr-points badge badge-secondary">'+d.points+"</span>":"",l=a.status.getMessage("exercise")||{},m=$('<div class="card"><h6 class="card-header">'+(d.title||"")+k+'</h6><div class="card-body"><div id="'+j+'" class="examinr-exercise-editor" role="textbox" contenteditable="true" aria-multiline="true" tabindex=0 ></div></div><div class="card-footer text-muted"><button type="button" class="btn btn-secondary btn-sm examinr-run-button float-right"><span class="icon"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-play-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/></svg></span>'+d.buttonLabel+'</button><div class="examinr-exercise-status">'+l.notYetRun+"</div></div></div>"),n=$('<div class="examinr-exercise-output card bg-light">'+(l.outputTitle?'<div class="card-header text-muted small">'+l.outputTitle+"</div>":"")+'<div class="card-body p-3" role="status"></div></div>'),o=c.find("#"+j);c.append(m).append(n),a.accessibility.ariaLabelledBy(c,m.find(".card-header")),a.accessibility.ariaAssociate("controls",m.find(".examinr-run-button"),n.find(".card-body")),o.attr("aria-label",d.inputLabel),o.children().attr("aria-hidden","true"),l.notYetRun?a.accessibility.ariaDescribedBy(m,c.find(".examinr-exercise-status")):c.find(".examinr-exercise-status").hide(),c.find(".examinr-exercise-output").hide();var p=c.find(".examinr-run-button"),q=function(){p.click()},r=b(j,e);r.setFontSize(.8125*parseFloat(c.find(".card-body").css("font-size"))),r.commands.addCommand({name:"run_rcode",bindKey:{win:"Ctrl+Enter",mac:"Command+Enter"},exec:q}),r.commands.addCommand({name:"run_rcode-shift",bindKey:{win:"Ctrl+Shift+Enter",mac:"Command+Shift+Enter"},exec:q});var s=function(){r.setOptions({minLines:i,maxLines:i})};s(),r.getSession().on("change",s),p.click(function(){r.focus()}),c.data({editor:r,options:d}),c.parents("section").on("shown",function(){r.resize(!0)})}function e(){var a=new Shiny.InputBinding;$.extend(a,{find:function(a){return $(a).find(".examinr-exercise")},getId:function(a){return $(a).data("options").inputId},subscribe:function(a,b){a=$(a),a.find(".examinr-run-button").on("click.examinrExerciseInputBinding",function(){j&&(a.data("sendData",!0),c(a.find(".examinr-exercise-output"),!0),b(!0))})},unsubscribe:function(a){$(a).find(".examinr-run-button").off(".examinrExerciseInputBinding")},getValue:function(a){return a=$(a),!0!==a.data("sendData")?null:(a.data("sendData",!1),{label:a.data("options").label,code:a.data("editor").getSession().getValue(),timestamp:(new Date).getTime()})},setValue:function(a,b){$(a).data("editor").getSession().setValue(b)}}),Shiny.inputBindings.register(a,"examinr.exerciseInputBinding");var b=new Shiny.OutputBinding;$.extend(b,{find:function(a){return $(a).find(".examinr-exercise")},getId:function(a){return $(a).data("options").outputId},renderValue:function(a,b){if(a=$(a),b.result){var d=a.find(".examinr-exercise-output").show().find(".card-body");d.html(b.result),d.find(".kable-table table").addClass("table table-striped table-sm")}else a.find(".examinr-exercise-output").hide();if(b.status){var e=b.status_class&&"info"!==b.status_class?"alert-"+b.status_class:"text-muted";a.find(".card-footer").removeClass("text-muted").removeClass("alert-success").removeClass("alert-warning").removeClass("alert-danger").addClass(e),a.find(".examinr-exercise-status").show().html(b.status)}else a.find(".examinr-exercise-status").hide().html("");c(a.find(".examinr-exercise-output"),!1)},renderError:function(a,b){a=$(a),c(a.find(".examinr-exercise-output"),!1),a.find(".examinr-exercise-output").hide(),a.find(".examinr-exercise-status").show().text(b.message)},clearError:function(a){a=$(a),c(a.find(".examinr-exercise-output"),!1),a.find(".examinr-exercise-output").hide(),a.find(".examinr-exercise-status").hide()}}),Shiny.outputBindings.register(b,"examinr.exerciseOutputBinding")}var f=5,g=20,h="ace/theme/monochrome",i=h,j=!0;return $(function(){$(".examinr-exercise").each(d),e()}),{highContrastTheme:function(a){i=a?h:"ace/theme/textmate",$(".examinr-exercise").each(function(){var a=$(this).data("editor");a&&a.setTheme(i)})}}}(),function(){function a(a){return g|(a.ctrlKey?h:0)|(a.altKey?i:0)|(a.metaKey?k:0)|(a.shiftKey?j:0)}function b(a){return a.completer&&a.completer.popup&&a.completer.popup.isOpen}function c(a,c,d,e,f){var g=c.getTextRange({start:{row:0,column:0},end:d}),h=b(a)?"value":"event";n=f,Shiny.setInputValue("__.examinr.__-autocomplete",{code:g,label:a.exerciseLabel},{priority:h})}function d(){var a=$(this);if(!0===a.data("options").autocomplete){var d=a.data("editor"),g=a.data("options"),h=function(){d.execCommand("startAutocomplete")},i=function(a){if(clearTimeout(f),a=a||{},"insert"===a.action&&a.lines&&a.lines.length&&!(a.lines.length>1)){var c=d.getCursorPosition(),e=d.session.getLine(c.row);if(!b(d)||/::$/.test(e)){var g=/[$@]$|::$/.test(e)?10:300;f=setTimeout(h,g)}}};d.on("change",i),d.on("destroy",function(){d.off(i)}),d.exerciseLabel=g.label,d.completers=d.completers||[],d.completers.push({getCompletions:c}),d.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!1}),d.keyBinding.addKeyboardHandler({handleKeyboard:e})}}function e(c,d,e,i,j){if(-1!==d&&c.editor){var k=a(j);if(i===m&&k===h||i===l&&k===g&&(!c.editor.completer||!c.editor.completer.activated))return clearTimeout(f),b(c.editor)?(c.editor.completer.popup.hide(),{command:"null"}):{command:"startAutocomplete"}}}var f,g=0,h=1,i=2,j=4,k=8,l=9,m=32,n=function(){},o={insertMatch:function(a,b){for(var c=a.selection.getAllRanges(),d=a.completer.completions.filterText.length,e=0;e<c.length;e++)c[e].start.column-=d,a.session.remove(c[e]);a.execCommand("insertstring",b.caption),b.is_function&&a.navigateLeft(1)}};Shiny.addCustomMessageHandler("__.examinr.__-autocomplete",function(a){var b=a.map(function(a){return a&&a[1]?{caption:a[1]+(a[2]?"()":""),value:a[1],score:0,meta:a[0]?"{"+a[0]+"}":"",is_function:a[2],completer:o}:null}).filter(function(a){return a});n(null,b)}),$(function(){$(".examinr-exercise").each(d)})}(),a.sections=function(){function b(){a.utils.toggleShim($("body"),!1)}var c,d,e=250,f={};return Shiny.addCustomMessageHandler("__.examinr.__-sectionChange",function(d){if(d){!0===d.feedback&&(window.location.search="?display=feedback"),c&&c.length>0?c.removeAttr("role").hide():d.id&&$("section.level1").hide(),f=d,c=$("#"+f.id).parent().show().attr("role","main").trigger("shown");var g=c.find(".shiny-bound-output"),h=g.length;if(h>0){var i=window.setTimeout(b,e);g.one("shiny:recalculated",function(){--h,h<=0?b():(window.clearTimeout(i),i=window.setTimeout(b,e))})}else b();a.status.resetMessages(),d.order&&a.attempt.updateSection(d.order)}}),$(function(){var b=JSON.parse($("script.examinr-sections-config").remove().text()||"{}");d=$("section.level1"),d.each(function(){var b=$(this);a.accessibility.ariaLabelledBy(b,b.children("h1"))}),$(".examinr-section-next").click(function(){a.utils.toggleShim($("body"),!0)}),b.progressive?(d.hide(),b.hideLastSection&&($("section.level1:last .examinr-section-next").remove(),d=d.slice(0,-1))):($(".examinr-section-next").hide(),a.accessibility.ariaLabelledBy($("main"),$("h1.title")),b.hideLastSection&&(d.last().hide(),d=d.slice(0,-1),d.last().find(".examinr-section-next").show()))}),{showAll:function(){d.show().trigger("shown")}}}(),a.grading=function(){function b(a,b){a.data("gradingData",b),b.feedbackShown||(b.feedback=null),Shiny.setInputValue("__.examinr.__-gradingData",b)}function c(){var c=$(this),d=c.parents(".examinr-question"),e=d.data("grading")||{};if(e.feedbackShown)c.children(".btn-label").text("+"),c.children(".sr-only").text("Add comment"),d.data("feedbackShown",!1).find(".examinr-grading-feedback").remove();else{c.children(".btn-label").html("&times;"),c.children(".sr-only").text("Remove comment");var f=d.find(".card-footer");0===f.length&&(f=$('<div class="card-footer">'),f.appendTo(d.hasClass("card")?d:d.find(".card"))),d.data("feedbackShown",!0);var g=a.utils.randomId("comment-");f.append('<div class="input-group examinr-grading-feedback"><div class="input-group-prepend"><label class="input-group-text" for="'+g+'">'+a.status.getMessage("feedback").commentLabel+'</label></div><textarea class="form-control" id="'+g+'">'+(e.feedback||"")+"</textarea></div>"),d.find(".examinr-grading-feedback textarea").on("change",function(){var a=d.data("grading")||{};a.feedback=$(this).val(),b(d,a)})}e.feedbackShown=!e.feedbackShown,b(d,e)}function d(){var b=$(this),d=b.data("grading")||{},e=b.find(".examinr-points"),f=e.parent(),g=e.remove().text();d.maxPoints||(d.maxPoints=parseFloat(b.data("maxPoints"))||1);var h=$('<input type="number" class="form-control" />').attr("max",d.maxPoints).attr("id",a.utils.randomId()),i=d.feedbackShown?"&times;":"+",j=d.feedbackShown?"Remove feedback":"Add feedback";f.addClass("clearfix").append('<div class="input-group input-group-sm examinr-points"><label class="sr-only" for="'+h.attr("id")+'">Points</label><div class="input-group-append"><span class="input-group-text">/ '+g+'</span><button type="button" class="btn btn-secondary"><span class="btn-label" aria-hidden="true">'+i+'</span><span class="sr-only">'+j+"</span></button></div></div>").find(".input-group").prepend(h),b.data("grading",d),f.find(".btn").click(c),a.utils.disableNumberInputDefaults(h)}function e(){a.status.disableProgress();var b=a.status.statusContainer(),c=a.utils.randomId("student-name"),e=a.utils.randomId("attempt");b.append('<form class="form-inline examinr-grading-attempt"><div class="input-group input-group-sm"><div class="input-group-prepend"><button class="btn btn-secondary" type="button"><span aria-hidden="true">&lt;</span><span class="sr-only">Previous student</span></button></div><label class="sr-only" for="'+c+'">Student</label><input type="text" id="'+c+'" class="form-control" placeholder="Student" /><span class="input-group-append"><button class="btn btn-secondary" type="button"><span aria-hidden="true">&gt;</span><span class="sr-only">Next Student</span></button></span></div><div class="input-group input-group-sm"><label class="sr-only" for="'+e+'">Attempt</label><select id="'+e+'" class="form-control" disabled></select></div></form>'),a.status.fixMainOffset(),$(".examinr-question").each(d)}return{startGrading:e}}(),ace.define("ace/theme/monochrome",["require","exports","module","ace/lib/dom"],function(a,b,c){b.isDark=!1,b.cssClass="ace-monochrome",b.cssText='.ace-monochrome .ace_gutter{background:#000;color:#fff}.ace-monochrome.ace_print-margin{width:2px;background:#999}.ace-monochrome .ace_editor{background-color:#fff;color:#000}.ace-monochrome .ace_cursor{color:#000;border:0;border-right:0;border-left:.5em solid #000}.ace-monochrome .ace_marker-layer .ace_selection{background:#777}.ace-monochrome.ace_multiselect .ace_selection.ace_start{border-radius:2px}.ace-monochrome .ace_marker-layer .ace_step{background:#000}.ace-monochrome .ace_marker-layer .ace_bracket{margin:0;border:2px solid #d55e00}.ace-monochrome .ace_marker-layer .ace_active-line{background:transparent;border:2px solid #d55e00}.ace-monochrome .ace_gutter-active-line{background:#000}.ace-monochrome .ace_marker-layer .ace_selected-word{border:2px dashed #d55e00}.ace-monochrome .ace_invisible{color:#fff}.ace-monochrome .ace_comment,.ace-monochrome .ace_constant.ace_language{font-style:italic;color:#444}.ace-monochrome .ace_indent-guide{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC") right repeat-y}.ace_layer{z-index:3}.ace_layer.ace_print-margin-layer{z-index:2}.ace_layer.ace_marker-layer{z-index:1}.ace_editor.ace_autocomplete{background:#ccc;border:solid 2px #000 !important;color:#000}.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line,.ace_editor.ace_autocomplete .ace_marker-layer .ace_line-hover{background:#fff;border:0;border:2px dashed #d55e00}',a("../lib/dom").importCssString(b.cssText,b.cssClass)}),function(b,d){"object"===(void 0===a?"undefined":c(a))&&"undefined"!=typeof module?module.exports=d(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],d):(b="undefined"!=typeof globalThis?globalThis:b||self,b.Util=d(b.jQuery))}(void 0,function(a){function b(a){return a&&"object"===c(a)&&"default"in a?a:{default:a}}function d(a){return null===a||void 0===a?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase()}function e(){return{bindType:i,delegateType:i,handle:function(a){if(h.default(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}}}function f(a){var b=this,c=!1;return h.default(this).one(l.TRANSITION_END,function(){c=!0}),setTimeout(function(){c||l.triggerTransitionEnd(b)},a),this}function g(){h.default.fn.emulateTransitionEnd=f,h.default.event.special[l.TRANSITION_END]=e()}var h=b(a),i="transitionend",j=1e6,k=1e3,l={TRANSITION_END:"bsTransitionEnd",getUID:function(a){do{a+=~~(Math.random()*j)}while(document.getElementById(a));return a},getSelectorFromElement:function(a){var b=a.getAttribute("data-target");if(!b||"#"===b){var c=a.getAttribute("href");b=c&&"#"!==c?c.trim():""}try{return document.querySelector(b)?b:null}catch(a){return null}},getTransitionDurationFromElement:function(a){if(!a)return 0;var b=h.default(a).css("transition-duration"),c=h.default(a).css("transition-delay"),d=parseFloat(b),e=parseFloat(c);return d||e?(b=b.split(",")[0],c=c.split(",")[0],(parseFloat(b)+parseFloat(c))*k):0},reflow:function(a){return a.offsetHeight},triggerTransitionEnd:function(a){h.default(a).trigger(i)},supportsTransitionEnd:function(){return Boolean(i)},isElement:function(a){return(a[0]||a).nodeType},typeCheckConfig:function(a,b,c){for(var e in c)if(Object.prototype.hasOwnProperty.call(c,e)){var f=c[e],g=b[e],h=g&&l.isElement(g)?"element":d(g);if(!new RegExp(f).test(h))throw new Error(a.toUpperCase()+': Option "'+e+'" provided type "'+h+'" but expected type "'+f+'".')}},findShadowRoot:function(a){if(!document.documentElement.attachShadow)return null;if("function"==typeof a.getRootNode){var b=a.getRootNode();return b instanceof ShadowRoot?b:null}return a instanceof ShadowRoot?a:a.parentNode?l.findShadowRoot(a.parentNode):null},jQueryDetection:function(){if(void 0===h.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var a=h.default.fn.jquery.split(" ")[0].split("."),b=9;if(a[0]<2&&a[1]<b||1===a[0]&&a[1]===b&&a[2]<1||a[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};return l.jQueryDetection(),g(),l}),function(b,d){"object"===(void 0===a?"undefined":c(a))&&"undefined"!=typeof module?module.exports=d(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],d):(b="undefined"!=typeof globalThis?globalThis:b||self,b.Modal=d(b.jQuery,b.Util))}(void 0,function(a,b){function d(a){return a&&"object"===c(a)&&"default"in a?a:{default:a}}function e(){return e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e.apply(this,arguments)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}var h=d(a),i=d(b),j="modal",k="4.5.3",l="bs.modal",m="."+l,n=".data-api",o=h.default.fn[j],p=27,q={backdrop:!0,keyboard:!0,focus:!0,show:!0},r={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},s="hide"+m,t="hidePrevented"+m,u="hidden"+m,v="show"+m,w="shown"+m,x="focusin"+m,y="resize"+m,z="click.dismiss"+m,A="keydown.dismiss"+m,B="mouseup.dismiss"+m,C="mousedown.dismiss"+m,D="click"+m+n,E="modal-dialog-scrollable",F="modal-scrollbar-measure",G="modal-backdrop",H="modal-open",I="fade",J="show",K="modal-static",L=".modal-dialog",M=".modal-body",N='[data-dismiss="modal"]',O=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",P=".sticky-top",Q=function(){function a(a,b){this._config=this._getConfig(b),this._element=a,this._dialog=a.querySelector(L),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var b=a.prototype;return b.toggle=function(a){return this._isShown?this.hide():this.show(a)},b.show=function(a){var b=this;if(!this._isShown&&!this._isTransitioning){h.default(this._element).hasClass(I)&&(this._isTransitioning=!0);var c=h.default.Event(v,{relatedTarget:a});h.default(this._element).trigger(c),this._isShown||c.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),h.default(this._element).on(z,N,function(a){return b.hide(a)}),h.default(this._dialog).on(C,function(){h.default(b._element).one(B,function(a){h.default(a.target).is(b._element)&&(b._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return b._showElement(a)}))}},b.hide=function(a){var b=this;if(a&&a.preventDefault(),this._isShown&&!this._isTransitioning){var c=h.default.Event(s);if(h.default(this._element).trigger(c),this._isShown&&!c.isDefaultPrevented()){this._isShown=!1;var d=h.default(this._element).hasClass(I);if(d&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),h.default(document).off(x),h.default(this._element).removeClass(J),h.default(this._element).off(z),h.default(this._dialog).off(C),d){var e=i.default.getTransitionDurationFromElement(this._element);h.default(this._element).one(i.default.TRANSITION_END,function(a){return b._hideModal(a)}).emulateTransitionEnd(e)}else this._hideModal()}}},b.dispose=function(){[window,this._element,this._dialog].forEach(function(a){return h.default(a).off(m)}),h.default(document).off(x),h.default.removeData(this._element,l),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},b.handleUpdate=function(){this._adjustDialog()},b._getConfig=function(a){return a=e({},q,a),i.default.typeCheckConfig(j,a,r),a},b._triggerBackdropTransition=function(){var a=this;if("static"===this._config.backdrop){var b=h.default.Event(t);if(h.default(this._element).trigger(b),b.isDefaultPrevented())return;var c=this._element.scrollHeight>document.documentElement.clientHeight;c||(this._element.style.overflowY="hidden"),this._element.classList.add(K);var d=i.default.getTransitionDurationFromElement(this._dialog);h.default(this._element).off(i.default.TRANSITION_END),h.default(this._element).one(i.default.TRANSITION_END,function(){a._element.classList.remove(K),c||h.default(a._element).one(i.default.TRANSITION_END,function(){a._element.style.overflowY=""}).emulateTransitionEnd(a._element,d)}).emulateTransitionEnd(d),this._element.focus()}else this.hide()},b._showElement=function(a){var b=this,c=h.default(this._element).hasClass(I),d=this._dialog?this._dialog.querySelector(M):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),h.default(this._dialog).hasClass(E)&&d?d.scrollTop=0:this._element.scrollTop=0,c&&i.default.reflow(this._element),h.default(this._element).addClass(J),this._config.focus&&this._enforceFocus();var e=h.default.Event(w,{relatedTarget:a}),f=function(){b._config.focus&&b._element.focus(),b._isTransitioning=!1,h.default(b._element).trigger(e)};if(c){var g=i.default.getTransitionDurationFromElement(this._dialog);h.default(this._dialog).one(i.default.TRANSITION_END,f).emulateTransitionEnd(g)}else f()},b._enforceFocus=function(){var a=this;h.default(document).off(x).on(x,function(b){document!==b.target&&a._element!==b.target&&0===h.default(a._element).has(b.target).length&&a._element.focus()})},b._setEscapeEvent=function(){var a=this;this._isShown?h.default(this._element).on(A,function(b){a._config.keyboard&&b.which===p?(b.preventDefault(),a.hide()):a._config.keyboard||b.which!==p||a._triggerBackdropTransition()}):this._isShown||h.default(this._element).off(A)},b._setResizeEvent=function(){var a=this;this._isShown?h.default(window).on(y,function(b){return a.handleUpdate(b)}):h.default(window).off(y)},b._hideModal=function(){var a=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){h.default(document.body).removeClass(H),a._resetAdjustments(),a._resetScrollbar(),h.default(a._element).trigger(u)})},b._removeBackdrop=function(){this._backdrop&&(h.default(this._backdrop).remove(),this._backdrop=null)},b._showBackdrop=function(a){var b=this,c=h.default(this._element).hasClass(I)?I:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=G,c&&this._backdrop.classList.add(c),h.default(this._backdrop).appendTo(document.body),h.default(this._element).on(z,function(a){if(b._ignoreBackdropClick)return void(b._ignoreBackdropClick=!1);a.target===a.currentTarget&&b._triggerBackdropTransition()}),c&&i.default.reflow(this._backdrop),h.default(this._backdrop).addClass(J),!a)return;if(!c)return void a();var d=i.default.getTransitionDurationFromElement(this._backdrop);h.default(this._backdrop).one(i.default.TRANSITION_END,a).emulateTransitionEnd(d)}else if(!this._isShown&&this._backdrop){h.default(this._backdrop).removeClass(J);var e=function(){b._removeBackdrop(),a&&a()};if(h.default(this._element).hasClass(I)){var f=i.default.getTransitionDurationFromElement(this._backdrop);h.default(this._backdrop).one(i.default.TRANSITION_END,e).emulateTransitionEnd(f)}else e()}else a&&a()},b._adjustDialog=function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!a&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},b._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},b._checkScrollbar=function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(a.left+a.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},b._setScrollbar=function(){var a=this;if(this._isBodyOverflowing){var b=[].slice.call(document.querySelectorAll(O)),c=[].slice.call(document.querySelectorAll(P));h.default(b).each(function(b,c){var d=c.style.paddingRight,e=h.default(c).css("padding-right");h.default(c).data("padding-right",d).css("padding-right",parseFloat(e)+a._scrollbarWidth+"px")}),h.default(c).each(function(b,c){var d=c.style.marginRight,e=h.default(c).css("margin-right");h.default(c).data("margin-right",d).css("margin-right",parseFloat(e)-a._scrollbarWidth+"px")});var d=document.body.style.paddingRight,e=h.default(document.body).css("padding-right");h.default(document.body).data("padding-right",d).css("padding-right",parseFloat(e)+this._scrollbarWidth+"px")}h.default(document.body).addClass(H)},b._resetScrollbar=function(){var a=[].slice.call(document.querySelectorAll(O));h.default(a).each(function(a,b){var c=h.default(b).data("padding-right");h.default(b).removeData("padding-right"),b.style.paddingRight=c||""});var b=[].slice.call(document.querySelectorAll(""+P));h.default(b).each(function(a,b){var c=h.default(b).data("margin-right");void 0!==c&&h.default(b).css("margin-right",c).removeData("margin-right")});var c=h.default(document.body).data("padding-right");h.default(document.body).removeData("padding-right"),document.body.style.paddingRight=c||""},b._getScrollbarWidth=function(){var a=document.createElement("div");a.className=F,document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),b},a._jQueryInterface=function(b,d){return this.each(function(){var f=h.default(this).data(l),g=e({},q,h.default(this).data(),"object"===c(b)&&b?b:{});if(f||(f=new a(this,g),h.default(this).data(l,f)),"string"==typeof b){if(void 0===f[b])throw new TypeError('No method named "'+b+'"');f[b](d)}else g.show&&f.show(d)})},g(a,null,[{key:"VERSION",get:function(){return k}},{key:"Default",get:function(){return q}}]),a}();return h.default(document).on(D,'[data-toggle="modal"]',function(a){var b,c=this,d=i.default.getSelectorFromElement(this);d&&(b=document.querySelector(d));var f=h.default(b).data(l)?"toggle":e({},h.default(b).data(),h.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||a.preventDefault();var g=h.default(b).one(v,function(a){a.isDefaultPrevented()||g.one(u,function(){h.default(c).is(":visible")&&c.focus()})});Q._jQueryInterface.call(h.default(b),f,this)}),h.default.fn[j]=Q._jQueryInterface,h.default.fn[j].Constructor=Q,h.default.fn[j].noConflict=function(){return h.default.fn[j]=o,Q._jQueryInterface},Q}),b.Exam=a}({},function(){return this}());
//# sourceMappingURL=exam.min.js.map